@import "tailwindcss";

@theme {
  /* Colors - Automatically creates bg-theme-main, text-theme-main, etc. */
  --color-theme-main: var(--color-bg-main);
  --color-theme-panel: var(--color-bg-panel);
  --color-theme-text: var(--color-text-main);
  --color-theme-muted: var(--color-text-muted);
  --color-theme-accent: var(--color-accent);
  --color-theme-border: var(--color-border);

  /* Animations */
  --animate-typing: typing 1s infinite ease-in-out;
  --animate-shake: shake 0.5s cubic-bezier(.36, .07, .19, .97) both;
  --animate-spin-slow: spin 3s linear infinite;

  /* Keyframes */
  @keyframes typing {
    0%, 100% {
      transform: translateY(0);
      opacity: 0.5;
    }
    50% {
      transform: translateY(-4px);
      opacity: 1;
    }
  }

  --color-text-main: #d4d4d8;
  --color-text-muted: #71717a;
  --color-accent: #4f46e5;
  --color-border: #27272a;
}

.delay-200 {
  animation-delay: 200ms;
}

.delay-300 {
  animation-delay: 300ms;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-main);
}

::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-text-muted);
}

/* Explicit Theme Utilities */
.bg-theme-main {
  background-color: var(--color-bg-main);
}

.bg-theme-panel {
  background-color: var(--color-bg-panel);
}

.text-theme-text {
  color: var(--color-text-main);
}

.text-theme-muted {
  color: var(--color-text-muted);
}

.bg-theme-accent {
  background-color: var(--color-accent);
}

.text-theme-accent {
  color: var(--color-accent);
}

.border-theme-border {
  border-color: var(--color-border);
}

.border-theme-accent {
  border-color: var(--color-accent);
}

/* Special utility for transparent accent border using color-mix */
.border-theme-accent-transparent {
  border-color: color-mix(in srgb, var(--color-accent), transparent 50%);
}

/* Special utility for transparent accent ring using color-mix */
.ring-theme-accent-transparent {
  --tw-ring-color: color-mix(in srgb, var(--color-accent), transparent 50%);
}

/* --- 3D DICE STYLES --- */
:root {
  --dice-size: 120px;
  --dice-offset: 60px; /* Half of size */
}

@media (min-width: 768px) {
  :root {
    --dice-size: 160px;
    --dice-offset: 80px;
  }
}

.scene {
  width: var(--dice-size);
  height: var(--dice-size);
  perspective: 800px;
  position: relative;
}

.cube {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 1.5s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.dice-face {
  position: absolute;
  width: var(--dice-size);
  height: var(--dice-size);
  backface-visibility: hidden;
  border-radius: 12px;
  display: flex;
  flex-wrap: wrap;
  padding: 10%;
  justify-content: center;
  align-items: center;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
}

/* THEME: SCIFI (Default) */
.dice-theme-scifi .dice-face {
  background: rgba(10, 10, 20, 0.9);
  border: 2px solid #4f46e5; /* Indigo-600 */
  box-shadow: 0 0 15px rgba(79, 70, 229, 0.5), inset 0 0 20px rgba(79, 70, 229, 0.2);
}
.dice-theme-scifi .pip {
  background: #00f0ff; /* Cyan */
  box-shadow: 0 0 8px #00f0ff;
  border-radius: 50%;
}

/* THEME: HORROR */
[data-theme='scifi'] {
  --color-bg-main: #09090b;
  --color-bg-panel: #18181b;
  --color-text-main: #e4e4e7;
  --color-text-muted: #a1a1aa;
  --color-accent: #6366f1; /* Indigo-500 */
  --color-border: #27272a;
}
.dice-theme-scifi .dice-face {
  background: rgba(10, 10, 20, 0.9);
  border: 2px solid #6366f1;
  box-shadow: 0 0 15px rgba(99, 102, 241, 0.5), inset 0 0 20px rgba(99, 102, 241, 0.2);
}
.dice-theme-scifi .pip {
  background: #00f0ff;
  box-shadow: 0 0 8px #00f0ff;
}

/* 2. HORROR */
[data-theme='horror'] {
  --color-bg-main: #0f0505;
  --color-bg-panel: #2a0a0a;
  --color-text-main: #e5e5e5;
  --color-text-muted: #a8a29e;
  --color-accent: #dc2626; /* Red-600 */
  --color-border: #450a0a;
}
.dice-theme-horror .dice-face {
  background: #1a0505;
  border: 1px solid #7f1d1d;
  box-shadow: inset 0 0 40px rgba(0,0,0,0.8);
}
.dice-theme-horror .pip {
  background: #ef4444;
  box-shadow: 0 0 5px #7f1d1d;
  border-radius: 2px; /* Jagged look */
}

/* 3. ROMANCE */
[data-theme='romance'] {
  --color-bg-main: #fff1f2;
  --color-bg-panel: #ffe4e6;
  --color-text-main: #881337;
  --color-text-muted: #be123c;
  --color-accent: #f43f5e; /* Rose-500 */
  --color-border: #fecdd3;
}
.dice-theme-romance .dice-face {
  background: #fff0f5;
  border: 2px solid #f43f5e;
  box-shadow: 0 0 10px rgba(244, 63, 94, 0.3);
}
.dice-theme-romance .pip {
  background: #fb7185;
  border-radius: 50%;
  box-shadow: 0 0 2px #f43f5e;
}

/* 4. FANTASY */
[data-theme='fantasy'] {
  --color-bg-main: #052e16;
  --color-bg-panel: #064e3b;
  --color-text-main: #ecfccb;
  --color-text-muted: #a3e635;
  --color-accent: #fbbf24; /* Amber-400 */
  --color-border: #14532d;
}
.dice-theme-fantasy .dice-face {
  background: #064e3b;
  border: 2px solid #fbbf24;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.4);
}
.dice-theme-fantasy .pip {
  background: #fbbf24;
  box-shadow: 0 0 5px #d97706;
}

/* 5. SLICE OF LIFE */
[data-theme='slice_of_life'] {
  --color-bg-main: #fffbeb;
  --color-bg-panel: #fef3c7;
  --color-text-main: #78350f;
  --color-text-muted: #b45309;
  --color-accent: #f59e0b; /* Amber-500 */
  --color-border: #fde68a;
}
.dice-theme-slice_of_life .dice-face {
  background: #fff8dc;
  border: 2px solid #f59e0b;
}
.dice-theme-slice_of_life .pip {
  background: #d97706;
}

/* 6. ISEKAI */
[data-theme='isekai'] {
  --color-bg-main: #1e1b4b;
  --color-bg-panel: #312e81;
  --color-text-main: #e0e7ff;
  --color-text-muted: #818cf8;
  --color-accent: #8b5cf6; /* Violet-500 */
  --color-border: #4338ca;
}
.dice-theme-isekai .dice-face {
  background: #312e81;
  border: 2px solid #8b5cf6;
  box-shadow: 0 0 15px rgba(139, 92, 246, 0.4);
}
.dice-theme-isekai .pip {
  background: #c4b5fd;
  box-shadow: 0 0 8px #8b5cf6;
}

/* 7. MYTHOLOGY */
[data-theme='mythology'] {
  --color-bg-main: #271a0c; /* Dark Bronze */
  --color-bg-panel: #451a03;
  --color-text-main: #fef3c7;
  --color-text-muted: #d97706;
  --color-accent: #fcd34d; /* Amber-300 */
  --color-border: #78350f;
}
.dice-theme-mythology .dice-face {
  background: #451a03;
  border: 2px solid #fcd34d;
  box-shadow: inset 0 0 15px rgba(0,0,0,0.5);
}
.dice-theme-mythology .pip {
  background: #fffbeb;
  box-shadow: 0 0 5px #fcd34d;
}

/* 8. WILD WEST */
[data-theme='wild_west'] {
  --color-bg-main: #291d16; /* Leather */
  --color-bg-panel: #431407;
  --color-text-main: #ffedd5;
  --color-text-muted: #fdba74;
  --color-accent: #ea580c; /* Orange-600 */
  --color-border: #7c2d12;
}
.dice-theme-wild_west .dice-face {
  background: #3f2e26;
  border: 2px dashed #ea580c;
}
.dice-theme-wild_west .pip {
  background: #fed7aa;
}

/* 9. DARK */
[data-theme='dark'] {
  --color-bg-main: #000000;
  --color-bg-panel: #171717;
  --color-text-main: #d4d4d4;
  --color-text-muted: #525252;
  --color-accent: #ffffff; /* White */
  --color-border: #262626;
}
.dice-theme-dark .dice-face {
  background: #171717;
  border: 1px solid #525252;
}
.dice-theme-dark .pip {
  background: #ffffff;
}

/* 10. COMEDY */
[data-theme='comedy'] {
  --color-bg-main: #fdf2f8;
  --color-bg-panel: #fce7f3;
  --color-text-main: #db2777;
  --color-text-muted: #ec4899;
  --color-accent: #facc15; /* Yellow-400 */
  --color-border: #fbcfe8;
}
.dice-theme-comedy .dice-face {
  background: #fce7f3;
  border: 3px solid #facc15;
}
.dice-theme-comedy .pip {
  background: #db2777;
  border-radius: 50%;
}

/* 11. WORLD WAR */
[data-theme='world_war'] {
  --color-bg-main: #1c1917;
  --color-bg-panel: #292524;
  --color-text-main: #a8a29e;
  --color-text-muted: #57534e;
  --color-accent: #65a30d; /* Lime-600 */
  --color-border: #44403c;
}
.dice-theme-world_war .dice-face {
  background: #292524;
  border: 2px solid #65a30d;
  box-shadow: inset 0 0 10px rgba(0,0,0,0.8);
}
.dice-theme-world_war .pip {
  background: #d9f99d;
}

/* 12. SURREAL */
[data-theme='surreal'] {
  --color-bg-main: #2e1065;
  --color-bg-panel: #4c1d95;
  --color-text-main: #f0abfc;
  --color-text-muted: #c084fc;
  --color-accent: #e879f9; /* Fuchsia-400 */
  --color-border: #7e22ce;
}
.dice-theme-surreal .dice-face {
  background: #4c1d95;
  border: 2px solid #e879f9;
  box-shadow: 0 0 20px rgba(232, 121, 249, 0.6);
}
.dice-theme-surreal .pip {
  background: #fae8ff;
  box-shadow: 0 0 10px #e879f9;
}

/* TRANSFORMASI SISI DADU */
.face-front  { transform: rotateY(0deg) translateZ(var(--dice-offset)); }
.face-back   { transform: rotateY(180deg) translateZ(var(--dice-offset)); }
.face-right  { transform: rotateY(90deg) translateZ(var(--dice-offset)); }
.face-left   { transform: rotateY(-90deg) translateZ(var(--dice-offset)); }
.face-top    { transform: rotateX(90deg) translateZ(var(--dice-offset)); }
.face-bottom { transform: rotateX(-90deg) translateZ(var(--dice-offset)); }