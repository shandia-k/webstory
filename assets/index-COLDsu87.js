(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))d(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function a(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(f){if(f.ep)return;f.ep=!0;const p=a(f);fetch(f.href,p)}})();function Bf(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Xs={exports:{}},Dr={},qs={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wu;function Hf(){if(Wu)return ue;Wu=1;var s=Symbol.for("react.element"),c=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),y=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),T=Symbol.iterator;function C(v){return v===null||typeof v!="object"?null:(v=T&&v[T]||v["@@iterator"],typeof v=="function"?v:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,M={};function G(v,w,re){this.props=v,this.context=w,this.refs=M,this.updater=re||U}G.prototype.isReactComponent={},G.prototype.setState=function(v,w){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,w,"setState")},G.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function se(){}se.prototype=G.prototype;function ae(v,w,re){this.props=v,this.context=w,this.refs=M,this.updater=re||U}var ie=ae.prototype=new se;ie.constructor=ae,b(ie,G.prototype),ie.isPureReactComponent=!0;var F=Array.isArray,te=Object.prototype.hasOwnProperty,de={current:null},oe={key:!0,ref:!0,__self:!0,__source:!0};function ge(v,w,re){var $,J={},V=null,q=null;if(w!=null)for($ in w.ref!==void 0&&(q=w.ref),w.key!==void 0&&(V=""+w.key),w)te.call(w,$)&&!oe.hasOwnProperty($)&&(J[$]=w[$]);var Z=arguments.length-2;if(Z===1)J.children=re;else if(1<Z){for(var ce=Array(Z),ne=0;ne<Z;ne++)ce[ne]=arguments[ne+2];J.children=ce}if(v&&v.defaultProps)for($ in Z=v.defaultProps,Z)J[$]===void 0&&(J[$]=Z[$]);return{$$typeof:s,type:v,key:V,ref:q,props:J,_owner:de.current}}function _e(v,w){return{$$typeof:s,type:v.type,key:w,ref:v.ref,props:v.props,_owner:v._owner}}function Ie(v){return typeof v=="object"&&v!==null&&v.$$typeof===s}function be(v){var w={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(re){return w[re]})}var Ce=/\/+/g;function Re(v,w){return typeof v=="object"&&v!==null&&v.key!=null?be(""+v.key):w.toString(36)}function je(v,w,re,$,J){var V=typeof v;(V==="undefined"||V==="boolean")&&(v=null);var q=!1;if(v===null)q=!0;else switch(V){case"string":case"number":q=!0;break;case"object":switch(v.$$typeof){case s:case c:q=!0}}if(q)return q=v,J=J(q),v=$===""?"."+Re(q,0):$,F(J)?(re="",v!=null&&(re=v.replace(Ce,"$&/")+"/"),je(J,w,re,"",function(ne){return ne})):J!=null&&(Ie(J)&&(J=_e(J,re+(!J.key||q&&q.key===J.key?"":(""+J.key).replace(Ce,"$&/")+"/")+v)),w.push(J)),1;if(q=0,$=$===""?".":$+":",F(v))for(var Z=0;Z<v.length;Z++){V=v[Z];var ce=$+Re(V,Z);q+=je(V,w,re,ce,J)}else if(ce=C(v),typeof ce=="function")for(v=ce.call(v),Z=0;!(V=v.next()).done;)V=V.value,ce=$+Re(V,Z++),q+=je(V,w,re,ce,J);else if(V==="object")throw w=String(v),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.");return q}function Le(v,w,re){if(v==null)return v;var $=[],J=0;return je(v,$,"","",function(V){return w.call(re,V,J++)}),$}function xe(v){if(v._status===-1){var w=v._result;w=w(),w.then(function(re){(v._status===0||v._status===-1)&&(v._status=1,v._result=re)},function(re){(v._status===0||v._status===-1)&&(v._status=2,v._result=re)}),v._status===-1&&(v._status=0,v._result=w)}if(v._status===1)return v._result.default;throw v._result}var me={current:null},P={transition:null},W={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:P,ReactCurrentOwner:de};function D(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:Le,forEach:function(v,w,re){Le(v,function(){w.apply(this,arguments)},re)},count:function(v){var w=0;return Le(v,function(){w++}),w},toArray:function(v){return Le(v,function(w){return w})||[]},only:function(v){if(!Ie(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},ue.Component=G,ue.Fragment=a,ue.Profiler=f,ue.PureComponent=ae,ue.StrictMode=d,ue.Suspense=_,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,ue.act=D,ue.cloneElement=function(v,w,re){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var $=b({},v.props),J=v.key,V=v.ref,q=v._owner;if(w!=null){if(w.ref!==void 0&&(V=w.ref,q=de.current),w.key!==void 0&&(J=""+w.key),v.type&&v.type.defaultProps)var Z=v.type.defaultProps;for(ce in w)te.call(w,ce)&&!oe.hasOwnProperty(ce)&&($[ce]=w[ce]===void 0&&Z!==void 0?Z[ce]:w[ce])}var ce=arguments.length-2;if(ce===1)$.children=re;else if(1<ce){Z=Array(ce);for(var ne=0;ne<ce;ne++)Z[ne]=arguments[ne+2];$.children=Z}return{$$typeof:s,type:v.type,key:J,ref:V,props:$,_owner:q}},ue.createContext=function(v){return v={$$typeof:y,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:p,_context:v},v.Consumer=v},ue.createElement=ge,ue.createFactory=function(v){var w=ge.bind(null,v);return w.type=v,w},ue.createRef=function(){return{current:null}},ue.forwardRef=function(v){return{$$typeof:E,render:v}},ue.isValidElement=Ie,ue.lazy=function(v){return{$$typeof:k,_payload:{_status:-1,_result:v},_init:xe}},ue.memo=function(v,w){return{$$typeof:A,type:v,compare:w===void 0?null:w}},ue.startTransition=function(v){var w=P.transition;P.transition={};try{v()}finally{P.transition=w}},ue.unstable_act=D,ue.useCallback=function(v,w){return me.current.useCallback(v,w)},ue.useContext=function(v){return me.current.useContext(v)},ue.useDebugValue=function(){},ue.useDeferredValue=function(v){return me.current.useDeferredValue(v)},ue.useEffect=function(v,w){return me.current.useEffect(v,w)},ue.useId=function(){return me.current.useId()},ue.useImperativeHandle=function(v,w,re){return me.current.useImperativeHandle(v,w,re)},ue.useInsertionEffect=function(v,w){return me.current.useInsertionEffect(v,w)},ue.useLayoutEffect=function(v,w){return me.current.useLayoutEffect(v,w)},ue.useMemo=function(v,w){return me.current.useMemo(v,w)},ue.useReducer=function(v,w,re){return me.current.useReducer(v,w,re)},ue.useRef=function(v){return me.current.useRef(v)},ue.useState=function(v){return me.current.useState(v)},ue.useSyncExternalStore=function(v,w,re){return me.current.useSyncExternalStore(v,w,re)},ue.useTransition=function(){return me.current.useTransition()},ue.version="18.3.1",ue}var Qu;function ni(){return Qu||(Qu=1,qs.exports=Hf()),qs.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu;function $f(){if(Xu)return Dr;Xu=1;var s=ni(),c=Symbol.for("react.element"),a=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,f=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function y(E,_,A){var k,T={},C=null,U=null;A!==void 0&&(C=""+A),_.key!==void 0&&(C=""+_.key),_.ref!==void 0&&(U=_.ref);for(k in _)d.call(_,k)&&!p.hasOwnProperty(k)&&(T[k]=_[k]);if(E&&E.defaultProps)for(k in _=E.defaultProps,_)T[k]===void 0&&(T[k]=_[k]);return{$$typeof:c,type:E,key:C,ref:U,props:T,_owner:f.current}}return Dr.Fragment=a,Dr.jsx=y,Dr.jsxs=y,Dr}var qu;function Vf(){return qu||(qu=1,Xs.exports=$f()),Xs.exports}var i=Vf(),j=ni();const eo=Bf(j);var ql={},Js={exports:{}},ot={},Zs={exports:{}},ei={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ju;function Yf(){return Ju||(Ju=1,(function(s){function c(P,W){var D=P.length;P.push(W);e:for(;0<D;){var v=D-1>>>1,w=P[v];if(0<f(w,W))P[v]=W,P[D]=w,D=v;else break e}}function a(P){return P.length===0?null:P[0]}function d(P){if(P.length===0)return null;var W=P[0],D=P.pop();if(D!==W){P[0]=D;e:for(var v=0,w=P.length,re=w>>>1;v<re;){var $=2*(v+1)-1,J=P[$],V=$+1,q=P[V];if(0>f(J,D))V<w&&0>f(q,J)?(P[v]=q,P[V]=D,v=V):(P[v]=J,P[$]=D,v=$);else if(V<w&&0>f(q,D))P[v]=q,P[V]=D,v=V;else break e}}return W}function f(P,W){var D=P.sortIndex-W.sortIndex;return D!==0?D:P.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;s.unstable_now=function(){return p.now()}}else{var y=Date,E=y.now();s.unstable_now=function(){return y.now()-E}}var _=[],A=[],k=1,T=null,C=3,U=!1,b=!1,M=!1,G=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(P){for(var W=a(A);W!==null;){if(W.callback===null)d(A);else if(W.startTime<=P)d(A),W.sortIndex=W.expirationTime,c(_,W);else break;W=a(A)}}function F(P){if(M=!1,ie(P),!b)if(a(_)!==null)b=!0,xe(te);else{var W=a(A);W!==null&&me(F,W.startTime-P)}}function te(P,W){b=!1,M&&(M=!1,se(ge),ge=-1),U=!0;var D=C;try{for(ie(W),T=a(_);T!==null&&(!(T.expirationTime>W)||P&&!be());){var v=T.callback;if(typeof v=="function"){T.callback=null,C=T.priorityLevel;var w=v(T.expirationTime<=W);W=s.unstable_now(),typeof w=="function"?T.callback=w:T===a(_)&&d(_),ie(W)}else d(_);T=a(_)}if(T!==null)var re=!0;else{var $=a(A);$!==null&&me(F,$.startTime-W),re=!1}return re}finally{T=null,C=D,U=!1}}var de=!1,oe=null,ge=-1,_e=5,Ie=-1;function be(){return!(s.unstable_now()-Ie<_e)}function Ce(){if(oe!==null){var P=s.unstable_now();Ie=P;var W=!0;try{W=oe(!0,P)}finally{W?Re():(de=!1,oe=null)}}else de=!1}var Re;if(typeof ae=="function")Re=function(){ae(Ce)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Le=je.port2;je.port1.onmessage=Ce,Re=function(){Le.postMessage(null)}}else Re=function(){G(Ce,0)};function xe(P){oe=P,de||(de=!0,Re())}function me(P,W){ge=G(function(){P(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(P){P.callback=null},s.unstable_continueExecution=function(){b||U||(b=!0,xe(te))},s.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<P?Math.floor(1e3/P):5},s.unstable_getCurrentPriorityLevel=function(){return C},s.unstable_getFirstCallbackNode=function(){return a(_)},s.unstable_next=function(P){switch(C){case 1:case 2:case 3:var W=3;break;default:W=C}var D=C;C=W;try{return P()}finally{C=D}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(P,W){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=C;C=P;try{return W()}finally{C=D}},s.unstable_scheduleCallback=function(P,W,D){var v=s.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?v+D:v):D=v,P){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=D+w,P={id:k++,callback:W,priorityLevel:P,startTime:D,expirationTime:w,sortIndex:-1},D>v?(P.sortIndex=D,c(A,P),a(_)===null&&P===a(A)&&(M?(se(ge),ge=-1):M=!0,me(F,D-v))):(P.sortIndex=w,c(_,P),b||U||(b=!0,xe(te))),P},s.unstable_shouldYield=be,s.unstable_wrapCallback=function(P){var W=C;return function(){var D=C;C=W;try{return P.apply(this,arguments)}finally{C=D}}}})(ei)),ei}var Zu;function Kf(){return Zu||(Zu=1,Zs.exports=Yf()),Zs.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec;function Wf(){if(ec)return ot;ec=1;var s=ni(),c=Kf();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,f={};function p(e,t){y(e,t),y(e+"Capture",t)}function y(e,t){for(f[e]=t,e=0;e<t.length;e++)d.add(t[e])}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},T={};function C(e){return _.call(T,e)?!0:_.call(k,e)?!1:A.test(e)?T[e]=!0:(k[e]=!0,!1)}function U(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b(e,t,n,r){if(t===null||typeof t>"u"||U(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function M(e,t,n,r,l,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){G[e]=new M(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];G[t]=new M(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){G[e]=new M(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){G[e]=new M(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){G[e]=new M(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){G[e]=new M(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){G[e]=new M(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){G[e]=new M(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){G[e]=new M(e,5,!1,e.toLowerCase(),null,!1,!1)});var se=/[\-:]([a-z])/g;function ae(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(se,ae);G[t]=new M(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(se,ae);G[t]=new M(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(se,ae);G[t]=new M(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){G[e]=new M(e,1,!1,e.toLowerCase(),null,!1,!1)}),G.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){G[e]=new M(e,1,!1,e.toLowerCase(),null,!0,!0)});function ie(e,t,n,r){var l=G.hasOwnProperty(t)?G[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b(t,n,l,r)&&(n=null),r||l===null?C(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var F=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),de=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ge=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),Ie=Symbol.for("react.provider"),be=Symbol.for("react.context"),Ce=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),P=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=P&&e[P]||e["@@iterator"],typeof e=="function"?e:null)}var D=Object.assign,v;function w(e){if(v===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);v=t&&t[1]||""}return`
`+v+e}var re=!1;function $(e,t){if(!e||re)return"";re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var r=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){r=N}e.call(t.prototype)}else{try{throw Error()}catch(N){r=N}e()}}catch(N){if(N&&r&&typeof N.stack=="string"){for(var l=N.stack.split(`
`),o=r.stack.split(`
`),u=l.length-1,m=o.length-1;1<=u&&0<=m&&l[u]!==o[m];)m--;for(;1<=u&&0<=m;u--,m--)if(l[u]!==o[m]){if(u!==1||m!==1)do if(u--,m--,0>m||l[u]!==o[m]){var h=`
`+l[u].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=u&&0<=m);break}}}finally{re=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?w(e):""}function J(e){switch(e.tag){case 5:return w(e.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1),e;case 11:return e=$(e.type.render,!1),e;case 1:return e=$(e.type,!0),e;default:return""}}function V(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oe:return"Fragment";case de:return"Portal";case _e:return"Profiler";case ge:return"StrictMode";case Re:return"Suspense";case je:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case be:return(e.displayName||"Context")+".Consumer";case Ie:return(e._context.displayName||"Context")+".Provider";case Ce:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Le:return t=e.displayName||null,t!==null?t:V(e.type)||"Memo";case xe:t=e._payload,e=e._init;try{return V(e(t))}catch{}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===ge?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ce(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ne(e){var t=ce(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ze(e){e._valueTracker||(e._valueTracker=ne(e))}function He(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ce(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Me(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dt(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function st(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Z(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tt(e,t){t=t.checked,t!=null&&ie(e,"checked",t,!1)}function qn(e,t){Tt(e,t);var n=Z(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&lo(e,t.type,Z(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ro(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lo(e,t,n){(t!=="number"||Me(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jn=Array.isArray;function Cn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function oo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function li(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(Jn(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function oi(e,t){var n=Z(t.value),r=Z(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function si(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ii(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function so(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ii(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hr,ai=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hr=Hr||document.createElement("div"),Hr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vc=["Webkit","ms","Moz","O"];Object.keys(er).forEach(function(e){Vc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),er[t]=er[e]})});function ui(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||er.hasOwnProperty(e)&&er[e]?(""+t).trim():t+"px"}function ci(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=ui(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Yc=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(e,t){if(t){if(Yc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fo=null,wn=null,Tn=null;function di(e){if(e=Nr(e)){if(typeof fo!="function")throw Error(a(280));var t=e.stateNode;t&&(t=fl(t),fo(e.stateNode,e.type,t))}}function fi(e){wn?Tn?Tn.push(e):Tn=[e]:wn=e}function pi(){if(wn){var e=wn,t=Tn;if(Tn=wn=null,di(e),t)for(e=0;e<t.length;e++)di(t[e])}}function mi(e,t){return e(t)}function hi(){}var po=!1;function gi(e,t,n){if(po)return e(t,n);po=!0;try{return mi(e,t,n)}finally{po=!1,(wn!==null||Tn!==null)&&(hi(),pi())}}function tr(e,t){var n=e.stateNode;if(n===null)return null;var r=fl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var mo=!1;if(E)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){mo=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{mo=!1}function Kc(e,t,n,r,l,o,u,m,h){var N=Array.prototype.slice.call(arguments,3);try{t.apply(n,N)}catch(R){this.onError(R)}}var rr=!1,$r=null,Vr=!1,ho=null,Wc={onError:function(e){rr=!0,$r=e}};function Qc(e,t,n,r,l,o,u,m,h){rr=!1,$r=null,Kc.apply(Wc,arguments)}function Xc(e,t,n,r,l,o,u,m,h){if(Qc.apply(this,arguments),rr){if(rr){var N=$r;rr=!1,$r=null}else throw Error(a(198));Vr||(Vr=!0,ho=N)}}function cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function yi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vi(e){if(cn(e)!==e)throw Error(a(188))}function qc(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return vi(l),e;if(o===r)return vi(l),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=l,r=o;else{for(var u=!1,m=l.child;m;){if(m===n){u=!0,n=l,r=o;break}if(m===r){u=!0,r=l,n=o;break}m=m.sibling}if(!u){for(m=o.child;m;){if(m===n){u=!0,n=o,r=l;break}if(m===r){u=!0,r=o,n=l;break}m=m.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function xi(e){return e=qc(e),e!==null?Ei(e):null}function Ei(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ei(e);if(t!==null)return t;e=e.sibling}return null}var Si=c.unstable_scheduleCallback,Ni=c.unstable_cancelCallback,Jc=c.unstable_shouldYield,Zc=c.unstable_requestPaint,Ae=c.unstable_now,ed=c.unstable_getCurrentPriorityLevel,go=c.unstable_ImmediatePriority,_i=c.unstable_UserBlockingPriority,Yr=c.unstable_NormalPriority,td=c.unstable_LowPriority,Ci=c.unstable_IdlePriority,Kr=null,It=null;function nd(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Kr,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:od,rd=Math.log,ld=Math.LN2;function od(e){return e>>>=0,e===0?32:31-(rd(e)/ld|0)|0}var Wr=64,Qr=4194304;function lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,u=n&268435455;if(u!==0){var m=u&~l;m!==0?r=lr(m):(o&=u,o!==0&&(r=lr(o)))}else u=n&~l,u!==0?r=lr(u):o!==0&&(r=lr(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xt(t),l=1<<n,r|=e[n],t&=~l;return r}function sd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function id(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-xt(o),m=1<<u,h=l[u];h===-1?((m&n)===0||(m&r)!==0)&&(l[u]=sd(m,t)):h<=t&&(e.expiredLanes|=m),o&=~m}}function yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wi(){var e=Wr;return Wr<<=1,(Wr&4194240)===0&&(Wr=64),e}function vo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function or(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function ad(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-xt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function xo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var he=0;function Ti(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ii,Eo,ki,Ri,Ai,So=!1,qr=[],Bt=null,Ht=null,$t=null,sr=new Map,ir=new Map,Vt=[],ud="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oi(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(t.pointerId)}}function ar(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=Nr(t),t!==null&&Eo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function cd(e,t,n,r,l){switch(t){case"focusin":return Bt=ar(Bt,e,t,n,r,l),!0;case"dragenter":return Ht=ar(Ht,e,t,n,r,l),!0;case"mouseover":return $t=ar($t,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return sr.set(o,ar(sr.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,ir.set(o,ar(ir.get(o)||null,e,t,n,r,l)),!0}return!1}function ji(e){var t=dn(e.target);if(t!==null){var n=cn(t);if(n!==null){if(t=n.tag,t===13){if(t=yi(n),t!==null){e.blockedOn=t,Ai(e.priority,function(){ki(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_o(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uo=r,n.target.dispatchEvent(r),uo=null}else return t=Nr(n),t!==null&&Eo(t),e.blockedOn=n,!1;t.shift()}return!0}function Li(e,t,n){Jr(e)&&n.delete(t)}function dd(){So=!1,Bt!==null&&Jr(Bt)&&(Bt=null),Ht!==null&&Jr(Ht)&&(Ht=null),$t!==null&&Jr($t)&&($t=null),sr.forEach(Li),ir.forEach(Li)}function ur(e,t){e.blockedOn===t&&(e.blockedOn=null,So||(So=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,dd)))}function cr(e){function t(l){return ur(l,e)}if(0<qr.length){ur(qr[0],e);for(var n=1;n<qr.length;n++){var r=qr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bt!==null&&ur(Bt,e),Ht!==null&&ur(Ht,e),$t!==null&&ur($t,e),sr.forEach(t),ir.forEach(t),n=0;n<Vt.length;n++)r=Vt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)ji(n),n.blockedOn===null&&Vt.shift()}var In=F.ReactCurrentBatchConfig,Zr=!0;function fd(e,t,n,r){var l=he,o=In.transition;In.transition=null;try{he=1,No(e,t,n,r)}finally{he=l,In.transition=o}}function pd(e,t,n,r){var l=he,o=In.transition;In.transition=null;try{he=4,No(e,t,n,r)}finally{he=l,In.transition=o}}function No(e,t,n,r){if(Zr){var l=_o(e,t,n,r);if(l===null)Fo(e,t,r,el,n),Oi(e,r);else if(cd(l,e,t,n,r))r.stopPropagation();else if(Oi(e,r),t&4&&-1<ud.indexOf(e)){for(;l!==null;){var o=Nr(l);if(o!==null&&Ii(o),o=_o(e,t,n,r),o===null&&Fo(e,t,r,el,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else Fo(e,t,r,null,n)}}var el=null;function _o(e,t,n,r){if(el=null,e=co(r),e=dn(e),e!==null)if(t=cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=yi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return el=e,null}function Mi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ed()){case go:return 1;case _i:return 4;case Yr:case td:return 16;case Ci:return 536870912;default:return 16}default:return 16}}var Yt=null,Co=null,tl=null;function Ui(){if(tl)return tl;var e,t=Co,n=t.length,r,l="value"in Yt?Yt.value:Yt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===l[o-r];r++);return tl=l.slice(e,1<r?1-r:void 0)}function nl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function Pi(){return!1}function it(e){function t(n,r,l,o,u){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(o):o[m]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rl:Pi,this.isPropagationStopped=Pi,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=it(kn),dr=D({},kn,{view:0,detail:0}),md=it(dr),To,Io,fr,ll=D({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&e.type==="mousemove"?(To=e.screenX-fr.screenX,Io=e.screenY-fr.screenY):Io=To=0,fr=e),To)},movementY:function(e){return"movementY"in e?e.movementY:Io}}),Di=it(ll),hd=D({},ll,{dataTransfer:0}),gd=it(hd),yd=D({},dr,{relatedTarget:0}),ko=it(yd),vd=D({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),xd=it(vd),Ed=D({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sd=it(Ed),Nd=D({},kn,{data:0}),bi=it(Nd),_d={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Td(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wd[e])?!!t[e]:!1}function Ro(){return Td}var Id=D({},dr,{key:function(e){if(e.key){var t=_d[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return e.type==="keypress"?nl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kd=it(Id),Rd=D({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=it(Rd),Ad=D({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),Od=it(Ad),jd=D({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ld=it(jd),Md=D({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ud=it(Md),Pd=[9,13,27,32],Ao=E&&"CompositionEvent"in window,pr=null;E&&"documentMode"in document&&(pr=document.documentMode);var Dd=E&&"TextEvent"in window&&!pr,Fi=E&&(!Ao||pr&&8<pr&&11>=pr),Gi=" ",Bi=!1;function Hi(e,t){switch(e){case"keyup":return Pd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $i(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function bd(e,t){switch(e){case"compositionend":return $i(t);case"keypress":return t.which!==32?null:(Bi=!0,Gi);case"textInput":return e=t.data,e===Gi&&Bi?null:e;default:return null}}function zd(e,t){if(Rn)return e==="compositionend"||!Ao&&Hi(e,t)?(e=Ui(),tl=Co=Yt=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fi&&t.locale!=="ko"?null:t.data;default:return null}}var Fd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fd[e.type]:t==="textarea"}function Yi(e,t,n,r){fi(r),t=ul(t,"onChange"),0<t.length&&(n=new wo("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mr=null,hr=null;function Gd(e){ca(e,0)}function ol(e){var t=Mn(e);if(He(t))return e}function Bd(e,t){if(e==="change")return t}var Ki=!1;if(E){var Oo;if(E){var jo="oninput"in document;if(!jo){var Wi=document.createElement("div");Wi.setAttribute("oninput","return;"),jo=typeof Wi.oninput=="function"}Oo=jo}else Oo=!1;Ki=Oo&&(!document.documentMode||9<document.documentMode)}function Qi(){mr&&(mr.detachEvent("onpropertychange",Xi),hr=mr=null)}function Xi(e){if(e.propertyName==="value"&&ol(hr)){var t=[];Yi(t,hr,e,co(e)),gi(Gd,t)}}function Hd(e,t,n){e==="focusin"?(Qi(),mr=t,hr=n,mr.attachEvent("onpropertychange",Xi)):e==="focusout"&&Qi()}function $d(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(hr)}function Vd(e,t){if(e==="click")return ol(t)}function Yd(e,t){if(e==="input"||e==="change")return ol(t)}function Kd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Kd;function gr(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!_.call(t,l)||!Et(e[l],t[l]))return!1}return!0}function qi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ji(e,t){var n=qi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qi(n)}}function Zi(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zi(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ea(){for(var e=window,t=Me();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Me(e.document)}return t}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wd(e){var t=ea(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zi(n.ownerDocument.documentElement,n)){if(r!==null&&Lo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=Ji(n,o);var u=Ji(n,r);l&&u&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qd=E&&"documentMode"in document&&11>=document.documentMode,An=null,Mo=null,yr=null,Uo=!1;function ta(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uo||An==null||An!==Me(r)||(r=An,"selectionStart"in r&&Lo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yr&&gr(yr,r)||(yr=r,r=ul(Mo,"onSelect"),0<r.length&&(t=new wo("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=An)))}function sl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var On={animationend:sl("Animation","AnimationEnd"),animationiteration:sl("Animation","AnimationIteration"),animationstart:sl("Animation","AnimationStart"),transitionend:sl("Transition","TransitionEnd")},Po={},na={};E&&(na=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function il(e){if(Po[e])return Po[e];if(!On[e])return e;var t=On[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in na)return Po[e]=t[n];return e}var ra=il("animationend"),la=il("animationiteration"),oa=il("animationstart"),sa=il("transitionend"),ia=new Map,aa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(e,t){ia.set(e,t),p(t,[e])}for(var Do=0;Do<aa.length;Do++){var bo=aa[Do],Xd=bo.toLowerCase(),qd=bo[0].toUpperCase()+bo.slice(1);Kt(Xd,"on"+qd)}Kt(ra,"onAnimationEnd"),Kt(la,"onAnimationIteration"),Kt(oa,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(sa,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jd=new Set("cancel close invalid load scroll toggle".split(" ").concat(vr));function ua(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Xc(r,t,void 0,e),e.currentTarget=null}function ca(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var m=r[u],h=m.instance,N=m.currentTarget;if(m=m.listener,h!==o&&l.isPropagationStopped())break e;ua(l,m,N),o=h}else for(u=0;u<r.length;u++){if(m=r[u],h=m.instance,N=m.currentTarget,m=m.listener,h!==o&&l.isPropagationStopped())break e;ua(l,m,N),o=h}}}if(Vr)throw e=ho,Vr=!1,ho=null,e}function Ee(e,t){var n=t[Yo];n===void 0&&(n=t[Yo]=new Set);var r=e+"__bubble";n.has(r)||(da(t,e,2,!1),n.add(r))}function zo(e,t,n){var r=0;t&&(r|=4),da(n,e,r,t)}var al="_reactListening"+Math.random().toString(36).slice(2);function xr(e){if(!e[al]){e[al]=!0,d.forEach(function(n){n!=="selectionchange"&&(Jd.has(n)||zo(n,!1,e),zo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[al]||(t[al]=!0,zo("selectionchange",!1,t))}}function da(e,t,n,r){switch(Mi(t)){case 1:var l=fd;break;case 4:l=pd;break;default:l=No}n=l.bind(null,t,n,e),l=void 0,!mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Fo(e,t,n,r,l){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var m=r.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(u===4)for(u=r.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===l||h.nodeType===8&&h.parentNode===l))return;u=u.return}for(;m!==null;){if(u=dn(m),u===null)return;if(h=u.tag,h===5||h===6){r=o=u;continue e}m=m.parentNode}}r=r.return}gi(function(){var N=o,R=co(n),O=[];e:{var I=ia.get(e);if(I!==void 0){var z=wo,H=e;switch(e){case"keypress":if(nl(n)===0)break e;case"keydown":case"keyup":z=kd;break;case"focusin":H="focus",z=ko;break;case"focusout":H="blur",z=ko;break;case"beforeblur":case"afterblur":z=ko;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=Di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=Od;break;case ra:case la:case oa:z=xd;break;case sa:z=Ld;break;case"scroll":z=md;break;case"wheel":z=Ud;break;case"copy":case"cut":case"paste":z=Sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=zi}var Y=(t&4)!==0,Oe=!Y&&e==="scroll",x=Y?I!==null?I+"Capture":null:I;Y=[];for(var g=N,S;g!==null;){S=g;var L=S.stateNode;if(S.tag===5&&L!==null&&(S=L,x!==null&&(L=tr(g,x),L!=null&&Y.push(Er(g,L,S)))),Oe)break;g=g.return}0<Y.length&&(I=new z(I,H,null,n,R),O.push({event:I,listeners:Y}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",I&&n!==uo&&(H=n.relatedTarget||n.fromElement)&&(dn(H)||H[jt]))break e;if((z||I)&&(I=R.window===R?R:(I=R.ownerDocument)?I.defaultView||I.parentWindow:window,z?(H=n.relatedTarget||n.toElement,z=N,H=H?dn(H):null,H!==null&&(Oe=cn(H),H!==Oe||H.tag!==5&&H.tag!==6)&&(H=null)):(z=null,H=N),z!==H)){if(Y=Di,L="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(Y=zi,L="onPointerLeave",x="onPointerEnter",g="pointer"),Oe=z==null?I:Mn(z),S=H==null?I:Mn(H),I=new Y(L,g+"leave",z,n,R),I.target=Oe,I.relatedTarget=S,L=null,dn(R)===N&&(Y=new Y(x,g+"enter",H,n,R),Y.target=S,Y.relatedTarget=Oe,L=Y),Oe=L,z&&H)t:{for(Y=z,x=H,g=0,S=Y;S;S=jn(S))g++;for(S=0,L=x;L;L=jn(L))S++;for(;0<g-S;)Y=jn(Y),g--;for(;0<S-g;)x=jn(x),S--;for(;g--;){if(Y===x||x!==null&&Y===x.alternate)break t;Y=jn(Y),x=jn(x)}Y=null}else Y=null;z!==null&&fa(O,I,z,Y,!1),H!==null&&Oe!==null&&fa(O,Oe,H,Y,!0)}}e:{if(I=N?Mn(N):window,z=I.nodeName&&I.nodeName.toLowerCase(),z==="select"||z==="input"&&I.type==="file")var K=Bd;else if(Vi(I))if(Ki)K=Yd;else{K=$d;var Q=Hd}else(z=I.nodeName)&&z.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(K=Vd);if(K&&(K=K(e,N))){Yi(O,K,n,R);break e}Q&&Q(e,I,N),e==="focusout"&&(Q=I._wrapperState)&&Q.controlled&&I.type==="number"&&lo(I,"number",I.value)}switch(Q=N?Mn(N):window,e){case"focusin":(Vi(Q)||Q.contentEditable==="true")&&(An=Q,Mo=N,yr=null);break;case"focusout":yr=Mo=An=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,ta(O,n,R);break;case"selectionchange":if(Qd)break;case"keydown":case"keyup":ta(O,n,R)}var X;if(Ao)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Rn?Hi(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(Fi&&n.locale!=="ko"&&(Rn||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Rn&&(X=Ui()):(Yt=R,Co="value"in Yt?Yt.value:Yt.textContent,Rn=!0)),Q=ul(N,ee),0<Q.length&&(ee=new bi(ee,e,null,n,R),O.push({event:ee,listeners:Q}),X?ee.data=X:(X=$i(n),X!==null&&(ee.data=X)))),(X=Dd?bd(e,n):zd(e,n))&&(N=ul(N,"onBeforeInput"),0<N.length&&(R=new bi("onBeforeInput","beforeinput",null,n,R),O.push({event:R,listeners:N}),R.data=X))}ca(O,t)})}function Er(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ul(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=tr(e,n),o!=null&&r.unshift(Er(e,o,l)),o=tr(e,t),o!=null&&r.push(Er(e,o,l))),e=e.return}return r}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fa(e,t,n,r,l){for(var o=t._reactName,u=[];n!==null&&n!==r;){var m=n,h=m.alternate,N=m.stateNode;if(h!==null&&h===r)break;m.tag===5&&N!==null&&(m=N,l?(h=tr(n,o),h!=null&&u.unshift(Er(n,h,m))):l||(h=tr(n,o),h!=null&&u.push(Er(n,h,m)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Zd=/\r\n?/g,ef=/\u0000|\uFFFD/g;function pa(e){return(typeof e=="string"?e:""+e).replace(Zd,`
`).replace(ef,"")}function cl(e,t,n){if(t=pa(t),pa(e)!==t&&n)throw Error(a(425))}function dl(){}var Go=null,Bo=null;function Ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $o=typeof setTimeout=="function"?setTimeout:void 0,tf=typeof clearTimeout=="function"?clearTimeout:void 0,ma=typeof Promise=="function"?Promise:void 0,nf=typeof queueMicrotask=="function"?queueMicrotask:typeof ma<"u"?function(e){return ma.resolve(null).then(e).catch(rf)}:$o;function rf(e){setTimeout(function(){throw e})}function Vo(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),cr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);cr(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ha(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ln=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ln,Sr="__reactProps$"+Ln,jt="__reactContainer$"+Ln,Yo="__reactEvents$"+Ln,lf="__reactListeners$"+Ln,of="__reactHandles$"+Ln;function dn(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[jt]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ha(e);e!==null;){if(n=e[kt])return n;e=ha(e)}return t}e=n,n=e.parentNode}return null}function Nr(e){return e=e[kt]||e[jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function fl(e){return e[Sr]||null}var Ko=[],Un=-1;function Qt(e){return{current:e}}function Se(e){0>Un||(e.current=Ko[Un],Ko[Un]=null,Un--)}function ye(e,t){Un++,Ko[Un]=e.current,e.current=t}var Xt={},Ye=Qt(Xt),et=Qt(!1),fn=Xt;function Pn(e,t){var n=e.type.contextTypes;if(!n)return Xt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function tt(e){return e=e.childContextTypes,e!=null}function pl(){Se(et),Se(Ye)}function ga(e,t,n){if(Ye.current!==Xt)throw Error(a(168));ye(Ye,t),ye(et,n)}function ya(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(a(108,q(e)||"Unknown",l));return D({},n,r)}function ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,fn=Ye.current,ye(Ye,e),ye(et,et.current),!0}function va(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ya(e,t,fn),r.__reactInternalMemoizedMergedChildContext=e,Se(et),Se(Ye),ye(Ye,e)):Se(et),ye(et,n)}var Lt=null,hl=!1,Wo=!1;function xa(e){Lt===null?Lt=[e]:Lt.push(e)}function sf(e){hl=!0,xa(e)}function qt(){if(!Wo&&Lt!==null){Wo=!0;var e=0,t=he;try{var n=Lt;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,hl=!1}catch(l){throw Lt!==null&&(Lt=Lt.slice(e+1)),Si(go,qt),l}finally{he=t,Wo=!1}}return null}var Dn=[],bn=0,gl=null,yl=0,ft=[],pt=0,pn=null,Mt=1,Ut="";function mn(e,t){Dn[bn++]=yl,Dn[bn++]=gl,gl=e,yl=t}function Ea(e,t,n){ft[pt++]=Mt,ft[pt++]=Ut,ft[pt++]=pn,pn=e;var r=Mt;e=Ut;var l=32-xt(r)-1;r&=~(1<<l),n+=1;var o=32-xt(t)+l;if(30<o){var u=l-l%5;o=(r&(1<<u)-1).toString(32),r>>=u,l-=u,Mt=1<<32-xt(t)+l|n<<l|r,Ut=o+e}else Mt=1<<o|n<<l|r,Ut=e}function Qo(e){e.return!==null&&(mn(e,1),Ea(e,1,0))}function Xo(e){for(;e===gl;)gl=Dn[--bn],Dn[bn]=null,yl=Dn[--bn],Dn[bn]=null;for(;e===pn;)pn=ft[--pt],ft[pt]=null,Ut=ft[--pt],ft[pt]=null,Mt=ft[--pt],ft[pt]=null}var at=null,ut=null,Ne=!1,St=null;function Sa(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Na(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,ut=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pn!==null?{id:Mt,overflow:Ut}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,ut=null,!0):!1;default:return!1}}function qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jo(e){if(Ne){var t=ut;if(t){var n=t;if(!Na(e,t)){if(qo(e))throw Error(a(418));t=Wt(n.nextSibling);var r=at;t&&Na(e,t)?Sa(r,n):(e.flags=e.flags&-4097|2,Ne=!1,at=e)}}else{if(qo(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ne=!1,at=e}}}function _a(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function vl(e){if(e!==at)return!1;if(!Ne)return _a(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ho(e.type,e.memoizedProps)),t&&(t=ut)){if(qo(e))throw Ca(),Error(a(418));for(;t;)Sa(e,t),t=Wt(t.nextSibling)}if(_a(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=Wt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=at?Wt(e.stateNode.nextSibling):null;return!0}function Ca(){for(var e=ut;e;)e=Wt(e.nextSibling)}function zn(){ut=at=null,Ne=!1}function Zo(e){St===null?St=[e]:St.push(e)}var af=F.ReactCurrentBatchConfig;function _r(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var m=l.refs;u===null?delete m[o]:m[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function xl(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wa(e){var t=e._init;return t(e._payload)}function Ta(e){function t(x,g){if(e){var S=x.deletions;S===null?(x.deletions=[g],x.flags|=16):S.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function l(x,g){return x=on(x,g),x.index=0,x.sibling=null,x}function o(x,g,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<g?(x.flags|=2,g):S):(x.flags|=2,g)):(x.flags|=1048576,g)}function u(x){return e&&x.alternate===null&&(x.flags|=2),x}function m(x,g,S,L){return g===null||g.tag!==6?(g=$s(S,x.mode,L),g.return=x,g):(g=l(g,S),g.return=x,g)}function h(x,g,S,L){var K=S.type;return K===oe?R(x,g,S.props.children,L,S.key):g!==null&&(g.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===xe&&wa(K)===g.type)?(L=l(g,S.props),L.ref=_r(x,g,S),L.return=x,L):(L=Hl(S.type,S.key,S.props,null,x.mode,L),L.ref=_r(x,g,S),L.return=x,L)}function N(x,g,S,L){return g===null||g.tag!==4||g.stateNode.containerInfo!==S.containerInfo||g.stateNode.implementation!==S.implementation?(g=Vs(S,x.mode,L),g.return=x,g):(g=l(g,S.children||[]),g.return=x,g)}function R(x,g,S,L,K){return g===null||g.tag!==7?(g=Nn(S,x.mode,L,K),g.return=x,g):(g=l(g,S),g.return=x,g)}function O(x,g,S){if(typeof g=="string"&&g!==""||typeof g=="number")return g=$s(""+g,x.mode,S),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case te:return S=Hl(g.type,g.key,g.props,null,x.mode,S),S.ref=_r(x,null,g),S.return=x,S;case de:return g=Vs(g,x.mode,S),g.return=x,g;case xe:var L=g._init;return O(x,L(g._payload),S)}if(Jn(g)||W(g))return g=Nn(g,x.mode,S,null),g.return=x,g;xl(x,g)}return null}function I(x,g,S,L){var K=g!==null?g.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return K!==null?null:m(x,g,""+S,L);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case te:return S.key===K?h(x,g,S,L):null;case de:return S.key===K?N(x,g,S,L):null;case xe:return K=S._init,I(x,g,K(S._payload),L)}if(Jn(S)||W(S))return K!==null?null:R(x,g,S,L,null);xl(x,S)}return null}function z(x,g,S,L,K){if(typeof L=="string"&&L!==""||typeof L=="number")return x=x.get(S)||null,m(g,x,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case te:return x=x.get(L.key===null?S:L.key)||null,h(g,x,L,K);case de:return x=x.get(L.key===null?S:L.key)||null,N(g,x,L,K);case xe:var Q=L._init;return z(x,g,S,Q(L._payload),K)}if(Jn(L)||W(L))return x=x.get(S)||null,R(g,x,L,K,null);xl(g,L)}return null}function H(x,g,S,L){for(var K=null,Q=null,X=g,ee=g=0,Be=null;X!==null&&ee<S.length;ee++){X.index>ee?(Be=X,X=null):Be=X.sibling;var pe=I(x,X,S[ee],L);if(pe===null){X===null&&(X=Be);break}e&&X&&pe.alternate===null&&t(x,X),g=o(pe,g,ee),Q===null?K=pe:Q.sibling=pe,Q=pe,X=Be}if(ee===S.length)return n(x,X),Ne&&mn(x,ee),K;if(X===null){for(;ee<S.length;ee++)X=O(x,S[ee],L),X!==null&&(g=o(X,g,ee),Q===null?K=X:Q.sibling=X,Q=X);return Ne&&mn(x,ee),K}for(X=r(x,X);ee<S.length;ee++)Be=z(X,x,ee,S[ee],L),Be!==null&&(e&&Be.alternate!==null&&X.delete(Be.key===null?ee:Be.key),g=o(Be,g,ee),Q===null?K=Be:Q.sibling=Be,Q=Be);return e&&X.forEach(function(sn){return t(x,sn)}),Ne&&mn(x,ee),K}function Y(x,g,S,L){var K=W(S);if(typeof K!="function")throw Error(a(150));if(S=K.call(S),S==null)throw Error(a(151));for(var Q=K=null,X=g,ee=g=0,Be=null,pe=S.next();X!==null&&!pe.done;ee++,pe=S.next()){X.index>ee?(Be=X,X=null):Be=X.sibling;var sn=I(x,X,pe.value,L);if(sn===null){X===null&&(X=Be);break}e&&X&&sn.alternate===null&&t(x,X),g=o(sn,g,ee),Q===null?K=sn:Q.sibling=sn,Q=sn,X=Be}if(pe.done)return n(x,X),Ne&&mn(x,ee),K;if(X===null){for(;!pe.done;ee++,pe=S.next())pe=O(x,pe.value,L),pe!==null&&(g=o(pe,g,ee),Q===null?K=pe:Q.sibling=pe,Q=pe);return Ne&&mn(x,ee),K}for(X=r(x,X);!pe.done;ee++,pe=S.next())pe=z(X,x,ee,pe.value,L),pe!==null&&(e&&pe.alternate!==null&&X.delete(pe.key===null?ee:pe.key),g=o(pe,g,ee),Q===null?K=pe:Q.sibling=pe,Q=pe);return e&&X.forEach(function(Gf){return t(x,Gf)}),Ne&&mn(x,ee),K}function Oe(x,g,S,L){if(typeof S=="object"&&S!==null&&S.type===oe&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case te:e:{for(var K=S.key,Q=g;Q!==null;){if(Q.key===K){if(K=S.type,K===oe){if(Q.tag===7){n(x,Q.sibling),g=l(Q,S.props.children),g.return=x,x=g;break e}}else if(Q.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===xe&&wa(K)===Q.type){n(x,Q.sibling),g=l(Q,S.props),g.ref=_r(x,Q,S),g.return=x,x=g;break e}n(x,Q);break}else t(x,Q);Q=Q.sibling}S.type===oe?(g=Nn(S.props.children,x.mode,L,S.key),g.return=x,x=g):(L=Hl(S.type,S.key,S.props,null,x.mode,L),L.ref=_r(x,g,S),L.return=x,x=L)}return u(x);case de:e:{for(Q=S.key;g!==null;){if(g.key===Q)if(g.tag===4&&g.stateNode.containerInfo===S.containerInfo&&g.stateNode.implementation===S.implementation){n(x,g.sibling),g=l(g,S.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=Vs(S,x.mode,L),g.return=x,x=g}return u(x);case xe:return Q=S._init,Oe(x,g,Q(S._payload),L)}if(Jn(S))return H(x,g,S,L);if(W(S))return Y(x,g,S,L);xl(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,g!==null&&g.tag===6?(n(x,g.sibling),g=l(g,S),g.return=x,x=g):(n(x,g),g=$s(S,x.mode,L),g.return=x,x=g),u(x)):n(x,g)}return Oe}var Fn=Ta(!0),Ia=Ta(!1),El=Qt(null),Sl=null,Gn=null,es=null;function ts(){es=Gn=Sl=null}function ns(e){var t=El.current;Se(El),e._currentValue=t}function rs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){Sl=e,es=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(es!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(Sl===null)throw Error(a(308));Gn=e,Sl.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var hn=null;function ls(e){hn===null?hn=[e]:hn.push(e)}function ka(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ls(t)):(n.next=l.next,l.next=n),t.interleaved=n,Pt(e,r)}function Pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(fe&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,Pt(e,n)}return l=r.interleaved,l===null?(t.next=t,ls(r)):(t.next=l.next,l.next=t),r.interleaved=t,Pt(e,n)}function Nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xo(e,n)}}function Aa(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _l(e,t,n,r){var l=e.updateQueue;Jt=!1;var o=l.firstBaseUpdate,u=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var h=m,N=h.next;h.next=null,u===null?o=N:u.next=N,u=h;var R=e.alternate;R!==null&&(R=R.updateQueue,m=R.lastBaseUpdate,m!==u&&(m===null?R.firstBaseUpdate=N:m.next=N,R.lastBaseUpdate=h))}if(o!==null){var O=l.baseState;u=0,R=N=h=null,m=o;do{var I=m.lane,z=m.eventTime;if((r&I)===I){R!==null&&(R=R.next={eventTime:z,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var H=e,Y=m;switch(I=t,z=n,Y.tag){case 1:if(H=Y.payload,typeof H=="function"){O=H.call(z,O,I);break e}O=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=Y.payload,I=typeof H=="function"?H.call(z,O,I):H,I==null)break e;O=D({},O,I);break e;case 2:Jt=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,I=l.effects,I===null?l.effects=[m]:I.push(m))}else z={eventTime:z,lane:I,tag:m.tag,payload:m.payload,callback:m.callback,next:null},R===null?(N=R=z,h=O):R=R.next=z,u|=I;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;I=m,m=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(!0);if(R===null&&(h=O),l.baseState=h,l.firstBaseUpdate=N,l.lastBaseUpdate=R,t=l.shared.interleaved,t!==null){l=t;do u|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);vn|=u,e.lanes=u,e.memoizedState=O}}function Oa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(a(191,l));l.call(r)}}}var Cr={},Rt=Qt(Cr),wr=Qt(Cr),Tr=Qt(Cr);function gn(e){if(e===Cr)throw Error(a(174));return e}function ss(e,t){switch(ye(Tr,t),ye(wr,e),ye(Rt,Cr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:so(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=so(t,e)}Se(Rt),ye(Rt,t)}function Hn(){Se(Rt),Se(wr),Se(Tr)}function ja(e){gn(Tr.current);var t=gn(Rt.current),n=so(t,e.type);t!==n&&(ye(wr,e),ye(Rt,n))}function is(e){wr.current===e&&(Se(Rt),Se(wr))}var we=Qt(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var as=[];function us(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var wl=F.ReactCurrentDispatcher,cs=F.ReactCurrentBatchConfig,yn=0,Te=null,Pe=null,Fe=null,Tl=!1,Ir=!1,kr=0,uf=0;function Ke(){throw Error(a(321))}function ds(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function fs(e,t,n,r,l,o){if(yn=o,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wl.current=e===null||e.memoizedState===null?pf:mf,e=n(r,l),Ir){o=0;do{if(Ir=!1,kr=0,25<=o)throw Error(a(301));o+=1,Fe=Pe=null,t.updateQueue=null,wl.current=hf,e=n(r,l)}while(Ir)}if(wl.current=Rl,t=Pe!==null&&Pe.next!==null,yn=0,Fe=Pe=Te=null,Tl=!1,t)throw Error(a(300));return e}function ps(){var e=kr!==0;return kr=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function ht(){if(Pe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Fe===null?Te.memoizedState:Fe.next;if(t!==null)Fe=t,Pe=e;else{if(e===null)throw Error(a(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Rr(e,t){return typeof t=="function"?t(e):t}function ms(e){var t=ht(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=Pe,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var u=l.next;l.next=o.next,o.next=u}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var m=u=null,h=null,N=o;do{var R=N.lane;if((yn&R)===R)h!==null&&(h=h.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),r=N.hasEagerState?N.eagerState:e(r,N.action);else{var O={lane:R,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};h===null?(m=h=O,u=r):h=h.next=O,Te.lanes|=R,vn|=R}N=N.next}while(N!==null&&N!==o);h===null?u=r:h.next=m,Et(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,Te.lanes|=o,vn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hs(e){var t=ht(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do o=e(o,u.action),u=u.next;while(u!==l);Et(o,t.memoizedState)||(nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function La(){}function Ma(e,t){var n=Te,r=ht(),l=t(),o=!Et(r.memoizedState,l);if(o&&(r.memoizedState=l,nt=!0),r=r.queue,gs(Da.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,Ar(9,Pa.bind(null,n,r,l,t),void 0,null),Ge===null)throw Error(a(349));(yn&30)!==0||Ua(n,t,l)}return l}function Ua(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,ba(t)&&za(e)}function Da(e,t,n){return n(function(){ba(t)&&za(e)})}function ba(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function za(e){var t=Pt(e,1);t!==null&&wt(t,e,1,-1)}function Fa(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:e},t.queue=e,e=e.dispatch=ff.bind(null,Te,e),[t.memoizedState,e]}function Ar(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ga(){return ht().memoizedState}function Il(e,t,n,r){var l=At();Te.flags|=e,l.memoizedState=Ar(1|t,n,void 0,r===void 0?null:r)}function kl(e,t,n,r){var l=ht();r=r===void 0?null:r;var o=void 0;if(Pe!==null){var u=Pe.memoizedState;if(o=u.destroy,r!==null&&ds(r,u.deps)){l.memoizedState=Ar(t,n,o,r);return}}Te.flags|=e,l.memoizedState=Ar(1|t,n,o,r)}function Ba(e,t){return Il(8390656,8,e,t)}function gs(e,t){return kl(2048,8,e,t)}function Ha(e,t){return kl(4,2,e,t)}function $a(e,t){return kl(4,4,e,t)}function Va(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ya(e,t,n){return n=n!=null?n.concat([e]):null,kl(4,4,Va.bind(null,t,e),n)}function ys(){}function Ka(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ds(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ds(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return(yn&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n):(Et(n,t)||(n=wi(),Te.lanes|=n,vn|=n,e.baseState=!0),t)}function cf(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=cs.transition;cs.transition={};try{e(!1),t()}finally{he=n,cs.transition=r}}function Xa(){return ht().memoizedState}function df(e,t,n){var r=rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qa(e))Ja(t,n);else if(n=ka(e,t,n,r),n!==null){var l=Je();wt(n,e,r,l),Za(n,t,r)}}function ff(e,t,n){var r=rn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qa(e))Ja(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,m=o(u,n);if(l.hasEagerState=!0,l.eagerState=m,Et(m,u)){var h=t.interleaved;h===null?(l.next=l,ls(t)):(l.next=h.next,h.next=l),t.interleaved=l;return}}catch{}finally{}n=ka(e,t,l,r),n!==null&&(l=Je(),wt(n,e,r,l),Za(n,t,r))}}function qa(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Ja(e,t){Ir=Tl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Za(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xo(e,n)}}var Rl={readContext:mt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},pf={readContext:mt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Ba,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Il(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Il(4194308,4,e,t)},useInsertionEffect:function(e,t){return Il(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=df.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Fa,useDebugValue:ys,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=cf.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Te,l=At();if(Ne){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),Ge===null)throw Error(a(349));(yn&30)!==0||Ua(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Ba(Da.bind(null,r,o,e),[e]),r.flags|=2048,Ar(9,Pa.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=At(),t=Ge.identifierPrefix;if(Ne){var n=Ut,r=Mt;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=kr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=uf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mf={readContext:mt,useCallback:Ka,useContext:mt,useEffect:gs,useImperativeHandle:Ya,useInsertionEffect:Ha,useLayoutEffect:$a,useMemo:Wa,useReducer:ms,useRef:Ga,useState:function(){return ms(Rr)},useDebugValue:ys,useDeferredValue:function(e){var t=ht();return Qa(t,Pe.memoizedState,e)},useTransition:function(){var e=ms(Rr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:La,useSyncExternalStore:Ma,useId:Xa,unstable_isNewReconciler:!1},hf={readContext:mt,useCallback:Ka,useContext:mt,useEffect:gs,useImperativeHandle:Ya,useInsertionEffect:Ha,useLayoutEffect:$a,useMemo:Wa,useReducer:hs,useRef:Ga,useState:function(){return hs(Rr)},useDebugValue:ys,useDeferredValue:function(e){var t=ht();return Pe===null?t.memoizedState=e:Qa(t,Pe.memoizedState,e)},useTransition:function(){var e=hs(Rr)[0],t=ht().memoizedState;return[e,t]},useMutableSource:La,useSyncExternalStore:Ma,useId:Xa,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=D({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:D({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Al={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),l=rn(e),o=Dt(r,l);o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(wt(t,e,l,r),Nl(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),l=rn(e),o=Dt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(wt(t,e,l,r),Nl(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=rn(e),l=Dt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Zt(e,l,r),t!==null&&(wt(t,e,r,n),Nl(t,e,r))}};function eu(e,t,n,r,l,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!gr(n,r)||!gr(l,o):!0}function tu(e,t,n){var r=!1,l=Xt,o=t.contextType;return typeof o=="object"&&o!==null?o=mt(o):(l=tt(t)?fn:Ye.current,r=t.contextTypes,o=(r=r!=null)?Pn(e,l):Xt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Al,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function nu(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Al.enqueueReplaceState(t,t.state,null)}function xs(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},os(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=mt(o):(o=tt(t)?fn:Ye.current,l.context=Pn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(vs(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Al.enqueueReplaceState(l,l.state,null),_l(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function $n(e,t){try{var n="",r=t;do n+=J(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Es(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ss(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gf=typeof WeakMap=="function"?WeakMap:Map;function ru(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dl||(Dl=!0,Ps=r),Ss(e,t)},n}function lu(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ss(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ss(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function ou(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gf;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=Af.bind(null,e,t,n),t.then(e,e))}function su(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var yf=F.ReactCurrentOwner,nt=!1;function qe(e,t,n,r){t.child=e===null?Ia(t,null,n,r):Fn(t,e.child,n,r)}function au(e,t,n,r,l){n=n.render;var o=t.ref;return Bn(t,l),r=fs(e,t,n,r,o,l),n=ps(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bt(e,t,l)):(Ne&&n&&Qo(t),t.flags|=1,qe(e,t,r,l),t.child)}function uu(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Hs(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,cu(e,t,o,r,l)):(e=Hl(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&l)===0){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:gr,n(u,r)&&e.ref===t.ref)return bt(e,t,l)}return t.flags|=1,e=on(o,r),e.ref=t.ref,e.return=t,t.child=e}function cu(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(gr(o,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=o,(e.lanes&l)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,bt(e,t,l)}return Ns(e,t,n,r,l)}function du(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Yn,ct),ct|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Yn,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(Yn,ct),ct|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ye(Yn,ct),ct|=r;return qe(e,t,l,n),t.child}function fu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,l){var o=tt(n)?fn:Ye.current;return o=Pn(t,o),Bn(t,l),n=fs(e,t,n,r,o,l),r=ps(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,bt(e,t,l)):(Ne&&r&&Qo(t),t.flags|=1,qe(e,t,n,l),t.child)}function pu(e,t,n,r,l){if(tt(n)){var o=!0;ml(t)}else o=!1;if(Bn(t,l),t.stateNode===null)jl(e,t),tu(t,n,r),xs(t,n,r,l),r=!0;else if(e===null){var u=t.stateNode,m=t.memoizedProps;u.props=m;var h=u.context,N=n.contextType;typeof N=="object"&&N!==null?N=mt(N):(N=tt(n)?fn:Ye.current,N=Pn(t,N));var R=n.getDerivedStateFromProps,O=typeof R=="function"||typeof u.getSnapshotBeforeUpdate=="function";O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==r||h!==N)&&nu(t,u,r,N),Jt=!1;var I=t.memoizedState;u.state=I,_l(t,r,u,l),h=t.memoizedState,m!==r||I!==h||et.current||Jt?(typeof R=="function"&&(vs(t,n,R,r),h=t.memoizedState),(m=Jt||eu(t,n,m,r,I,h,N))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),u.props=r,u.state=h,u.context=N,r=m):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,Ra(e,t),m=t.memoizedProps,N=t.type===t.elementType?m:Nt(t.type,m),u.props=N,O=t.pendingProps,I=u.context,h=n.contextType,typeof h=="object"&&h!==null?h=mt(h):(h=tt(n)?fn:Ye.current,h=Pn(t,h));var z=n.getDerivedStateFromProps;(R=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==O||I!==h)&&nu(t,u,r,h),Jt=!1,I=t.memoizedState,u.state=I,_l(t,r,u,l);var H=t.memoizedState;m!==O||I!==H||et.current||Jt?(typeof z=="function"&&(vs(t,n,z,r),H=t.memoizedState),(N=Jt||eu(t,n,N,r,I,H,h)||!1)?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,H,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,H,h)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=H),u.props=r,u.state=H,u.context=h,r=N):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,o,l)}function _s(e,t,n,r,l,o){fu(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return l&&va(t,n,!1),bt(e,t,o);r=t.stateNode,yf.current=t;var m=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Fn(t,e.child,null,o),t.child=Fn(t,null,m,o)):qe(e,t,m,o),t.memoizedState=r.state,l&&va(t,n,!0),t.child}function mu(e){var t=e.stateNode;t.pendingContext?ga(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ga(e,t.context,!1),ss(e,t.containerInfo)}function hu(e,t,n,r,l){return zn(),Zo(l),t.flags|=256,qe(e,t,n,r),t.child}var Cs={dehydrated:null,treeContext:null,retryLane:0};function ws(e){return{baseLanes:e,cachePool:null,transitions:null}}function gu(e,t,n){var r=t.pendingProps,l=we.current,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ye(we,l&1),e===null)return Jo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=r.children,e=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=u):o=$l(u,r,0,null),e=Nn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ws(n),t.memoizedState=Cs,e):Ts(t,u));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return vf(e,t,u,r,m,l,n);if(o){o=r.fallback,u=t.mode,l=e.child,m=l.sibling;var h={mode:"hidden",children:r.children};return(u&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=on(l,h),r.subtreeFlags=l.subtreeFlags&14680064),m!==null?o=on(m,o):(o=Nn(o,u,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=e.child.memoizedState,u=u===null?ws(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=Cs,r}return o=e.child,e=o.sibling,r=on(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ts(e,t){return t=$l({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ol(e,t,n,r){return r!==null&&Zo(r),Fn(t,e.child,null,n),e=Ts(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vf(e,t,n,r,l,o,u){if(n)return t.flags&256?(t.flags&=-257,r=Es(Error(a(422))),Ol(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=$l({mode:"visible",children:r.children},l,0,null),o=Nn(o,l,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&Fn(t,e.child,null,u),t.child.memoizedState=ws(u),t.memoizedState=Cs,o);if((t.mode&1)===0)return Ol(e,t,u,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var m=r.dgst;return r=m,o=Error(a(419)),r=Es(o,r,void 0),Ol(e,t,u,r)}if(m=(u&e.childLanes)!==0,nt||m){if(r=Ge,r!==null){switch(u&-u){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|u))!==0?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Pt(e,l),wt(r,e,l,-1))}return Bs(),r=Es(Error(a(421))),Ol(e,t,u,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Of.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,ut=Wt(l.nextSibling),at=t,Ne=!0,St=null,e!==null&&(ft[pt++]=Mt,ft[pt++]=Ut,ft[pt++]=pn,Mt=e.id,Ut=e.overflow,pn=t),t=Ts(t,r.children),t.flags|=4096,t)}function yu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rs(e.return,t,n)}function Is(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function vu(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(qe(e,t,r.children,n),r=we.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yu(e,n,t);else if(e.tag===19)yu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(we,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Cl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Is(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Cl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Is(t,!0,n,null,o);break;case"together":Is(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function xf(e,t,n){switch(t.tag){case 3:mu(t),zn();break;case 5:ja(t);break;case 1:tt(t.type)&&ml(t);break;case 4:ss(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ye(El,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(we,we.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?gu(e,t,n):(ye(we,we.current&1),e=bt(e,t,n),e!==null?e.sibling:null);ye(we,we.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return vu(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ye(we,we.current),r)break;return null;case 22:case 23:return t.lanes=0,du(e,t,n)}return bt(e,t,n)}var xu,ks,Eu,Su;xu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ks=function(){},Eu=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,gn(Rt.current);var o=null;switch(n){case"input":l=dt(e,l),r=dt(e,r),o=[];break;case"select":l=D({},l,{value:void 0}),r=D({},r,{value:void 0}),o=[];break;case"textarea":l=oo(e,l),r=oo(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=dl)}io(n,r);var u;n=null;for(N in l)if(!r.hasOwnProperty(N)&&l.hasOwnProperty(N)&&l[N]!=null)if(N==="style"){var m=l[N];for(u in m)m.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(f.hasOwnProperty(N)?o||(o=[]):(o=o||[]).push(N,null));for(N in r){var h=r[N];if(m=l!=null?l[N]:void 0,r.hasOwnProperty(N)&&h!==m&&(h!=null||m!=null))if(N==="style")if(m){for(u in m)!m.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in h)h.hasOwnProperty(u)&&m[u]!==h[u]&&(n||(n={}),n[u]=h[u])}else n||(o||(o=[]),o.push(N,n)),n=h;else N==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,m=m?m.__html:void 0,h!=null&&m!==h&&(o=o||[]).push(N,h)):N==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(N,""+h):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(f.hasOwnProperty(N)?(h!=null&&N==="onScroll"&&Ee("scroll",e),o||m===h||(o=[])):(o=o||[]).push(N,h))}n&&(o=o||[]).push("style",n);var N=o;(t.updateQueue=N)&&(t.flags|=4)}},Su=function(e,t,n,r){n!==r&&(t.flags|=4)};function Or(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ef(e,t,n){var r=t.pendingProps;switch(Xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return tt(t.type)&&pl(),We(t),null;case 3:return r=t.stateNode,Hn(),Se(et),Se(Ye),us(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,St!==null&&(zs(St),St=null))),ks(e,t),We(t),null;case 5:is(t);var l=gn(Tr.current);if(n=t.type,e!==null&&t.stateNode!=null)Eu(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(a(166));return We(t),null}if(e=gn(Rt.current),vl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[kt]=t,r[Sr]=o,e=(t.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(l=0;l<vr.length;l++)Ee(vr[l],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":st(r,o),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",r);break;case"textarea":li(r,o),Ee("invalid",r)}io(n,o),l=null;for(var u in o)if(o.hasOwnProperty(u)){var m=o[u];u==="children"?typeof m=="string"?r.textContent!==m&&(o.suppressHydrationWarning!==!0&&cl(r.textContent,m,e),l=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(o.suppressHydrationWarning!==!0&&cl(r.textContent,m,e),l=["children",""+m]):f.hasOwnProperty(u)&&m!=null&&u==="onScroll"&&Ee("scroll",r)}switch(n){case"input":ze(r),ro(r,o,!0);break;case"textarea":ze(r),si(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=dl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ii(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[kt]=t,e[Sr]=r,xu(e,t,!1,!1),t.stateNode=e;e:{switch(u=ao(n,r),n){case"dialog":Ee("cancel",e),Ee("close",e),l=r;break;case"iframe":case"object":case"embed":Ee("load",e),l=r;break;case"video":case"audio":for(l=0;l<vr.length;l++)Ee(vr[l],e);l=r;break;case"source":Ee("error",e),l=r;break;case"img":case"image":case"link":Ee("error",e),Ee("load",e),l=r;break;case"details":Ee("toggle",e),l=r;break;case"input":st(e,r),l=dt(e,r),Ee("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=D({},r,{value:void 0}),Ee("invalid",e);break;case"textarea":li(e,r),l=oo(e,r),Ee("invalid",e);break;default:l=r}io(n,l),m=l;for(o in m)if(m.hasOwnProperty(o)){var h=m[o];o==="style"?ci(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&ai(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Zn(e,h):typeof h=="number"&&Zn(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(f.hasOwnProperty(o)?h!=null&&o==="onScroll"&&Ee("scroll",e):h!=null&&ie(e,o,h,u))}switch(n){case"input":ze(e),ro(e,r,!1);break;case"textarea":ze(e),si(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Cn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Cn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Su(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(n=gn(Tr.current),gn(Rt.current),vl(t)){if(r=t.stateNode,n=t.memoizedProps,r[kt]=t,(o=r.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:cl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=t,t.stateNode=r}return We(t),null;case 13:if(Se(we),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ca(),zn(),t.flags|=98560,o=!1;else if(o=vl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(a(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));o[kt]=t}else zn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),o=!1}else St!==null&&(zs(St),St=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(we.current&1)!==0?De===0&&(De=3):Bs())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Hn(),ks(e,t),e===null&&xr(t.stateNode.containerInfo),We(t),null;case 10:return ns(t.type._context),We(t),null;case 17:return tt(t.type)&&pl(),We(t),null;case 19:if(Se(we),o=t.memoizedState,o===null)return We(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)Or(o,!1);else{if(De!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Cl(e),u!==null){for(t.flags|=128,Or(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(we,we.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ae()>Kn&&(t.flags|=128,r=!0,Or(o,!1),t.lanes=4194304)}else{if(!r)if(e=Cl(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Or(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ne)return We(t),null}else 2*Ae()-o.renderingStartTime>Kn&&n!==1073741824&&(t.flags|=128,r=!0,Or(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(n=o.last,n!==null?n.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ae(),t.sibling=null,n=we.current,ye(we,r?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Gs(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(ct&1073741824)!==0&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function Sf(e,t){switch(Xo(t),t.tag){case 1:return tt(t.type)&&pl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),Se(et),Se(Ye),us(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return is(t),null;case 13:if(Se(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Se(we),null;case 4:return Hn(),null;case 10:return ns(t.type._context),null;case 22:case 23:return Gs(),null;case 24:return null;default:return null}}var Ll=!1,Qe=!1,Nf=typeof WeakSet=="function"?WeakSet:Set,B=null;function Vn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function Rs(e,t,n){try{n()}catch(r){ke(e,t,r)}}var Nu=!1;function _f(e,t){if(Go=Zr,e=ea(),Lo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,m=-1,h=-1,N=0,R=0,O=e,I=null;t:for(;;){for(var z;O!==n||l!==0&&O.nodeType!==3||(m=u+l),O!==o||r!==0&&O.nodeType!==3||(h=u+r),O.nodeType===3&&(u+=O.nodeValue.length),(z=O.firstChild)!==null;)I=O,O=z;for(;;){if(O===e)break t;if(I===n&&++N===l&&(m=u),I===o&&++R===r&&(h=u),(z=O.nextSibling)!==null)break;O=I,I=O.parentNode}O=z}n=m===-1||h===-1?null:{start:m,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bo={focusedElem:e,selectionRange:n},Zr=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var Y=H.memoizedProps,Oe=H.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?Y:Nt(t.type,Y),Oe);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(L){ke(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return H=Nu,Nu=!1,H}function jr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Rs(t,n,o)}l=l.next}while(l!==r)}}function Ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function As(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _u(e){var t=e.alternate;t!==null&&(e.alternate=null,_u(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Sr],delete t[Yo],delete t[lf],delete t[of])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cu(e){return e.tag===5||e.tag===3||e.tag===4}function wu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Os(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=dl));else if(r!==4&&(e=e.child,e!==null))for(Os(e,t,n),e=e.sibling;e!==null;)Os(e,t,n),e=e.sibling}function js(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(js(e,t,n),e=e.sibling;e!==null;)js(e,t,n),e=e.sibling}var $e=null,_t=!1;function en(e,t,n){for(n=n.child;n!==null;)Tu(e,t,n),n=n.sibling}function Tu(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Kr,n)}catch{}switch(n.tag){case 5:Qe||Vn(n,t);case 6:var r=$e,l=_t;$e=null,en(e,t,n),$e=r,_t=l,$e!==null&&(_t?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(_t?(e=$e,n=n.stateNode,e.nodeType===8?Vo(e.parentNode,n):e.nodeType===1&&Vo(e,n),cr(e)):Vo($e,n.stateNode));break;case 4:r=$e,l=_t,$e=n.stateNode.containerInfo,_t=!0,en(e,t,n),$e=r,_t=l;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,u=o.destroy;o=o.tag,u!==void 0&&((o&2)!==0||(o&4)!==0)&&Rs(n,t,u),l=l.next}while(l!==r)}en(e,t,n);break;case 1:if(!Qe&&(Vn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){ke(n,t,m)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,en(e,t,n),Qe=r):en(e,t,n);break;default:en(e,t,n)}}function Iu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Nf),t.forEach(function(r){var l=jf.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,u=t,m=u;e:for(;m!==null;){switch(m.tag){case 5:$e=m.stateNode,_t=!1;break e;case 3:$e=m.stateNode.containerInfo,_t=!0;break e;case 4:$e=m.stateNode.containerInfo,_t=!0;break e}m=m.return}if($e===null)throw Error(a(160));Tu(o,u,l),$e=null,_t=!1;var h=l.alternate;h!==null&&(h.return=null),l.return=null}catch(N){ke(l,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ku(t,e),t=t.sibling}function ku(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),Ot(e),r&4){try{jr(3,e,e.return),Ml(3,e)}catch(Y){ke(e,e.return,Y)}try{jr(5,e,e.return)}catch(Y){ke(e,e.return,Y)}}break;case 1:Ct(t,e),Ot(e),r&512&&n!==null&&Vn(n,n.return);break;case 5:if(Ct(t,e),Ot(e),r&512&&n!==null&&Vn(n,n.return),e.flags&32){var l=e.stateNode;try{Zn(l,"")}catch(Y){ke(e,e.return,Y)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,u=n!==null?n.memoizedProps:o,m=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{m==="input"&&o.type==="radio"&&o.name!=null&&Tt(l,o),ao(m,u);var N=ao(m,o);for(u=0;u<h.length;u+=2){var R=h[u],O=h[u+1];R==="style"?ci(l,O):R==="dangerouslySetInnerHTML"?ai(l,O):R==="children"?Zn(l,O):ie(l,R,O,N)}switch(m){case"input":qn(l,o);break;case"textarea":oi(l,o);break;case"select":var I=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var z=o.value;z!=null?Cn(l,!!o.multiple,z,!1):I!==!!o.multiple&&(o.defaultValue!=null?Cn(l,!!o.multiple,o.defaultValue,!0):Cn(l,!!o.multiple,o.multiple?[]:"",!1))}l[Sr]=o}catch(Y){ke(e,e.return,Y)}}break;case 6:if(Ct(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(a(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(Y){ke(e,e.return,Y)}}break;case 3:if(Ct(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cr(t.containerInfo)}catch(Y){ke(e,e.return,Y)}break;case 4:Ct(t,e),Ot(e);break;case 13:Ct(t,e),Ot(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Us=Ae())),r&4&&Iu(e);break;case 22:if(R=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(N=Qe)||R,Ct(t,e),Qe=N):Ct(t,e),Ot(e),r&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!R&&(e.mode&1)!==0)for(B=e,R=e.child;R!==null;){for(O=B=R;B!==null;){switch(I=B,z=I.child,I.tag){case 0:case 11:case 14:case 15:jr(4,I,I.return);break;case 1:Vn(I,I.return);var H=I.stateNode;if(typeof H.componentWillUnmount=="function"){r=I,n=I.return;try{t=r,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(Y){ke(r,n,Y)}}break;case 5:Vn(I,I.return);break;case 22:if(I.memoizedState!==null){Ou(O);continue}}z!==null?(z.return=I,B=z):Ou(O)}R=R.sibling}e:for(R=null,O=e;;){if(O.tag===5){if(R===null){R=O;try{l=O.stateNode,N?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(m=O.stateNode,h=O.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,m.style.display=ui("display",u))}catch(Y){ke(e,e.return,Y)}}}else if(O.tag===6){if(R===null)try{O.stateNode.nodeValue=N?"":O.memoizedProps}catch(Y){ke(e,e.return,Y)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;R===O&&(R=null),O=O.return}R===O&&(R=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:Ct(t,e),Ot(e),r&4&&Iu(e);break;case 21:break;default:Ct(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Zn(l,""),r.flags&=-33);var o=wu(e);js(e,o,l);break;case 3:case 4:var u=r.stateNode.containerInfo,m=wu(e);Os(e,m,u);break;default:throw Error(a(161))}}catch(h){ke(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cf(e,t,n){B=e,Ru(e)}function Ru(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var l=B,o=l.child;if(l.tag===22&&r){var u=l.memoizedState!==null||Ll;if(!u){var m=l.alternate,h=m!==null&&m.memoizedState!==null||Qe;m=Ll;var N=Qe;if(Ll=u,(Qe=h)&&!N)for(B=l;B!==null;)u=B,h=u.child,u.tag===22&&u.memoizedState!==null?ju(l):h!==null?(h.return=u,B=h):ju(l);for(;o!==null;)B=o,Ru(o),o=o.sibling;B=l,Ll=m,Qe=N}Au(e)}else(l.subtreeFlags&8772)!==0&&o!==null?(o.return=l,B=o):Au(e)}}function Au(e){for(;B!==null;){var t=B;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Qe||Ml(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Nt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Oa(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Oa(t,u,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var R=N.memoizedState;if(R!==null){var O=R.dehydrated;O!==null&&cr(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Qe||t.flags&512&&As(t)}catch(I){ke(t,t.return,I)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Ou(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function ju(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ml(4,t)}catch(h){ke(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(h){ke(t,l,h)}}var o=t.return;try{As(t)}catch(h){ke(t,o,h)}break;case 5:var u=t.return;try{As(t)}catch(h){ke(t,u,h)}}}catch(h){ke(t,t.return,h)}if(t===e){B=null;break}var m=t.sibling;if(m!==null){m.return=t.return,B=m;break}B=t.return}}var wf=Math.ceil,Ul=F.ReactCurrentDispatcher,Ls=F.ReactCurrentOwner,gt=F.ReactCurrentBatchConfig,fe=0,Ge=null,Ue=null,Ve=0,ct=0,Yn=Qt(0),De=0,Lr=null,vn=0,Pl=0,Ms=0,Mr=null,rt=null,Us=0,Kn=1/0,zt=null,Dl=!1,Ps=null,tn=null,bl=!1,nn=null,zl=0,Ur=0,Ds=null,Fl=-1,Gl=0;function Je(){return(fe&6)!==0?Ae():Fl!==-1?Fl:Fl=Ae()}function rn(e){return(e.mode&1)===0?1:(fe&2)!==0&&Ve!==0?Ve&-Ve:af.transition!==null?(Gl===0&&(Gl=wi()),Gl):(e=he,e!==0||(e=window.event,e=e===void 0?16:Mi(e.type)),e)}function wt(e,t,n,r){if(50<Ur)throw Ur=0,Ds=null,Error(a(185));or(e,n,r),((fe&2)===0||e!==Ge)&&(e===Ge&&((fe&2)===0&&(Pl|=n),De===4&&ln(e,Ve)),lt(e,r),n===1&&fe===0&&(t.mode&1)===0&&(Kn=Ae()+500,hl&&qt()))}function lt(e,t){var n=e.callbackNode;id(e,t);var r=Xr(e,e===Ge?Ve:0);if(r===0)n!==null&&Ni(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ni(n),t===1)e.tag===0?sf(Mu.bind(null,e)):xa(Mu.bind(null,e)),nf(function(){(fe&6)===0&&qt()}),n=null;else{switch(Ti(r)){case 1:n=go;break;case 4:n=_i;break;case 16:n=Yr;break;case 536870912:n=Ci;break;default:n=Yr}n=Bu(n,Lu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lu(e,t){if(Fl=-1,Gl=0,(fe&6)!==0)throw Error(a(327));var n=e.callbackNode;if(Wn()&&e.callbackNode!==n)return null;var r=Xr(e,e===Ge?Ve:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Bl(e,r);else{t=r;var l=fe;fe|=2;var o=Pu();(Ge!==e||Ve!==t)&&(zt=null,Kn=Ae()+500,En(e,t));do try{kf();break}catch(m){Uu(e,m)}while(!0);ts(),Ul.current=o,fe=l,Ue!==null?t=0:(Ge=null,Ve=0,t=De)}if(t!==0){if(t===2&&(l=yo(e),l!==0&&(r=l,t=bs(e,l))),t===1)throw n=Lr,En(e,0),ln(e,r),lt(e,Ae()),n;if(t===6)ln(e,r);else{if(l=e.current.alternate,(r&30)===0&&!Tf(l)&&(t=Bl(e,r),t===2&&(o=yo(e),o!==0&&(r=o,t=bs(e,o))),t===1))throw n=Lr,En(e,0),ln(e,r),lt(e,Ae()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:Sn(e,rt,zt);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=Us+500-Ae(),10<t)){if(Xr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=$o(Sn.bind(null,e,rt,zt),t);break}Sn(e,rt,zt);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var u=31-xt(r);o=1<<u,u=t[u],u>l&&(l=u),r&=~o}if(r=l,r=Ae()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wf(r/1960))-r,10<r){e.timeoutHandle=$o(Sn.bind(null,e,rt,zt),r);break}Sn(e,rt,zt);break;case 5:Sn(e,rt,zt);break;default:throw Error(a(329))}}}return lt(e,Ae()),e.callbackNode===n?Lu.bind(null,e):null}function bs(e,t){var n=Mr;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=Bl(e,t),e!==2&&(t=rt,rt=n,t!==null&&zs(t)),e}function zs(e){rt===null?rt=e:rt.push.apply(rt,e)}function Tf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Et(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~Ms,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Mu(e){if((fe&6)!==0)throw Error(a(327));Wn();var t=Xr(e,0);if((t&1)===0)return lt(e,Ae()),null;var n=Bl(e,t);if(e.tag!==0&&n===2){var r=yo(e);r!==0&&(t=r,n=bs(e,r))}if(n===1)throw n=Lr,En(e,0),ln(e,t),lt(e,Ae()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,rt,zt),lt(e,Ae()),null}function Fs(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(Kn=Ae()+500,hl&&qt())}}function xn(e){nn!==null&&nn.tag===0&&(fe&6)===0&&Wn();var t=fe;fe|=1;var n=gt.transition,r=he;try{if(gt.transition=null,he=1,e)return e()}finally{he=r,gt.transition=n,fe=t,(fe&6)===0&&qt()}}function Gs(){ct=Yn.current,Se(Yn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tf(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(Xo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pl();break;case 3:Hn(),Se(et),Se(Ye),us();break;case 5:is(r);break;case 4:Hn();break;case 13:Se(we);break;case 19:Se(we);break;case 10:ns(r.type._context);break;case 22:case 23:Gs()}n=n.return}if(Ge=e,Ue=e=on(e.current,null),Ve=ct=t,De=0,Lr=null,Ms=Pl=vn=0,rt=Mr=null,hn!==null){for(t=0;t<hn.length;t++)if(n=hn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=l,r.next=u}n.pending=r}hn=null}return e}function Uu(e,t){do{var n=Ue;try{if(ts(),wl.current=Rl,Tl){for(var r=Te.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Tl=!1}if(yn=0,Fe=Pe=Te=null,Ir=!1,kr=0,Ls.current=null,n===null||n.return===null){De=1,Lr=t,Ue=null;break}e:{var o=e,u=n.return,m=n,h=t;if(t=Ve,m.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var N=h,R=m,O=R.tag;if((R.mode&1)===0&&(O===0||O===11||O===15)){var I=R.alternate;I?(R.updateQueue=I.updateQueue,R.memoizedState=I.memoizedState,R.lanes=I.lanes):(R.updateQueue=null,R.memoizedState=null)}var z=su(u);if(z!==null){z.flags&=-257,iu(z,u,m,o,t),z.mode&1&&ou(o,N,t),t=z,h=N;var H=t.updateQueue;if(H===null){var Y=new Set;Y.add(h),t.updateQueue=Y}else H.add(h);break e}else{if((t&1)===0){ou(o,N,t),Bs();break e}h=Error(a(426))}}else if(Ne&&m.mode&1){var Oe=su(u);if(Oe!==null){(Oe.flags&65536)===0&&(Oe.flags|=256),iu(Oe,u,m,o,t),Zo($n(h,m));break e}}o=h=$n(h,m),De!==4&&(De=2),Mr===null?Mr=[o]:Mr.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=ru(o,h,t);Aa(o,x);break e;case 1:m=h;var g=o.type,S=o.stateNode;if((o.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(tn===null||!tn.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var L=lu(o,m,t);Aa(o,L);break e}}o=o.return}while(o!==null)}bu(n)}catch(K){t=K,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function Pu(){var e=Ul.current;return Ul.current=Rl,e===null?Rl:e}function Bs(){(De===0||De===3||De===2)&&(De=4),Ge===null||(vn&268435455)===0&&(Pl&268435455)===0||ln(Ge,Ve)}function Bl(e,t){var n=fe;fe|=2;var r=Pu();(Ge!==e||Ve!==t)&&(zt=null,En(e,t));do try{If();break}catch(l){Uu(e,l)}while(!0);if(ts(),fe=n,Ul.current=r,Ue!==null)throw Error(a(261));return Ge=null,Ve=0,De}function If(){for(;Ue!==null;)Du(Ue)}function kf(){for(;Ue!==null&&!Jc();)Du(Ue)}function Du(e){var t=Gu(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?bu(e):Ue=t,Ls.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Ef(n,t,ct),n!==null){Ue=n;return}}else{if(n=Sf(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ue=null;return}}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);De===0&&(De=5)}function Sn(e,t,n){var r=he,l=gt.transition;try{gt.transition=null,he=1,Rf(e,t,n,r)}finally{gt.transition=l,he=r}return null}function Rf(e,t,n,r){do Wn();while(nn!==null);if((fe&6)!==0)throw Error(a(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ad(e,o),e===Ge&&(Ue=Ge=null,Ve=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||bl||(bl=!0,Bu(Yr,function(){return Wn(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=gt.transition,gt.transition=null;var u=he;he=1;var m=fe;fe|=4,Ls.current=null,_f(e,n),ku(n,e),Wd(Bo),Zr=!!Go,Bo=Go=null,e.current=n,Cf(n),Zc(),fe=m,he=u,gt.transition=o}else e.current=n;if(bl&&(bl=!1,nn=e,zl=l),o=e.pendingLanes,o===0&&(tn=null),nd(n.stateNode),lt(e,Ae()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Dl)throw Dl=!1,e=Ps,Ps=null,e;return(zl&1)!==0&&e.tag!==0&&Wn(),o=e.pendingLanes,(o&1)!==0?e===Ds?Ur++:(Ur=0,Ds=e):Ur=0,qt(),null}function Wn(){if(nn!==null){var e=Ti(zl),t=gt.transition,n=he;try{if(gt.transition=null,he=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,zl=0,(fe&6)!==0)throw Error(a(331));var l=fe;for(fe|=4,B=e.current;B!==null;){var o=B,u=o.child;if((B.flags&16)!==0){var m=o.deletions;if(m!==null){for(var h=0;h<m.length;h++){var N=m[h];for(B=N;B!==null;){var R=B;switch(R.tag){case 0:case 11:case 15:jr(8,R,o)}var O=R.child;if(O!==null)O.return=R,B=O;else for(;B!==null;){R=B;var I=R.sibling,z=R.return;if(_u(R),R===N){B=null;break}if(I!==null){I.return=z,B=I;break}B=z}}}var H=o.alternate;if(H!==null){var Y=H.child;if(Y!==null){H.child=null;do{var Oe=Y.sibling;Y.sibling=null,Y=Oe}while(Y!==null)}}B=o}}if((o.subtreeFlags&2064)!==0&&u!==null)u.return=o,B=u;else e:for(;B!==null;){if(o=B,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:jr(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,B=x;break e}B=o.return}}var g=e.current;for(B=g;B!==null;){u=B;var S=u.child;if((u.subtreeFlags&2064)!==0&&S!==null)S.return=u,B=S;else e:for(u=g;B!==null;){if(m=B,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:Ml(9,m)}}catch(K){ke(m,m.return,K)}if(m===u){B=null;break e}var L=m.sibling;if(L!==null){L.return=m.return,B=L;break e}B=m.return}}if(fe=l,qt(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Kr,e)}catch{}r=!0}return r}finally{he=n,gt.transition=t}}return!1}function zu(e,t,n){t=$n(n,t),t=ru(e,t,1),e=Zt(e,t,1),t=Je(),e!==null&&(or(e,1,t),lt(e,t))}function ke(e,t,n){if(e.tag===3)zu(e,e,n);else for(;t!==null;){if(t.tag===3){zu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=$n(n,e),e=lu(t,e,1),t=Zt(t,e,1),e=Je(),t!==null&&(or(t,1,e),lt(t,e));break}}t=t.return}}function Af(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,Ge===e&&(Ve&n)===n&&(De===4||De===3&&(Ve&130023424)===Ve&&500>Ae()-Us?En(e,0):Ms|=n),lt(e,t)}function Fu(e,t){t===0&&((e.mode&1)===0?t=1:(t=Qr,Qr<<=1,(Qr&130023424)===0&&(Qr=4194304)));var n=Je();e=Pt(e,t),e!==null&&(or(e,t,n),lt(e,n))}function Of(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fu(e,n)}function jf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}r!==null&&r.delete(t),Fu(e,n)}var Gu;Gu=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)nt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return nt=!1,xf(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,Ne&&(t.flags&1048576)!==0&&Ea(t,yl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jl(e,t),e=t.pendingProps;var l=Pn(t,Ye.current);Bn(t,n),l=fs(null,t,r,e,l,n);var o=ps();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(o=!0,ml(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,os(t),l.updater=Al,t.stateNode=l,l._reactInternals=t,xs(t,r,e,n),t=_s(null,t,r,!0,o,n)):(t.tag=0,Ne&&o&&Qo(t),qe(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jl(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Mf(r),e=Nt(r,e),l){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=pu(null,t,r,e,n);break e;case 11:t=au(null,t,r,e,n);break e;case 14:t=uu(null,t,r,Nt(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),Ns(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),pu(e,t,r,l,n);case 3:e:{if(mu(t),e===null)throw Error(a(387));r=t.pendingProps,o=t.memoizedState,l=o.element,Ra(e,t),_l(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=$n(Error(a(423)),t),t=hu(e,t,r,n,l);break e}else if(r!==l){l=$n(Error(a(424)),t),t=hu(e,t,r,n,l);break e}else for(ut=Wt(t.stateNode.containerInfo.firstChild),at=t,Ne=!0,St=null,n=Ia(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===l){t=bt(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return ja(t),e===null&&Jo(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,u=l.children,Ho(r,l)?u=null:o!==null&&Ho(r,o)&&(t.flags|=32),fu(e,t),qe(e,t,u,n),t.child;case 6:return e===null&&Jo(t),null;case 13:return gu(e,t,n);case 4:return ss(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fn(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),au(e,t,r,l,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,u=l.value,ye(El,r._currentValue),r._currentValue=u,o!==null)if(Et(o.value,u)){if(o.children===l.children&&!et.current){t=bt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var m=o.dependencies;if(m!==null){u=o.child;for(var h=m.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=Dt(-1,n&-n),h.tag=2;var N=o.updateQueue;if(N!==null){N=N.shared;var R=N.pending;R===null?h.next=h:(h.next=R.next,R.next=h),N.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),rs(o.return,n,t),m.lanes|=n;break}h=h.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(a(341));u.lanes|=n,m=u.alternate,m!==null&&(m.lanes|=n),rs(u,n,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}qe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Bn(t,n),l=mt(l),r=r(l),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,l=Nt(r,t.pendingProps),l=Nt(r.type,l),uu(e,t,r,l,n);case 15:return cu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),jl(e,t),t.tag=1,tt(r)?(e=!0,ml(t)):e=!1,Bn(t,n),tu(t,r,l),xs(t,r,l,n),_s(null,t,r,!0,e,n);case 19:return vu(e,t,n);case 22:return du(e,t,n)}throw Error(a(156,t.tag))};function Bu(e,t){return Si(e,t)}function Lf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new Lf(e,t,n,r)}function Hs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mf(e){if(typeof e=="function")return Hs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ce)return 11;if(e===Le)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hl(e,t,n,r,l,o){var u=2;if(r=e,typeof e=="function")Hs(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case oe:return Nn(n.children,l,o,t);case ge:u=8,l|=8;break;case _e:return e=yt(12,n,t,l|2),e.elementType=_e,e.lanes=o,e;case Re:return e=yt(13,n,t,l),e.elementType=Re,e.lanes=o,e;case je:return e=yt(19,n,t,l),e.elementType=je,e.lanes=o,e;case me:return $l(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ie:u=10;break e;case be:u=9;break e;case Ce:u=11;break e;case Le:u=14;break e;case xe:u=16,r=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=yt(u,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Nn(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function $l(e,t,n,r){return e=yt(22,e,r,t),e.elementType=me,e.lanes=n,e.stateNode={isHidden:!1},e}function $s(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function Vs(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uf(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ys(e,t,n,r,l,o,u,m,h){return e=new Uf(e,t,n,m,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},os(o),e}function Pf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:de,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Hu(e){if(!e)return Xt;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(tt(n))return ya(e,n,t)}return t}function $u(e,t,n,r,l,o,u,m,h){return e=Ys(n,r,!0,e,l,o,u,m,h),e.context=Hu(null),n=e.current,r=Je(),l=rn(n),o=Dt(r,l),o.callback=t??null,Zt(n,o,l),e.current.lanes=l,or(e,l,r),lt(e,r),e}function Vl(e,t,n,r){var l=t.current,o=Je(),u=rn(l);return n=Hu(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(o,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zt(l,t,u),e!==null&&(wt(e,l,u,o),Nl(e,l,u)),u}function Yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ks(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}function Df(){return null}var Yu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ws(e){this._internalRoot=e}Kl.prototype.render=Ws.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Vl(e,t,null,null)},Kl.prototype.unmount=Ws.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){Vl(null,e,null,null)}),t[jt]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ri();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vt.length&&t!==0&&t<Vt[n].priority;n++);Vt.splice(n,0,e),n===0&&ji(e)}};function Qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ku(){}function bf(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var N=Yl(u);o.call(N)}}var u=$u(t,r,e,0,null,!1,!1,"",Ku);return e._reactRootContainer=u,e[jt]=u.current,xr(e.nodeType===8?e.parentNode:e),xn(),u}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var m=r;r=function(){var N=Yl(h);m.call(N)}}var h=Ys(e,0,!1,null,null,!1,!1,"",Ku);return e._reactRootContainer=h,e[jt]=h.current,xr(e.nodeType===8?e.parentNode:e),xn(function(){Vl(t,h,n,r)}),h}function Ql(e,t,n,r,l){var o=n._reactRootContainer;if(o){var u=o;if(typeof l=="function"){var m=l;l=function(){var h=Yl(u);m.call(h)}}Vl(t,u,e,l)}else u=bf(n,t,e,l,r);return Yl(u)}Ii=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lr(t.pendingLanes);n!==0&&(xo(t,n|1),lt(t,Ae()),(fe&6)===0&&(Kn=Ae()+500,qt()))}break;case 13:xn(function(){var r=Pt(e,1);if(r!==null){var l=Je();wt(r,e,1,l)}}),Ks(e,1)}},Eo=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var n=Je();wt(t,e,134217728,n)}Ks(e,134217728)}},ki=function(e){if(e.tag===13){var t=rn(e),n=Pt(e,t);if(n!==null){var r=Je();wt(n,e,t,r)}Ks(e,t)}},Ri=function(){return he},Ai=function(e,t){var n=he;try{return he=e,t()}finally{he=n}},fo=function(e,t,n){switch(t){case"input":if(qn(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=fl(r);if(!l)throw Error(a(90));He(r),qn(r,l)}}}break;case"textarea":oi(e,n);break;case"select":t=n.value,t!=null&&Cn(e,!!n.multiple,t,!1)}},mi=Fs,hi=xn;var zf={usingClientEntryPoint:!1,Events:[Nr,Mn,fl,fi,pi,Fs]},Pr={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ff={bundleType:Pr.bundleType,version:Pr.version,rendererPackageName:Pr.rendererPackageName,rendererConfig:Pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xi(e),e===null?null:e.stateNode},findFiberByHostInstance:Pr.findFiberByHostInstance||Df,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Kr=Xl.inject(Ff),It=Xl}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zf,ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qs(t))throw Error(a(200));return Pf(e,t,null,n)},ot.createRoot=function(e,t){if(!Qs(e))throw Error(a(299));var n=!1,r="",l=Yu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ys(e,1,!1,null,null,n,!1,r,l),e[jt]=t.current,xr(e.nodeType===8?e.parentNode:e),new Ws(t)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=xi(t),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return xn(e)},ot.hydrate=function(e,t,n){if(!Wl(t))throw Error(a(200));return Ql(null,e,t,!0,n)},ot.hydrateRoot=function(e,t,n){if(!Qs(e))throw Error(a(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",u=Yu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=$u(t,null,e,1,n??null,l,!1,o,u),e[jt]=t.current,xr(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Kl(t)},ot.render=function(e,t,n){if(!Wl(t))throw Error(a(200));return Ql(null,e,t,!1,n)},ot.unmountComponentAtNode=function(e){if(!Wl(e))throw Error(a(40));return e._reactRootContainer?(xn(function(){Ql(null,null,e,!1,function(){e._reactRootContainer=null,e[jt]=null})}),!0):!1},ot.unstable_batchedUpdates=Fs,ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wl(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return Ql(e,t,n,!1,r)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var tc;function Qf(){if(tc)return Js.exports;tc=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),Js.exports=Wf(),Js.exports}var nc;function Xf(){if(nc)return ql;nc=1;var s=Qf();return ql.createRoot=s.createRoot,ql.hydrateRoot=s.hydrateRoot,ql}var qf=Xf();const Tc={HEADER:{MISSION_LABEL:"Mission"},SIDEBAR:{PROFILE_NAME:"Operative 7",STATUS_ONLINE:"Online",SECTION_STATUS:"Status",SECTION_INVENTORY:"Inventory"},MENU:{SAVE_GAME:"Save Game",LOAD_GAME:"Load Game",RESTART_MISSION:"Restart Mission",EXIT_SIMULATION:"Exit Simulation",CONFIRM_RESTART_TITLE:"RESTART MISSION?",CONFIRM_RESTART_MSG:"Current progress will be lost. Are you sure you want to abort this timeline?",CONFIRM_EXIT_TITLE:"TERMINATE SIMULATION?",CONFIRM_EXIT_MSG:"Any unsaved progress will be lost. Confirm disconnection?",CONFIRM_LOAD_TITLE:"OVERWRITE TIMELINE?",CONFIRM_LOAD_MSG:"Loading a new save will erase current progress. Proceed?",BTN_CONFIRM:"Confirm",BTN_CANCEL:"Cancel"},GAME_OVER:{TITLE:"Signal Lost",MESSAGE:"Vital signs critical. Connection terminated.",BUTTON_REBOOT:"Reboot System"},ERRORS:{SAVE_FAILED:"Failed to save game. See console for details.",LOAD_INVALID:"Failed to load save file: Invalid format.",LOAD_ERROR:"Error reading save file.",IMPORT_INVALID:"Invalid save file format",IMPORT_ERROR:"Error importing save:",UNKNOWN_MISSION:"Unknown Mission"},BUTTON_SUMMARY:"View Mission Progress",INPUT_PLACEHOLDER:"What is your next move?",INPUT_FOOTER:"Press Enter to send",TEMPLATES:{ACTION_INSPECT:"Inspecting {0}..."},API_MODAL:{TITLE:"API Configuration",SUBTITLE:"Enter your Google Gemini API Key",PLACEHOLDER:"AIzaSy...",PRIVACY_NOTE:"Your key is stored locally in your browser. It is never sent to any server other than Google's API.",BTN_TEST:"Test Key",BTN_SAVE:"Save",BTN_SAVE_CONFIG:"Save Configuration",STATUS_TESTING:"Verifying key with Google...",STATUS_SUCCESS:"Connection Successful! Key is valid.",ERR_EMPTY:"Please enter an API Key first.",LANGUAGE_LABEL:"Language (Optional)",LANGUAGE_PLACEHOLDER:"e.g. Indonesian, English, Japanese..."},API_ERRORS:{MISSING_KEY:"API Key is missing",EMPTY_KEY:"API Key is empty",INVALID_KEY:"Invalid API Key. Please check your key.",ACCESS_DENIED:"Access Denied. API Key may be invalid or restricted.",QUOTA_EXCEEDED:"Quota Exceeded. You have hit the rate limit.",SERVER_ERROR:"Google Server Error. Please try again later.",SERVICE_UNAVAILABLE:"Service Unavailable. Google servers are overloaded.",NETWORK_ERROR:"Network Error. Check your internet connection.",UNKNOWN_ERROR:"Unknown API Error",DEFAULT_FAIL:"Failed to connect to Gemini API.",JSON_PARSE:"The system glitched. Data corruption detected. (JSON Parse Error)"},CHARACTER_CREATION:{LOADING_TITLE:"INITIALIZING SUBJECT...",LOADING_SUBTITLE:"Generating neural patterns",ERROR_TITLE:"INITIALIZATION FAILURE",ERROR_DEFAULT:"Failed to initialize simulation parameters.",BTN_ABORT:"ABORT",BTN_RETRY:"RETRY SEQUENCE",BTN_ABORT_FULL:"ABORT SEQUENCE",TITLE:"IDENTITY CONSTRUCT",LABEL_NAME:"Subject Name",PLACEHOLDER_NAME:"Enter Name...",TITLE_RANDOMIZE:"Randomize Name",LABEL_ROLE:"Select Specialization",LOADOUT_TITLE:"Standard Issue Loadout",LOADOUT_DESC:"Start with role-specific equipment",STATS_TITLE:"Vital Statistics",EQUIPMENT_TITLE:"Equipment Manifest",BTN_INITIATE:"INITIATE SIMULATION"},GENRE_SELECTION:{TITLE:"NEXUS RPG",SUBTITLE:"Initialize your neural link. Select a simulation parameter.",BTN_SETTINGS:"Settings",BTN_RESUME:"RESUME MISSION",LABEL_ACTIVE:"SESSION ACTIVE",WARNING_TITLE:"Overwrite Session?",WARNING_MSG:"Starting a new simulation will erase your current progress. Are you sure?",BTN_CONFIRM:"Overwrite & Start",BTN_CANCEL:"Cancel",STATUS_GAME_OVER:"Previous Run Ended (Game Over)"},STATS:{HEALTH:"Health",ENERGY:"Energy",SHIELD:"Shield",SANITY:"Sanity",STAMINA:"Stamina",MOOD:"Mood",CHARM:"Charm"},GENRES:{SCIFI:{DESC:"High-tech, low-life. Neon lights and chrome."},HORROR:{DESC:"Ancient madness in a derelict station."},ROMANCE:{DESC:"Love and heartbreak in a digital age."}},NARRATIVE:{PROCESSING:"Nexus processing..."}},ti={HEADER:{MISSION_LABEL:"Misi"},SIDEBAR:{PROFILE_NAME:"Operatif 7",STATUS_ONLINE:"Online",SECTION_STATUS:"Status",SECTION_INVENTORY:"Inventaris"},MENU:{SAVE_GAME:"Simpan Game",LOAD_GAME:"Muat Game",RESTART_MISSION:"Ulangi Misi",EXIT_SIMULATION:"Keluar Simulasi",CONFIRM_RESTART_TITLE:"ULANGI MISI?",CONFIRM_RESTART_MSG:"Progres saat ini akan hilang. Yakin ingin membatalkan timeline ini?",CONFIRM_EXIT_TITLE:"AKHIRI SIMULASI?",CONFIRM_EXIT_MSG:"Progres yang belum disimpan akan hilang. Konfirmasi pemutusan?",CONFIRM_LOAD_TITLE:"TIMPA TIMELINE?",CONFIRM_LOAD_MSG:"Memuat save baru akan menghapus progres saat ini. Lanjutkan?",BTN_CONFIRM:"Konfirmasi",BTN_CANCEL:"Batal"},GAME_OVER:{TITLE:"Sinyal Hilang",MESSAGE:"Tanda vital kritis. Koneksi terputus.",BUTTON_REBOOT:"Reboot Sistem"},ERRORS:{SAVE_FAILED:"Gagal menyimpan game. Cek konsol untuk detail.",LOAD_INVALID:"Gagal memuat file: Format tidak valid.",LOAD_ERROR:"Error membaca file simpanan.",IMPORT_INVALID:"Format file tidak valid",IMPORT_ERROR:"Error mengimpor:",UNKNOWN_MISSION:"Misi Tidak Diketahui"},BUTTON_SUMMARY:"Lihat Progres Misi",INPUT_PLACEHOLDER:"Apa langkah selanjutnya?",INPUT_FOOTER:"Tekan Enter untuk kirim",TEMPLATES:{ACTION_INSPECT:"Memeriksa {0}..."},API_MODAL:{TITLE:"Konfigurasi API",SUBTITLE:"Masukkan Google Gemini API Key Anda",PLACEHOLDER:"AIzaSy...",PRIVACY_NOTE:"Key Anda disimpan secara lokal di browser. Tidak pernah dikirim ke server selain Google API.",BTN_TEST:"Tes Key",BTN_SAVE:"Simpan",BTN_SAVE_CONFIG:"Simpan Konfigurasi",STATUS_TESTING:"Memverifikasi key dengan Google...",STATUS_SUCCESS:"Koneksi Berhasil! Key valid.",ERR_EMPTY:"Mohon masukkan API Key terlebih dahulu.",LANGUAGE_LABEL:"Bahasa (Opsional)",LANGUAGE_PLACEHOLDER:"cth. Indonesian, English, Japanese..."},API_ERRORS:{MISSING_KEY:"API Key hilang",EMPTY_KEY:"API Key kosong",INVALID_KEY:"API Key tidak valid. Cek key Anda.",ACCESS_DENIED:"Akses Ditolak. API Key mungkin salah atau dibatasi.",QUOTA_EXCEEDED:"Kuota Terlampaui. Anda mencapai batas rate limit.",SERVER_ERROR:"Google Server Error. Coba lagi nanti.",SERVICE_UNAVAILABLE:"Layanan Tidak Tersedia. Server Google sibuk.",NETWORK_ERROR:"Error Jaringan. Cek koneksi internet Anda.",UNKNOWN_ERROR:"Error API Tidak Diketahui",DEFAULT_FAIL:"Gagal terhubung ke Gemini API.",JSON_PARSE:"Sistem glitch. Korupsi data terdeteksi. (JSON Parse Error)"},CHARACTER_CREATION:{LOADING_TITLE:"MENGINISIALISASI SUBJEK...",LOADING_SUBTITLE:"Membuat pola saraf",ERROR_TITLE:"KEGAGALAN INISIALISASI",ERROR_DEFAULT:"Gagal menginisialisasi parameter simulasi.",BTN_ABORT:"BATALKAN",BTN_RETRY:"ULANGI SEKUENS",BTN_ABORT_FULL:"BATALKAN SEKUENS",TITLE:"KONSTRUKSI IDENTITAS",LABEL_NAME:"Nama Subjek",PLACEHOLDER_NAME:"Masukkan Nama...",TITLE_RANDOMIZE:"Acak Nama",LABEL_ROLE:"Pilih Spesialisasi",LOADOUT_TITLE:"Perlengkapan Standar",LOADOUT_DESC:"Mulai dengan peralatan khusus peran",STATS_TITLE:"Statistik Vital",EQUIPMENT_TITLE:"Manifes Peralatan",BTN_INITIATE:"MULAI SIMULASI"},GENRE_SELECTION:{TITLE:"NEXUS RPG",SUBTITLE:"Inisialisasi neural link. Pilih parameter simulasi.",BTN_SETTINGS:"Pengaturan",BTN_RESUME:"LANJUTKAN MISI",LABEL_ACTIVE:"SESI AKTIF",WARNING_TITLE:"Timpa Sesi?",WARNING_MSG:"Memulai simulasi baru akan menghapus progres saat ini. Anda yakin?",BTN_CONFIRM:"Timpa & Mulai",BTN_CANCEL:"Batal",STATUS_GAME_OVER:"Run Sebelumnya Berakhir (Game Over)"},STATS:{HEALTH:"Kesehatan",ENERGY:"Energi",SHIELD:"Perisai",SANITY:"Kewarasan",STAMINA:"Stamina",MOOD:"Mood",CHARM:"Pesona"},GENRES:{SCIFI:{DESC:"Teknologi tinggi, hidup rendah. Lampu neon dan krom."},HORROR:{DESC:"Kegilaan kuno di stasiun terlantar."},ROMANCE:{DESC:"Cinta dan patah hati di era digital."}},NARRATIVE:{PROCESSING:"Nexus memproses..."}},Jf=Tc,Ft={English:Tc,Indonesian:ti,"Bahasa Indonesia":ti,ID:ti},Zf={APP_TITLE:"Nexus RPG",APP_VERSION:"v0.0.1  System Alpha",GENRE_DEFAULT:"scifi",GENRE_LABELS:{SCIFI:"Cyberpunk 2077",HORROR:"Cosmic Horror",ROMANCE:"Neo-Tokyo Romance"}},ep={QUEST_INIT:"Initializing...",QUEST_DEFAULT:"Neon Rain",SUMMARY_INIT:"Waiting for AI response...",SUMMARY_RESTORED:"Simulation restored.",HISTORY_SYSTEM_INIT:"Waiting for AI response...",HISTORY_AI_INIT:"Waiting for AI response...",LOAD_SUCCESS_MSG:"Game loaded successfully."},ve={FIXED:Zf,UI:Jf,CONTENT:ep},Ic="nexus_rpg_save_v2",vt=(s,c)=>{try{const a=localStorage.getItem(Ic);if(a){const d=JSON.parse(a);return d[s]!==void 0?d[s]:c}}catch(a){console.error("Failed to load state",a)}return c};function tp(){const[s,c]=j.useState(()=>vt("stats",{health:100,energy:100,shield:100})),[a,d]=j.useState(()=>vt("inventory",[{name:"Plasma Cutter",count:1,tags:["tool","heat","weapon"],type:"tool",icon:""},{name:"Stimpack",count:3,tags:["consumable","heal"],type:"consumable",icon:""},{name:"Encrypted Datapad",count:1,tags:["intel","encrypted"],type:"intel",icon:""}])),[f,p]=j.useState(()=>vt("quest",ve.CONTENT.QUEST_DEFAULT)),[y,E]=j.useState(()=>vt("genre",ve.FIXED.GENRE_DEFAULT)),[_,A]=j.useState(()=>vt("environment",null)),[k,T]=j.useState(null),[C,U]=j.useState(()=>vt("gameOver",!1)),[b,M]=j.useState(()=>vt("summary",ve.CONTENT.SUMMARY_INIT)),[G,se]=j.useState(()=>vt("history",[{id:1,role:"system",content:ve.CONTENT.HISTORY_SYSTEM_INIT,timestamp:"00:00"},{id:2,role:"ai",content:ve.CONTENT.HISTORY_AI_INIT,timestamp:"00:01"}])),[ae,ie]=j.useState(()=>vt("playerName","")),[F,te]=j.useState(()=>vt("playerRole",null)),[de,oe]=j.useState(()=>vt("setupData",null)),[ge,_e]=j.useState(()=>vt("initialCharacterData",null)),[Ie,be]=j.useState([]),[Ce,Re]=j.useState(!1),[je,Le]=j.useState(()=>localStorage.getItem("nexus_api_key")||""),[xe,me]=j.useState(()=>localStorage.getItem("nexus_language")||"English"),[P,W]=j.useState(()=>localStorage.getItem("nexus_mock_mode")==="true"),[D,v]=j.useState(!1),[w,re]=j.useState(null),[$,J]=j.useState(!1),[V,q]=j.useState(()=>{try{const ze=localStorage.getItem("nexus_ui_custom");return ze?JSON.parse(ze):null}catch{return null}}),Z=(ze,He,Me=!1)=>{q(dt=>{let st=He;Me&&dt&&dt.language===ze&&(st={...dt.data,...He});const Tt={language:ze,data:st};return localStorage.setItem("nexus_ui_custom",JSON.stringify(Tt)),Tt})},ce=(ze,He)=>{const Me={...ze};return He&&typeof He=="object"&&!Array.isArray(He)&&Object.keys(He).forEach(dt=>{const st=He[dt],Tt=ze[dt],qn=st&&typeof st=="object"&&!Array.isArray(st);Tt&&typeof Tt=="object"&&!Array.isArray(Tt)?qn&&(Me[dt]=ce(Tt,st)):st!=null&&Object.assign(Me,{[dt]:st})}),Me},ne=j.useMemo(()=>{try{if(V&&V.language.toLowerCase()===xe.toLowerCase())return{...ve,UI:ce(ve.UI,V.data)}}catch(He){console.error("Error merging UI text, falling back to English:",He)}const ze=Object.keys(Ft).find(He=>He.toLowerCase()===xe.toLowerCase())||"English";return{...ve,UI:Ft[ze]}},[xe,V]);return{stats:s,setStats:c,inventory:a,setInventory:d,quest:f,setQuest:p,genre:y,setGenre:E,environment:_,setEnvironment:A,lastOutcome:k,setLastOutcome:T,gameOver:C,setGameOver:U,summary:b,setSummary:M,history:G,setHistory:se,playerName:ae,setPlayerName:ie,playerRole:F,setPlayerRole:te,setupData:de,setSetupData:oe,initialCharacterData:ge,setInitialCharacterData:_e,choices:Ie,setChoices:be,isProcessing:Ce,setIsProcessing:Re,apiKey:je,setApiKey:Le,language:xe,setLanguage:me,isMockMode:P,setIsMockMode:W,qteActive:D,setQteActive:v,feedback:w,setFeedback:re,allowCombo:$,setAllowCombo:J,uiText:ne,updateUiText:Z,STORAGE_KEY:Ic}}const np=async s=>{const c=JSON.stringify(s,null,2),a=`nexus_save_${new Date().toISOString().slice(0,10)}.json`;try{if("showSaveFilePicker"in window){const f=await(await window.showSaveFilePicker({suggestedName:a,types:[{description:"Nexus RPG Save File",accept:{"application/json":[".json"]}}]})).createWritable();await f.write(c),await f.close()}else{const d=new Blob([c],{type:"application/json"}),f=URL.createObjectURL(d),p=document.createElement("a");p.href=f,p.download=a,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(f)}}catch(d){if(d.name!=="AbortError")throw d}},rp=s=>new Promise((c,a)=>{if(!s){a(new Error("No file provided"));return}const d=new FileReader;d.onload=f=>{try{const p=JSON.parse(f.target.result);c(p)}catch(p){a(p)}},d.onerror=()=>a(new Error("Failed to read file")),d.readAsText(s)});function lp(s,c){const{stats:a,setStats:d,inventory:f,setInventory:p,quest:y,setQuest:E,genre:_,setGenre:A,gameOver:k,setGameOver:T,history:C,setHistory:U,summary:b,setSummary:M}=s;j.useEffect(()=>{const F={stats:a,inventory:f,quest:y,genre:_,gameOver:k,history:C,summary:b};localStorage.setItem(c,JSON.stringify(F))},[a,f,y,_,k,C,b,c]);const G=j.useCallback(()=>{const F=C.slice(-40);return{stats:a,inventory:f,quest:y,genre:_,gameOver:k,history:F,summary:b,timestamp:Date.now(),version:ve.FIXED.APP_VERSION}},[a,f,y,_,k,C,b]),se=j.useCallback(F=>{if(!F||!F.stats||!F.inventory)return console.error(ve.UI.ERRORS.IMPORT_INVALID),!1;try{return d(F.stats),p(F.inventory),E(F.quest||ve.UI.ERRORS.UNKNOWN_MISSION),A(F.genre||ve.FIXED.GENRE_DEFAULT),T(F.gameOver||!1),U(te=>[...F.history||[],{id:Date.now(),role:"system",content:ve.CONTENT.LOAD_SUCCESS_MSG,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),action:"ringkasan",actionLabel:ve.UI.BUTTON_SUMMARY}]),M(F.summary||ve.CONTENT.SUMMARY_RESTORED),localStorage.setItem(c,JSON.stringify(F)),!0}catch(te){return console.error(ve.UI.ERRORS.IMPORT_ERROR,te),!1}},[d,p,E,A,T,U,M,c]),ae=j.useCallback(async()=>{try{const F=G();return await np(F),!0}catch(F){return console.error("Failed to save game:",F),alert(ve.UI.ERRORS.SAVE_FAILED),!1}},[G]),ie=j.useCallback(async F=>{if(!F)return!1;try{const te=await rp(F),de=se(te);return de||alert(ve.UI.ERRORS.LOAD_INVALID),de}catch(te){return console.error("Failed to parse save file",te),alert(ve.UI.ERRORS.LOAD_ERROR),!1}},[se]);return{exportSave:G,importSave:se,saveGame:ae,loadGame:ie}}var rc;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(rc||(rc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lc;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(lc||(lc={}));var oc;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(oc||(oc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=["user","model","function","system"];var ic;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ic||(ic={}));var ac;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(ac||(ac={}));var uc;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(uc||(uc={}));var cc;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(cc||(cc={}));var br;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(br||(br={}));var dc;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(dc||(dc={}));var fc;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(fc||(fc={}));var pc;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(pc||(pc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe extends Error{constructor(c){super(`[GoogleGenerativeAI Error]: ${c}`)}}class Qn extends Xe{constructor(c,a){super(c),this.response=a}}class kc extends Xe{constructor(c,a,d,f){super(c),this.status=a,this.statusText=d,this.errorDetails=f}}class un extends Xe{}class Rc extends Xe{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="https://generativelanguage.googleapis.com",sp="v1beta",ip="0.24.1",ap="genai-js";var _n;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(_n||(_n={}));class up{constructor(c,a,d,f,p){this.model=c,this.task=a,this.apiKey=d,this.stream=f,this.requestOptions=p}toString(){var c,a;const d=((c=this.requestOptions)===null||c===void 0?void 0:c.apiVersion)||sp;let p=`${((a=this.requestOptions)===null||a===void 0?void 0:a.baseUrl)||op}/${d}/${this.model}:${this.task}`;return this.stream&&(p+="?alt=sse"),p}}function cp(s){const c=[];return s!=null&&s.apiClient&&c.push(s.apiClient),c.push(`${ap}/${ip}`),c.join(" ")}async function dp(s){var c;const a=new Headers;a.append("Content-Type","application/json"),a.append("x-goog-api-client",cp(s.requestOptions)),a.append("x-goog-api-key",s.apiKey);let d=(c=s.requestOptions)===null||c===void 0?void 0:c.customHeaders;if(d){if(!(d instanceof Headers))try{d=new Headers(d)}catch(f){throw new un(`unable to convert customHeaders value ${JSON.stringify(d)} to Headers: ${f.message}`)}for(const[f,p]of d.entries()){if(f==="x-goog-api-key")throw new un(`Cannot set reserved header name ${f}`);if(f==="x-goog-api-client")throw new un(`Header name ${f} can only be set using the apiClient field`);a.append(f,p)}}return a}async function fp(s,c,a,d,f,p){const y=new up(s,c,a,d,p);return{url:y.toString(),fetchOptions:Object.assign(Object.assign({},gp(p)),{method:"POST",headers:await dp(y),body:f})}}async function Gr(s,c,a,d,f,p={},y=fetch){const{url:E,fetchOptions:_}=await fp(s,c,a,d,f,p);return pp(E,_,y)}async function pp(s,c,a=fetch){let d;try{d=await a(s,c)}catch(f){mp(f,s)}return d.ok||await hp(d,s),d}function mp(s,c){let a=s;throw a.name==="AbortError"?(a=new Rc(`Request aborted when fetching ${c.toString()}: ${s.message}`),a.stack=s.stack):s instanceof kc||s instanceof un||(a=new Xe(`Error fetching from ${c.toString()}: ${s.message}`),a.stack=s.stack),a}async function hp(s,c){let a="",d;try{const f=await s.json();a=f.error.message,f.error.details&&(a+=` ${JSON.stringify(f.error.details)}`,d=f.error.details)}catch{}throw new kc(`Error fetching from ${c.toString()}: [${s.status} ${s.statusText}] ${a}`,s.status,s.statusText,d)}function gp(s){const c={};if((s==null?void 0:s.signal)!==void 0||(s==null?void 0:s.timeout)>=0){const a=new AbortController;(s==null?void 0:s.timeout)>=0&&setTimeout(()=>a.abort(),s.timeout),s!=null&&s.signal&&s.signal.addEventListener("abort",()=>{a.abort()}),c.signal=a.signal}return c}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Jl(s.candidates[0]))throw new Qn(`${an(s)}`,s);return yp(s)}else if(s.promptFeedback)throw new Qn(`Text not available. ${an(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jl(s.candidates[0]))throw new Qn(`${an(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),mc(s)[0]}else if(s.promptFeedback)throw new Qn(`Function call not available. ${an(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Jl(s.candidates[0]))throw new Qn(`${an(s)}`,s);return mc(s)}else if(s.promptFeedback)throw new Qn(`Function call not available. ${an(s)}`,s)},s}function yp(s){var c,a,d,f;const p=[];if(!((a=(c=s.candidates)===null||c===void 0?void 0:c[0].content)===null||a===void 0)&&a.parts)for(const y of(f=(d=s.candidates)===null||d===void 0?void 0:d[0].content)===null||f===void 0?void 0:f.parts)y.text&&p.push(y.text),y.executableCode&&p.push("\n```"+y.executableCode.language+`
`+y.executableCode.code+"\n```\n"),y.codeExecutionResult&&p.push("\n```\n"+y.codeExecutionResult.output+"\n```\n");return p.length>0?p.join(""):""}function mc(s){var c,a,d,f;const p=[];if(!((a=(c=s.candidates)===null||c===void 0?void 0:c[0].content)===null||a===void 0)&&a.parts)for(const y of(f=(d=s.candidates)===null||d===void 0?void 0:d[0].content)===null||f===void 0?void 0:f.parts)y.functionCall&&p.push(y.functionCall);if(p.length>0)return p}const vp=[br.RECITATION,br.SAFETY,br.LANGUAGE];function Jl(s){return!!s.finishReason&&vp.includes(s.finishReason)}function an(s){var c,a,d;let f="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)f+="Response was blocked",!((c=s.promptFeedback)===null||c===void 0)&&c.blockReason&&(f+=` due to ${s.promptFeedback.blockReason}`),!((a=s.promptFeedback)===null||a===void 0)&&a.blockReasonMessage&&(f+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((d=s.candidates)===null||d===void 0)&&d[0]){const p=s.candidates[0];Jl(p)&&(f+=`Candidate was blocked due to ${p.finishReason}`,p.finishMessage&&(f+=`: ${p.finishMessage}`))}return f}function zr(s){return this instanceof zr?(this.v=s,this):new zr(s)}function xp(s,c,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=a.apply(s,c||[]),f,p=[];return f={},y("next"),y("throw"),y("return"),f[Symbol.asyncIterator]=function(){return this},f;function y(C){d[C]&&(f[C]=function(U){return new Promise(function(b,M){p.push([C,U,b,M])>1||E(C,U)})})}function E(C,U){try{_(d[C](U))}catch(b){T(p[0][3],b)}}function _(C){C.value instanceof zr?Promise.resolve(C.value.v).then(A,k):T(p[0][2],C)}function A(C){E("next",C)}function k(C){E("throw",C)}function T(C,U){C(U),p.shift(),p.length&&E(p[0][0],p[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Ep(s){const c=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),a=_p(c),[d,f]=a.tee();return{stream:Np(d),response:Sp(f)}}async function Sp(s){const c=[],a=s.getReader();for(;;){const{done:d,value:f}=await a.read();if(d)return ri(Cp(c));c.push(f)}}function Np(s){return xp(this,arguments,function*(){const a=s.getReader();for(;;){const{value:d,done:f}=yield zr(a.read());if(f)break;yield yield zr(ri(d))}})}function _p(s){const c=s.getReader();return new ReadableStream({start(d){let f="";return p();function p(){return c.read().then(({value:y,done:E})=>{if(E){if(f.trim()){d.error(new Xe("Failed to parse stream"));return}d.close();return}f+=y;let _=f.match(hc),A;for(;_;){try{A=JSON.parse(_[1])}catch{d.error(new Xe(`Error parsing JSON response: "${_[1]}"`));return}d.enqueue(A),f=f.substring(_[0].length),_=f.match(hc)}return p()}).catch(y=>{let E=y;throw E.stack=y.stack,E.name==="AbortError"?E=new Rc("Request aborted when reading from the stream"):E=new Xe("Error reading from the stream"),E})}}})}function Cp(s){const c=s[s.length-1],a={promptFeedback:c==null?void 0:c.promptFeedback};for(const d of s){if(d.candidates){let f=0;for(const p of d.candidates)if(a.candidates||(a.candidates=[]),a.candidates[f]||(a.candidates[f]={index:f}),a.candidates[f].citationMetadata=p.citationMetadata,a.candidates[f].groundingMetadata=p.groundingMetadata,a.candidates[f].finishReason=p.finishReason,a.candidates[f].finishMessage=p.finishMessage,a.candidates[f].safetyRatings=p.safetyRatings,p.content&&p.content.parts){a.candidates[f].content||(a.candidates[f].content={role:p.content.role||"user",parts:[]});const y={};for(const E of p.content.parts)E.text&&(y.text=E.text),E.functionCall&&(y.functionCall=E.functionCall),E.executableCode&&(y.executableCode=E.executableCode),E.codeExecutionResult&&(y.codeExecutionResult=E.codeExecutionResult),Object.keys(y).length===0&&(y.text=""),a.candidates[f].content.parts.push(y)}f++}d.usageMetadata&&(a.usageMetadata=d.usageMetadata)}return a}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(s,c,a,d){const f=await Gr(c,_n.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(a),d);return Ep(f)}async function Oc(s,c,a,d){const p=await(await Gr(c,_n.GENERATE_CONTENT,s,!1,JSON.stringify(a),d)).json();return{response:ri(p)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function Fr(s){let c=[];if(typeof s=="string")c=[{text:s}];else for(const a of s)typeof a=="string"?c.push({text:a}):c.push(a);return wp(c)}function wp(s){const c={role:"user",parts:[]},a={role:"function",parts:[]};let d=!1,f=!1;for(const p of s)"functionResponse"in p?(a.parts.push(p),f=!0):(c.parts.push(p),d=!0);if(d&&f)throw new Xe("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!d&&!f)throw new Xe("No content is provided for sending chat message.");return d?c:a}function Tp(s,c){var a;let d={model:c==null?void 0:c.model,generationConfig:c==null?void 0:c.generationConfig,safetySettings:c==null?void 0:c.safetySettings,tools:c==null?void 0:c.tools,toolConfig:c==null?void 0:c.toolConfig,systemInstruction:c==null?void 0:c.systemInstruction,cachedContent:(a=c==null?void 0:c.cachedContent)===null||a===void 0?void 0:a.name,contents:[]};const f=s.generateContentRequest!=null;if(s.contents){if(f)throw new un("CountTokensRequest must have one of contents or generateContentRequest, not both.");d.contents=s.contents}else if(f)d=Object.assign(Object.assign({},d),s.generateContentRequest);else{const p=Fr(s);d.contents=[p]}return{generateContentRequest:d}}function gc(s){let c;return s.contents?c=s:c={contents:[Fr(s)]},s.systemInstruction&&(c.systemInstruction=jc(s.systemInstruction)),c}function Ip(s){return typeof s=="string"||Array.isArray(s)?{content:Fr(s)}:s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],kp={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Rp(s){let c=!1;for(const a of s){const{role:d,parts:f}=a;if(!c&&d!=="user")throw new Xe(`First content should be with role 'user', got ${d}`);if(!sc.includes(d))throw new Xe(`Each item should include role field. Got ${d} but valid roles are: ${JSON.stringify(sc)}`);if(!Array.isArray(f))throw new Xe("Content should have 'parts' property with an array of Parts");if(f.length===0)throw new Xe("Each Content should have at least one part");const p={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const E of f)for(const _ of yc)_ in E&&(p[_]+=1);const y=kp[d];for(const E of yc)if(!y.includes(E)&&p[E]>0)throw new Xe(`Content with role '${d}' can't contain '${E}' part`);c=!0}}function vc(s){var c;if(s.candidates===void 0||s.candidates.length===0)return!1;const a=(c=s.candidates[0])===null||c===void 0?void 0:c.content;if(a===void 0||a.parts===void 0||a.parts.length===0)return!1;for(const d of a.parts)if(d===void 0||Object.keys(d).length===0||d.text!==void 0&&d.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc="SILENT_ERROR";class Ap{constructor(c,a,d,f={}){this.model=a,this.params=d,this._requestOptions=f,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=c,d!=null&&d.history&&(Rp(d.history),this._history=d.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(c,a={}){var d,f,p,y,E,_;await this._sendPromise;const A=Fr(c),k={safetySettings:(d=this.params)===null||d===void 0?void 0:d.safetySettings,generationConfig:(f=this.params)===null||f===void 0?void 0:f.generationConfig,tools:(p=this.params)===null||p===void 0?void 0:p.tools,toolConfig:(y=this.params)===null||y===void 0?void 0:y.toolConfig,systemInstruction:(E=this.params)===null||E===void 0?void 0:E.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,A]},T=Object.assign(Object.assign({},this._requestOptions),a);let C;return this._sendPromise=this._sendPromise.then(()=>Oc(this._apiKey,this.model,k,T)).then(U=>{var b;if(vc(U.response)){this._history.push(A);const M=Object.assign({parts:[],role:"model"},(b=U.response.candidates)===null||b===void 0?void 0:b[0].content);this._history.push(M)}else{const M=an(U.response);M&&console.warn(`sendMessage() was unsuccessful. ${M}. Inspect response object for details.`)}C=U}).catch(U=>{throw this._sendPromise=Promise.resolve(),U}),await this._sendPromise,C}async sendMessageStream(c,a={}){var d,f,p,y,E,_;await this._sendPromise;const A=Fr(c),k={safetySettings:(d=this.params)===null||d===void 0?void 0:d.safetySettings,generationConfig:(f=this.params)===null||f===void 0?void 0:f.generationConfig,tools:(p=this.params)===null||p===void 0?void 0:p.tools,toolConfig:(y=this.params)===null||y===void 0?void 0:y.toolConfig,systemInstruction:(E=this.params)===null||E===void 0?void 0:E.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,A]},T=Object.assign(Object.assign({},this._requestOptions),a),C=Ac(this._apiKey,this.model,k,T);return this._sendPromise=this._sendPromise.then(()=>C).catch(U=>{throw new Error(xc)}).then(U=>U.response).then(U=>{if(vc(U)){this._history.push(A);const b=Object.assign({},U.candidates[0].content);b.role||(b.role="model"),this._history.push(b)}else{const b=an(U);b&&console.warn(`sendMessageStream() was unsuccessful. ${b}. Inspect response object for details.`)}}).catch(U=>{U.message!==xc&&console.error(U)}),C}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(s,c,a,d){return(await Gr(c,_n.COUNT_TOKENS,s,!1,JSON.stringify(a),d)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(s,c,a,d){return(await Gr(c,_n.EMBED_CONTENT,s,!1,JSON.stringify(a),d)).json()}async function Lp(s,c,a,d){const f=a.requests.map(y=>Object.assign(Object.assign({},y),{model:c}));return(await Gr(c,_n.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:f}),d)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(c,a,d={}){this.apiKey=c,this._requestOptions=d,a.model.includes("/")?this.model=a.model:this.model=`models/${a.model}`,this.generationConfig=a.generationConfig||{},this.safetySettings=a.safetySettings||[],this.tools=a.tools,this.toolConfig=a.toolConfig,this.systemInstruction=jc(a.systemInstruction),this.cachedContent=a.cachedContent}async generateContent(c,a={}){var d;const f=gc(c),p=Object.assign(Object.assign({},this._requestOptions),a);return Oc(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(d=this.cachedContent)===null||d===void 0?void 0:d.name},f),p)}async generateContentStream(c,a={}){var d;const f=gc(c),p=Object.assign(Object.assign({},this._requestOptions),a);return Ac(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(d=this.cachedContent)===null||d===void 0?void 0:d.name},f),p)}startChat(c){var a;return new Ap(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},c),this._requestOptions)}async countTokens(c,a={}){const d=Tp(c,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),f=Object.assign(Object.assign({},this._requestOptions),a);return Op(this.apiKey,this.model,d,f)}async embedContent(c,a={}){const d=Ip(c),f=Object.assign(Object.assign({},this._requestOptions),a);return jp(this.apiKey,this.model,d,f)}async batchEmbedContents(c,a={}){const d=Object.assign(Object.assign({},this._requestOptions),a);return Lp(this.apiKey,this.model,c,d)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(c){this.apiKey=c}getGenerativeModel(c,a){if(!c.model)throw new Xe("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Ec(this.apiKey,c,a)}getGenerativeModelFromCachedContent(c,a,d){if(!c.name)throw new un("Cached content must contain a `name` field.");if(!c.model)throw new un("Cached content must contain a `model` field.");const f=["model","systemInstruction"];for(const y of f)if(a!=null&&a[y]&&c[y]&&(a==null?void 0:a[y])!==c[y]){if(y==="model"){const E=a.model.startsWith("models/")?a.model.replace("models/",""):a.model,_=c.model.startsWith("models/")?c.model.replace("models/",""):c.model;if(E===_)continue}throw new un(`Different value for "${y}" specified in modelParams (${a[y]}) and cachedContent (${c[y]})`)}const p=Object.assign(Object.assign({},a),{model:c.model,tools:c.tools,toolConfig:c.toolConfig,systemInstruction:c.systemInstruction,cachedContent:c});return new Ec(this.apiKey,p,d)}}const Mp=`
You are the Game Master (GM) for an immersive text-based RPG called "Nexus RPG".
Your goal is to drive the narrative forward based on the user's actions and the current game state.

## ROLE & TONE
- Adapt your tone to the current genre (Sci-Fi: Technical, Cold; Horror: Suspenseful, Dark; Romance: Emotional, Poetic).
- Be descriptive but concise. Avoid overly long paragraphs.
- You are strictly a backend engine. You DO NOT output markdown or plain text directly. You ONLY output JSON.

## GAME RULES
1. **Stats**: Actions affect stats. Combat hurts 'health'. Hacking uses 'energy'. Horror reduces 'sanity'.
2. **Inventory**: Users can find items (add to inventory) or use them (remove/consume).
3. **Quest**: Update the quest objective when significant progress is made.
4. **Game Over**: If 'health' or 'sanity' drops to 0, set game_over: true.

## JSON RESPONSE FORMAT
You must strictly follow this JSON schema. Do not include markdown formatting (like \`\`\`json) in your response. Just the raw JSON string.

{
  "narrative": "The descriptive text of what happens next. Use HTML tags <b> for emphasis and <br> for line breaks if needed.",
  "outcome": "SUCCESS" | "FAILURE" | "NEUTRAL",
  "stat_updates": {
    "health": -10,
    "energy": 5,
    "sanity": -5
    // Only include stats that change
  },
  "inventory_updates": {
    "add": [
      { "name": "Item Name", "count": 1, "tags": ["tag1", "tag2"], "type": "tool|weapon|consumable|intel", "icon": "emoji" }
    ],
    "remove": ["Item Name to Remove"]
  },
  "quest_update": "New Quest Objective (or null if unchanged)",
  "environment_tags": ["FOREST" | "DUNGEON" | "CYBERPUNK" | "SPACE" | "HORROR" | "CITY" | "LAB"],
  "summary_update": "A concise 1-sentence summary of the latest event to append to the game log (or null)",
  "game_over": boolean,
  "visual_effect": {
    "color": "CSS_COLOR_OR_HEX",
    "keyframes": "CSS_KEYFRAMES_CONTENT (e.g. '0% { opacity: 1; } 50% { opacity: 0.5; }')",
    "animation": "CSS_ANIMATION_PROPS (e.g. '0.5s infinite alternate')",
    "font_style": "ADDITIONAL_CSS_STYLES"
  },
  "choices": [
    {
      "label": "Action Label (e.g. 'Hack Terminal')",
      "action": "The text to send as user action (e.g. 'hack terminal')",
      "type": "action|skill_check|dice|resource",
      "meta": { "probability": "60%", "stat": "intelligence", "cost": "10 energy" }
    }
  ]
}

IMPORTANT:
- "visual_effect" is OPTIONAL. Only use it for significant, emotional, or dramatic moments (e.g., damage, glitch, horror, shouting).
- If no effect is needed, omit the field or set it to null.
- "keyframes" should ONLY contain the content inside @keyframes.
- DO NOT apologize or explain yourself. Just output the JSON.

## INPUT CONTEXT
You will receive the current game state (stats, inventory, quest, history) and the user's latest action.
Use this context to maintain continuity.
`,Sc={horror:{narrative:"You wake up on the cold floor of an old hospital. The smell of antiseptic mixes with a faint stench of decay. The flashlight in your hand flickers weakly, the only source of light in this oppressive darkness.",outcome:"NEUTRAL",stats_set:{health:60,stamina:40,sanity:100},inventory_set:[{name:"Rusty Flashlight",count:1,tags:["tool","light"],type:"tool",icon:"",value:100,max_value:100},{name:"Dirty Bandage",count:2,tags:["consumable","heal"],type:"consumable",icon:""},{name:"Old Key",count:1,tags:["key","rusty"],type:"key",icon:""}],quest_update:"Find a way out of Ward 4",game_over:!1,theme_config:{main:"#0a0505",accent:"#dc2626"}},romance:{narrative:"The evening breeze blows gently in the Neo-Kyoto city park. You hold the rose-scented letter with trembling hands. She promised to come today, under this hologram cherry blossom tree.",outcome:"NEUTRAL",stats_set:{mood:80,energy:100,charm:50},inventory_set:[{name:"Golden Locket",count:1,tags:["keepsake","memory"],type:"keepsake",icon:""},{name:"Perfumed Letter",count:1,tags:["intel","paper"],type:"intel",icon:""},{name:"Red Rose",count:1,tags:["gift","flower"],type:"gift",icon:""}],quest_update:"Wait for 'Her' arrival",game_over:!1,theme_config:{main:"#1f1016",accent:"#db2777"}},scifi:{narrative:"Neon rain soaks your synthetic jacket. Police drones patrol overhead, scanning every corner of this dark alley. Your mission has just begun.",outcome:"NEUTRAL",stats_set:{health:100,energy:100,shield:100},inventory_set:[{name:"Plasma Cutter",count:1,tags:["tool","heat","weapon"],type:"tool",icon:""},{name:"Stimpack",count:3,tags:["consumable","heal"],type:"consumable",icon:""},{name:"Encrypted Datapad",count:1,tags:["intel","encrypted"],type:"intel",icon:""}],quest_update:"Meet Contact in Sector 7",game_over:!1,theme_config:{main:"#09090b",accent:"#4f46e5"}}},Up=(s,c)=>{var f;const a=s.toLowerCase();if(a.startsWith("mock:")){const p=(f=a.split(":")[1])==null?void 0:f.trim();if(p==="success")return{narrative:"[MOCK] Critical Success! The system responds perfectly to your input.",outcome:"SUCCESS",stat_updates:{energy:-5,experience:10},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Continue",action:"continue",type:"action"}]};if(p==="fail")return{narrative:"[MOCK] Critical Failure! Sparks fly and you take damage.",outcome:"FAILURE",stat_updates:{health:-15,energy:-5},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Recover",action:"recover",type:"action"}]};if(p==="loot")return{narrative:"[MOCK] You found a hidden cache of supplies.",outcome:"SUCCESS",stat_updates:{},inventory_updates:{add:[{name:"Mock Item "+Math.floor(Math.random()*100),count:1,type:"resource",icon:""},{name:"Rare Chip",count:1,type:"intel",icon:""}],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Take All",action:"take all",type:"action"}]};if(p==="cards")return{narrative:"[MOCK] Testing Action Cards display. All types generated.",outcome:"NEUTRAL",stat_updates:{},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Standard Action",action:"test action",type:"action"},{label:"Skill Check (High)",action:"test skill",type:"skill_check",meta:{probability:"85%",stat:"tech"}},{label:"Dice Roll",action:"test dice",type:"dice",meta:{probability:"Roll > 15"}},{label:"Resource Cost",action:"test cost",type:"resource",meta:{cost:"2 Energy"}}]};if(p==="delay")return{narrative:"[MOCK] Response received after simulated delay.",outcome:"NEUTRAL",stat_updates:{},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Continue",action:"continue",type:"action"}]}}let d={narrative:`[MOCK] You perform: "${s}". The simulation reacts accordingly.`,outcome:"NEUTRAL",stat_updates:{energy:-1},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[]};return a.includes("hack")?(d.narrative="[MOCK] You jack into the console. Sparks fly as you bypass the firewall.",d.outcome="SUCCESS",d.stat_updates={energy:-10,intelligence:1}):a.includes("force")||a.includes("attack")?(d.narrative="[MOCK] You smash it open! But you hurt your hand in the process.",d.outcome="FAILURE",d.stat_updates={health:-5,strength:1}):a.includes("scan")?(d.narrative="[MOCK] Scanning area... Life signs detected.",d.outcome="NEUTRAL",d.stat_updates={energy:-2}):a.includes("heal")&&(d.narrative="[MOCK] You use a medkit. Feeling better.",d.outcome="SUCCESS",d.stat_updates={health:20}),d.choices=[{label:"Scan Area",action:"scan area",type:"action"},{label:"Hack Console",action:"hack console",type:"skill_check",meta:{probability:"45%",stat:"tech"}},{label:"Force Open",action:"force open",type:"dice",meta:{probability:"Roll > 10"}},{label:"Use Medkit",action:"heal self",type:"resource",meta:{cost:"1 Item"}}],d},Pp=async()=>(await new Promise(s=>setTimeout(s,1500)),{suggested_names:["Kael","Vex","Orion","Lyra","Zane"],roles:[{id:"soldier",name:"Vanguard",description:"A frontline specialist equipped for heavy combat.",stats:{health:120,energy:80,shield:50},starting_items:[{name:"Pulse Rifle",count:1,type:"weapon",icon:""},{name:"Medkit",count:2,type:"consumable",icon:""}]},{id:"hacker",name:"Netrunner",description:"A master of digital warfare and infiltration.",stats:{health:80,energy:120,shield:30,processing:90},starting_items:[{name:"Cyberdeck",count:1,type:"tool",icon:""},{name:"Energy Cell",count:3,type:"resource",icon:""}]},{id:"scout",name:"Pathfinder",description:"Agile and observant, skilled in survival.",stats:{health:100,stamina:100,stealth:75},starting_items:[{name:"Combat Knife",count:1,type:"weapon",icon:""},{name:"Scanner",count:1,type:"tool",icon:""}]}],intro_narrative:"The simulation initializes. Your identity constructs are forming..."}),Lc=s=>{const c=Object.keys(Ft).find(a=>a.toLowerCase()===(s||"English").toLowerCase())||"English";return Ft[c]},Dp=async(s,c,a)=>{const d=Lc(a.language);if(c.startsWith("SYSTEM_INIT_GENRE:")){const f=c.split(":")[1].trim().toLowerCase(),p=Object.keys(Sc).find(E=>f.startsWith(E))||"scifi",y=Sc[p];if(c.includes("|NAME:")){const{stats_set:E,inventory_set:_,...A}=y;return A}return y}if(!s)throw new Error(d.API_ERRORS.MISSING_KEY);if(a.isMockMode)return Up(c);try{const p=new to(s).getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{responseMimeType:"application/json"},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}]}),y=`
${Mp}

## CURRENT STATE
Genre: ${a.genre}
Quest: ${a.quest}
Stats: ${JSON.stringify(a.stats)}
Inventory: ${JSON.stringify(a.inventory.map(k=>k.name))}
Summary So Far: ${a.summary}

## RECENT HISTORY
${a.history.slice(-5).map(k=>`${k.role.toUpperCase()}: ${k.content}`).join(`
`)}

## USER ACTION
${c}

## LANGUAGE
Reply in this language: ${a.language||"English"}
`,A=(await(await p.generateContent(y)).response).text();try{return JSON.parse(A)}catch{return console.error("Failed to parse LLM response:",A),{narrative:"The system glitched. Data corruption detected. (JSON Parse Error)",outcome:"NEUTRAL",stat_updates:{},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1}}}catch(f){throw console.error("Gemini API Error:",f),f}},bp=async(s,c)=>{const a=Lc(c);if(!s)throw new Error(a.API_ERRORS.EMPTY_KEY);try{return await new to(s).getGenerativeModel({model:"gemini-2.5-flash"}).generateContent("Test connection"),!0}catch(d){console.error("API Test Error:",d);let f=a.API_ERRORS.UNKNOWN_ERROR;throw d.message.includes("400")?f=a.API_ERRORS.INVALID_KEY:d.message.includes("403")?f=a.API_ERRORS.ACCESS_DENIED:d.message.includes("429")?f=a.API_ERRORS.QUOTA_EXCEEDED:d.message.includes("500")?f=a.API_ERRORS.SERVER_ERROR:d.message.includes("503")?f=a.API_ERRORS.SERVICE_UNAVAILABLE:d.message.includes("fetch failed")?f=a.API_ERRORS.NETWORK_ERROR:f=d.message||a.API_ERRORS.DEFAULT_FAIL,new Error(f)}},zp=["HEADER","SIDEBAR","MENU","INPUT_PLACEHOLDER","INPUT_FOOTER","STATS","NARRATIVE","GENRE_SELECTION","GENRES","CHARACTER_CREATION"],Fp=s=>{const c={},a={};return Object.keys(s).forEach(d=>{zp.includes(d)?c[d]=s[d]:a[d]=s[d]}),{critical:c,secondary:a}},Gp=async(s,c,a)=>{const d=localStorage.getItem("nexus_mock_mode")==="true";if(!s&&!d)throw new Error("API Key missing. Please configure in Settings or enable Mock Mode.");if(localStorage.getItem("nexus_mock_mode")==="true")return Pp();const p=new to(s).getGenerativeModel({model:"gemini-2.5-flash"}),y=`
    Generate a JSON object for a Sci-Fi RPG Character Creation screen.
    Genre: ${c}
    Language: ${a}

    Output JSON Structure:
    {
        "suggested_names": ["Name1", "Name2", ...],
        "roles": [
            {
                "id": "role_id",
                "name": "Role Name",
                "description": "Short description",
                "stats": { "health": 100, "energy": 100, "stat3": 50, "stat4": 50 },
                "starting_items": [
                    { "name": "Item Name", "count": 1, "type": "tool/weapon/consumable", "icon": "emoji" }
                ]
            }
        ],
        "intro_narrative": "Short atmospheric text setting the scene for character creation."
    }
    
    Provide 3 distinct roles (e.g., Combat, Tech, Stealth/Social).
    Ensure items have valid types and emojis.
    IMPORTANT: Generate 3-5 vital statistics relevant to the genre (e.g., Sanity for Horror, Charm for Romance, Shield for Sci-Fi). Do NOT limit to just health/energy.
    `;try{const k=(await(await p.generateContent(y)).response).text().match(/\{[\s\S]*\}/);if(k)return JSON.parse(k[0]);throw new Error("Failed to parse JSON")}catch(E){throw console.error("Setup Generation Error:",E),E}},Mc=async(s,c,a)=>{if(!s)throw new Error("API Key Missing");if(localStorage.getItem("nexus_mock_mode")==="true")return a;try{const f=new to(s).getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{responseMimeType:"application/json"},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}]}),p=`
You are a professional translator for a Sci-Fi RPG Game UI.
Translate the following JSON object values into this language: "${c}".
Do NOT translate keys. Keep the structure exactly the same.
Maintain the tone: Sci-Fi, Cyberpunk, Serious, Immersive.

IMPORTANT RULES:
1. Use FORMAL, STANDARD language only.
2. STRICTLY FORBID slang, informal, or "gaul" language.
3. If the requested language is a slang variant (e.g., "Bahasa Gaul", "Slang"), translate it to the STANDARD FORMAL version of that language (e.g., standard Indonesian).
4. Ensure terminology fits a futuristic sci-fi setting.

Source JSON:
${JSON.stringify(a,null,2)}
`,A=(await(await f.generateContent(p)).response).text().match(/\{[\s\S]*\}/);return A?JSON.parse(A[0]):a}catch(d){return console.error("Translation Error:",d),a}},Nc={"/visual":`SYSTEM OVERRIDE: The user is testing the visual engine. 
    GENERATE a narrative about a beautiful, hallucinogenic visual phenomenon.
    MUST include a "visual_effect" object with:
    - color: A vibrant neon color (e.g. #00ffcc or #ff00ff).
    - keyframes: Complex CSS keyframes for a flowing or pulsing animation.
    - animation: "3s infinite alternate".
    - font_style: "letter-spacing: 2px; font-weight: bold;"`,"/glitch":`SYSTEM OVERRIDE: CRITICAL SYSTEM FAILURE DETECTED.
    GENERATE a narrative about a digital corruption or hacking event.
    MUST include a "visual_effect" object with:
    - color: #00ff00 (Matrix green) or #ff00ff (Cyberpunk pink).
    - keyframes: "0% { transform: translate(0); } 20% { transform: translate(-2px, 2px); } 40% { transform: translate(-2px, -2px); } 60% { transform: translate(2px, 2px); } 80% { transform: translate(2px, -2px); } 100% { transform: translate(0); }"
    - animation: "0.2s infinite".
    - font_style: "font-family: monospace;"`,"/horror":`SYSTEM OVERRIDE: PSYCHOLOGICAL THREAT DETECTED.
    GENERATE a narrative about a terrifying, unseen presence.
    MUST include a "visual_effect" object with:
    - color: #ff0000 (Blood red).
    - keyframes: "0% { opacity: 1; transform: scale(1); } 50% { opacity: 0.7; transform: scale(1.05); } 100% { opacity: 1; transform: scale(1); }"
    - animation: "3s infinite ease-in-out".
    - font_style: "font-family: serif; font-style: italic;"`,"/shake":`SYSTEM OVERRIDE: IMPACT DETECTED.
    GENERATE a narrative about an explosion or earthquake.
    MUST include a "visual_effect" object with:
    - color: #ffaa00 (Orange).
    - keyframes: "0% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); } 20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); } 40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); } 60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); } 80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); } 100% { transform: translate(1px, -2px) rotate(-1deg); }"
    - animation: "0.5s infinite".
    - font_style: "font-weight: 900; text-transform: uppercase;"`,"/combo":`SYSTEM OVERRIDE: CRITICAL MOMENT - COMBO UNLOCKED.
    GENERATE a narrative where the player has a fleeting opportunity to combine actions.
    MUST include:
    - "allow_combo": true
    - "narrative": "TIME DILATION ACTIVE. You spot a critical weakness. Combine your actions now!"
    - "visual_effect": { "color": "#00ffff", "animation": "pulse 1s infinite" }`};function Bp(s,c){const{stats:a,setStats:d,inventory:f,setInventory:p,quest:y,setQuest:E,genre:_,setGenre:A,environment:k,setEnvironment:T,gameOver:C,setGameOver:U,history:b,setHistory:M,summary:G,setSummary:se,isProcessing:ae,setIsProcessing:ie,setLastOutcome:F,apiKey:te,language:de,setChoices:oe,isMockMode:ge,qteActive:_e,setQteActive:Ie,feedback:be,setFeedback:Ce,allowCombo:Re,setAllowCombo:je}=s,[Le,xe]=j.useState(null),me=j.useCallback($=>{d(J=>{const V={...J};return Object.entries($).forEach(([q,Z])=>{V[q]!==void 0&&(V[q]=Math.max(0,Math.min(100,V[q]+Z)))}),V.health!==void 0&&V.health<=0&&U(!0),V})},[d,U]),P=j.useCallback($=>{p(J=>{let V=[...J];return $.add&&$.add.forEach(q=>{const Z=V.find(ce=>ce.name===q.name);Z?Z.count++:V.push({name:q.name,count:1,tags:q.tags||[],type:q.type||"misc",icon:q.icon||""})}),$.remove&&$.remove.forEach(q=>{const Z=V.findIndex(ce=>ce.name===q);Z!==-1&&(V[Z].count>1?V[Z].count--:V.splice(Z,1))}),V})},[p]),W=j.useCallback(async $=>{const J=$.startsWith("SYSTEM_INIT_GENRE:");if(!$.trim()||ae||Le||C&&!J)return;const V={id:Date.now(),role:"user",content:$.startsWith("inspect:")?ve.UI.TEMPLATES.ACTION_INSPECT.replace("{0}",$.split(":")[1]):$,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};J||M(q=>[...q,V]),oe([]),ie(!0);try{const q={stats:a,inventory:f,quest:y,history:b,summary:G,genre:_,language:de,isMockMode:ge};if(!J&&!te&&!ge)throw new Error("API_KEY_MISSING");ge&&$.toLowerCase().includes("mock:delay")&&await new Promise(Me=>setTimeout(Me,3e3));let Z=$;const ce=$.trim().toLowerCase();Nc[ce]&&(console.log(`Executing Slash Command: ${ce}`),Z=Nc[ce]);const ne=await Dp(te,Z,q);console.log("LLM Raw Response:",ne),ie(!1);const ze=ne.outcome||"NEUTRAL";xe(ze),await new Promise(Me=>setTimeout(Me,1500)),xe(null),ne.outcome&&ne.outcome!=="NEUTRAL"&&(F(ne.outcome),setTimeout(()=>F(null),1e3)),ne.stats_set&&d(ne.stats_set),ne.stat_updates&&me(ne.stat_updates),ne.inventory_updates&&P(ne.inventory_updates),ne.inventory_set&&p(ne.inventory_set),ne.quest_update&&E(ne.quest_update),ne.summary_update&&se(Me=>Me.includes(ne.summary_update)?Me:Me+" "+ne.summary_update),ne.environment_tags&&ne.environment_tags.length>0?(console.log("Environment Tags Detected:",ne.environment_tags),T(ne.environment_tags[0])):console.log("No Environment Tags in Response"),ne.game_over&&U(!0);const He={id:Date.now()+1,role:"ai",content:ne.narrative,visual_effect:ne.visual_effect||null,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};M(Me=>[...Me,He]),ne.choices&&Array.isArray(ne.choices)?oe(ne.choices):oe([]),ne.allow_combo?(je(!0),re("COMBO UNLOCKED!","text-cyan-400")):je(!1)}catch(q){console.error("LLM Error:",q),ie(!1),xe(null);let Z=`Error: Connection to Neural Link lost. (${q.message})`;q.message==="API_KEY_MISSING"&&(Z="SYSTEM ERROR: API Key Missing. Please configure it in Settings."),M(ce=>[...ce,{id:Date.now()+2,role:"system",content:Z,timestamp:new Date().toLocaleTimeString()}])}},[a,f,y,ae,Le,C,b,G,M,ie,F,d,p,E,U,te,_,me,P,ge,de]),D=j.useCallback($=>{const{name:J,role:V,items:q}=$;d(V.stats||{health:100,energy:100,shield:0}),p(q||[]),s.setPlayerName&&s.setPlayerName(J),s.setPlayerRole&&s.setPlayerRole(V.name),s.setInitialCharacterData&&s.setInitialCharacterData($);const Z=`SYSTEM_INIT_GENRE:${_}|NAME:${J}|ROLE:${V.name}|BIO:${V.description}`;W(Z)},[_,W,d,p,s]),v=j.useCallback(($,J=!1)=>{const V=typeof $=="string"?$:_||"scifi";!J&&s.initialCharacterData?(d({health:100,energy:100,shield:100}),p([]),E(ve.CONTENT.QUEST_INIT),M([]),U(!1),A(V),se(ve.CONTENT.SUMMARY_INIT),D(s.initialCharacterData)):(d({health:100,energy:100,shield:100}),p([]),E(ve.CONTENT.QUEST_INIT),M([]),U(!1),A(V),se(ve.CONTENT.SUMMARY_INIT),s.setInitialCharacterData&&s.setInitialCharacterData(null))},[_,d,p,E,M,U,A,se,s.initialCharacterData,D,s]),w=j.useCallback(()=>{localStorage.removeItem(c),d({health:80,energy:60,shield:40}),p([]),E(ve.CONTENT.QUEST_DEFAULT),A("default"),M([]),U(!1),se(ve.CONTENT.SUMMARY_INIT)},[c,d,p,E,A,M,U,se]),re=j.useCallback(($,J="text-blue-400")=>{Ce({msg:$,color:J}),setTimeout(()=>Ce(null),2e3)},[Ce]);return{handleAction:W,resetGame:v,initializeGame:D,quitGame:w,suspenseOutcome:Le,qteActive:_e,setQteActive:Ie,feedback:be,triggerFeedback:re}}function Hp(){const s=tp(),{STORAGE_KEY:c}=s,{exportSave:a,importSave:d,saveGame:f,loadGame:p}=lp(s,c),{handleAction:y,resetGame:E,initializeGame:_,quitGame:A,suspenseOutcome:k,triggerFeedback:T}=Bp(s,c);return{stats:s.stats,inventory:s.inventory,quest:s.quest,history:s.history,isProcessing:s.isProcessing,suspenseOutcome:k,genre:s.genre,environment:s.environment,lastOutcome:s.lastOutcome,gameOver:s.gameOver,choices:s.choices,playerName:s.playerName,playerRole:s.playerRole,setupData:s.setupData,setSetupData:s.setSetupData,initialCharacterData:s.initialCharacterData,setInitialCharacterData:s.setInitialCharacterData,handleAction:y,resetGame:E,initializeGame:_,setGenre:s.setGenre,quitGame:A,exportSave:a,importSave:d,saveGame:f,loadGame:p,apiKey:s.apiKey,setApiKey:s.setApiKey,language:s.language,setLanguage:s.setLanguage,uiText:s.uiText,updateUiText:s.updateUiText,isMockMode:s.isMockMode,setIsMockMode:s.setIsMockMode,setStats:s.setStats,setInventory:s.setInventory,setGameOver:s.setGameOver,setChoices:s.setChoices,setLastOutcome:s.setLastOutcome,qteActive:s.qteActive,setQteActive:s.setQteActive,feedback:s.feedback,triggerFeedback:T,allowCombo:s.allowCombo}}const Uc=j.createContext(null),$p=({children:s})=>{const c=Hp();return i.jsx(Uc.Provider,{value:c,children:s})},Ze=()=>{const s=j.useContext(Uc);if(!s)throw new Error("useGame must be used within a GameProvider");return s};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yp=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,a,d)=>d?d.toUpperCase():a.toLowerCase()),_c=s=>{const c=Yp(s);return c.charAt(0).toUpperCase()+c.slice(1)},Pc=(...s)=>s.filter((c,a,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===a).join(" ").trim(),Kp=s=>{for(const c in s)if(c.startsWith("aria-")||c==="role"||c==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=j.forwardRef(({color:s="currentColor",size:c=24,strokeWidth:a=2,absoluteStrokeWidth:d,className:f="",children:p,iconNode:y,...E},_)=>j.createElement("svg",{ref:_,...Wp,width:c,height:c,stroke:s,strokeWidth:d?Number(a)*24/Number(c):a,className:Pc("lucide",f),...!p&&!Kp(E)&&{"aria-hidden":"true"},...E},[...y.map(([A,k])=>j.createElement(A,k)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(s,c)=>{const a=j.forwardRef(({className:d,...f},p)=>j.createElement(Qp,{ref:p,iconNode:c,className:Pc(`lucide-${Vp(_c(s))}`,`lucide-${s}`,d),...f}));return a.displayName=_c(s),a};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Cc=le("activity",Xp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jp=le("arrow-left",qp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],em=le("box",Zp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],nm=le("briefcase",tm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],lm=le("bug",rm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Dc=le("check",om);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],im=le("chevron-down",sm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],bc=le("chevron-right",am);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cm=le("chevron-up",um);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],fm=le("circle-alert",dm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],mm=le("circle-check",pm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gm=le("circle-play",hm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vm=le("circle-x",ym);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Em=le("cpu",xm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Nm=le("crosshair",Sm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],Cm=le("dice-5",_m);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],Tm=le("dices",wm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],km=le("download",Im);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Am=le("ellipsis",Rm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jm=le("eye-off",Om);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zc=le("eye",Lm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Um=le("globe",Mm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Fc=le("heart",Pm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],bm=le("key",Dm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Zl=le("loader-circle",zm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Gm=le("menu",Fm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Hm=le("octagon-alert",Bm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],wc=le("plus",$m);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ym=le("save",Vm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wm=le("send",Km);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xm=le("settings",Qm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],no=le("shield",qm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Gc=le("skull",Jm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],eh=le("sparkles",Zm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],nh=le("toggle-left",th);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],lh=le("toggle-right",rh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sh=le("trash-2",oh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bc=le("triangle-alert",ih);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],uh=le("upload",ah);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Hc=le("user",ch);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Br=le("x",dh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gt=le("zap",fh);function ph({isOpen:s,onClose:c,onSave:a}){const{uiText:d,updateUiText:f}=Ze(),[p,y]=j.useState(""),[E,_]=j.useState(!1),[A,k]=j.useState("English"),[T,C]=j.useState("idle"),[U,b]=j.useState(""),[M,G]=j.useState(!1);j.useEffect(()=>{if(s){const F=localStorage.getItem("nexus_api_key"),te=localStorage.getItem("nexus_language");F&&y(F),te&&k(te),C("idle"),b(""),G(!1)}},[s]);const se=async()=>{if(!p.trim()){C("error"),b(d.UI.API_MODAL.ERR_EMPTY);return}C("testing"),b(d.UI.API_MODAL.STATUS_TESTING);try{await bp(p.trim(),A),C("success"),b(d.UI.API_MODAL.STATUS_SUCCESS)}catch(F){C("error"),b(F.message)}},ae=async()=>{if(!p.trim())return;const F=p.trim(),te=A.trim();if(!Object.keys(Ft).some(oe=>oe.toLowerCase()===te.toLowerCase())){G(!0);try{const{critical:oe,secondary:ge}=Fp(Ft.English),_e=await Mc(F,te,oe),Ie={...Ft.English,..._e};f(te,Ie),localStorage.setItem("nexus_api_key",F),localStorage.setItem("nexus_language",te),a(F,te),c();return}catch(oe){console.error("Translation Failed",oe),C("error"),b("Translation failed. UI will remain English."),G(!1);return}}localStorage.setItem("nexus_api_key",F),localStorage.setItem("nexus_language",te),a(F,te),c()},ie=T==="success";return s?i.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-theme-panel border border-theme-border rounded-2xl p-6 w-full max-w-md shadow-2xl relative overflow-hidden",children:[i.jsx("button",{onClick:c,className:"absolute right-4 top-4 text-theme-muted hover:text-theme-text transition-colors z-20",disabled:M,children:i.jsx(Br,{size:20})}),i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-theme-accent/10 blur-3xl rounded-full pointer-events-none"}),i.jsxs("div",{className:"relative z-10 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-12 h-12 bg-theme-accent/20 rounded-full flex items-center justify-center mx-auto text-theme-accent mb-4",children:i.jsx(bm,{size:24})}),i.jsx("h2",{className:"text-xl font-bold text-theme-text",children:d.UI.API_MODAL.TITLE}),i.jsx("p",{className:"text-xs text-theme-muted",children:d.UI.API_MODAL.SUBTITLE})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:E?"text":"password",value:p,onChange:F=>{y(F.target.value),C("idle")},disabled:M,placeholder:d.UI.API_MODAL.PLACEHOLDER,className:"w-full bg-black/40 text-theme-text placeholder:text-theme-muted/50 px-4 py-3 rounded-xl border border-theme-border focus:border-theme-accent focus:ring-1 focus:ring-theme-accent outline-none transition-all font-mono text-sm pr-12"}),i.jsx("button",{onClick:()=>_(!E),className:"absolute right-10 top-1/2 -translate-y-1/2 text-theme-muted hover:text-theme-text p-2",disabled:M,children:E?i.jsx(jm,{size:16}):i.jsx(zc,{size:16})}),T==="success"&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-emerald-500",children:i.jsx(mm,{size:18})}),T==="error"&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500",children:i.jsx(fm,{size:18})})]}),U&&i.jsxs("div",{className:`text-xs flex items-center gap-2 ${T==="error"?"text-red-400":T==="success"?"text-emerald-400":"text-theme-accent"}`,children:[T==="testing"&&i.jsx(Zl,{size:14,className:"animate-spin"}),U]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-xs font-medium text-theme-muted uppercase tracking-wider flex items-center justify-between",children:[d.UI.API_MODAL.LANGUAGE_LABEL,M&&i.jsxs("span",{className:"text-theme-accent animate-pulse flex items-center gap-1",children:[i.jsx(Um,{size:12})," Translating UI..."]})]}),i.jsx("input",{type:"text",value:A,onChange:F=>k(F.target.value),disabled:!ie||M,placeholder:d.UI.API_MODAL.LANGUAGE_PLACEHOLDER,className:`w-full bg-black/40 text-theme-text px-4 py-3 rounded-xl border border-theme-border outline-none transition-all text-sm ${!ie||M?"opacity-50 cursor-not-allowed":"focus:border-theme-accent focus:ring-1 focus:ring-theme-accent"}`})]}),i.jsxs("div",{className:"bg-theme-accent/5 border border-theme-accent/10 rounded-lg p-3 flex gap-3 items-start",children:[i.jsx(no,{size:16,className:"text-theme-accent shrink-0 mt-0.5"}),i.jsx("p",{className:"text-[10px] text-theme-muted leading-relaxed",children:d.UI.API_MODAL.PRIVACY_NOTE})]})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsxs("button",{onClick:se,disabled:T==="testing"||!p.trim()||M,className:"flex-1 px-4 py-2.5 rounded-xl border border-theme-border text-theme-text hover:bg-theme-panel transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[T==="testing"&&i.jsx(Zl,{size:16,className:"animate-spin"}),d.UI.API_MODAL.BTN_TEST]}),i.jsxs("button",{onClick:ae,disabled:!p.trim()||M,className:"flex-1 px-4 py-2.5 rounded-xl bg-theme-accent hover:bg-theme-accent/90 text-white transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-theme-accent/20 flex items-center justify-center gap-2",children:[M?i.jsx(Zl,{size:18,className:"animate-spin"}):i.jsx(Ym,{size:18}),M?"Translating...":d.UI.API_MODAL.BTN_SAVE]})]})]})]})}):null}function $c({isOpen:s,title:c,message:a,onConfirm:d,onCancel:f,confirmLabel:p="Confirm",cancelLabel:y="Cancel",variant:E="warning"}){if(!s)return null;const _=E==="danger",A=_?Hm:Bc;return i.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:`bg-theme-panel border rounded-2xl p-6 w-full max-w-sm shadow-2xl relative overflow-hidden animate-in zoom-in-95 duration-300 ${_?"border-red-500/30":"border-yellow-500/30"}`,onClick:k=>k.stopPropagation(),children:[i.jsx("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 blur-3xl rounded-full pointer-events-none opacity-20 ${_?"bg-red-500":"bg-yellow-500"}`}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-2 ${_?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:i.jsx(A,{size:32})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-theme-text mb-2 tracking-wide uppercase",children:c}),i.jsx("p",{className:"text-sm text-theme-muted leading-relaxed",children:a})]}),i.jsxs("div",{className:"flex gap-3 w-full mt-4",children:[i.jsxs("button",{onClick:f,className:"flex-1 px-4 py-3 rounded-xl border border-theme-border text-theme-muted hover:text-theme-text hover:bg-theme-panel transition-colors flex items-center justify-center gap-2 font-medium",children:[i.jsx(Br,{size:18}),y]}),i.jsxs("button",{onClick:d,className:`flex-1 px-4 py-3 rounded-xl text-white font-bold transition-all hover:scale-105 flex items-center justify-center gap-2 shadow-lg ${_?"bg-red-600 hover:bg-red-700 shadow-red-900/20":"bg-yellow-600 hover:bg-yellow-700 shadow-yellow-900/20"}`,children:[i.jsx(Dc,{size:18}),p]})]})]})]})})}function mh({uiText:s}){return i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h1",{className:"text-4xl md:text-7xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 animate-pulse tracking-tighter py-2",children:s.UI.GENRE_SELECTION.TITLE}),i.jsx("p",{className:"text-theme-muted text-base md:text-xl max-w-2xl mx-auto px-4",children:s.UI.GENRE_SELECTION.SUBTITLE})]})}function hh({hasActiveGame:s,gameOver:c,onContinue:a,uiText:d}){return s?i.jsx("div",{className:"flex justify-center animate-in fade-in slide-in-from-bottom-4 duration-700 sticky top-4 z-20 md:static",children:i.jsxs("button",{onClick:a,className:"group relative px-6 py-3 md:px-8 md:py-4 bg-theme-accent/20 hover:bg-theme-accent/30 border border-theme-accent/50 rounded-xl flex items-center gap-4 transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(79,70,229,0.3)] backdrop-blur-md",children:[i.jsx("div",{className:"p-2 bg-theme-accent rounded-full text-white group-hover:animate-pulse",children:i.jsx(gm,{size:24})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-xs md:text-sm text-theme-accent font-medium tracking-wider",children:d.UI.GENRE_SELECTION.LABEL_ACTIVE}),i.jsx("div",{className:"text-lg md:text-xl font-bold text-white",children:d.UI.GENRE_SELECTION.BTN_RESUME})]})]})}):c?i.jsx("div",{className:"flex justify-center animate-in fade-in slide-in-from-bottom-4 duration-700",children:i.jsxs("div",{className:"px-6 py-3 bg-red-900/20 border border-red-500/30 rounded-xl flex items-center gap-3",children:[i.jsx(Gc,{size:20,className:"text-red-500"}),i.jsx("span",{className:"text-red-400 font-medium",children:d.UI.GENRE_SELECTION.STATUS_GAME_OVER})]})}):null}function gh({genres:s,handleGenreClick:c}){return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 px-2",children:s.map(a=>i.jsxs("button",{onClick:()=>c(a.id),className:"group relative h-48 md:h-64 rounded-2xl overflow-hidden border border-white/10 hover:border-white/30 transition-all hover:scale-105 shrink-0",children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a.color} opacity-20 group-hover:opacity-40 transition-opacity`}),i.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col items-center justify-center text-center gap-2 md:gap-4",children:[i.jsx("div",{className:"text-4xl md:text-6xl mb-2 transform group-hover:scale-110 transition-transform duration-500",children:a.icon}),i.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:a.label}),i.jsx("p",{className:"text-xs md:text-sm text-gray-300 line-clamp-2",children:a.desc})]})]},a.id))})}function yh({onSelect:s,onContinue:c}){const[a,d]=j.useState(!1),[f,p]=j.useState(null),{setApiKey:y,setLanguage:E,history:_,gameOver:A,uiText:k,setSetupData:T}=Ze(),C=_&&_.length>0&&!A,U=G=>{C?p(G):(T&&T(null),s(G))},b=()=>{f&&(T&&T(null),s(f),p(null))},M=[{id:"scifi",label:k.FIXED.GENRE_LABELS.SCIFI,icon:"",desc:k.UI.GENRES.SCIFI.DESC,color:"from-blue-600 to-purple-600"},{id:"horror",label:k.FIXED.GENRE_LABELS.HORROR,icon:"",desc:k.UI.GENRES.HORROR.DESC,color:"from-red-900 to-black"},{id:"romance",label:k.FIXED.GENRE_LABELS.ROMANCE,icon:"",desc:k.UI.GENRES.ROMANCE.DESC,color:"from-pink-500 to-rose-400"}];return i.jsxs("div",{className:"fixed inset-0 z-50 bg-black overflow-y-auto custom-scrollbar",children:[i.jsx($c,{isOpen:!!f,onCancel:()=>p(null),onConfirm:b,title:k.UI.GENRE_SELECTION.WARNING_TITLE,message:k.UI.GENRE_SELECTION.WARNING_MSG,confirmLabel:k.UI.GENRE_SELECTION.BTN_CONFIRM,cancelLabel:k.UI.GENRE_SELECTION.BTN_CANCEL,variant:"danger"}),i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 md:p-8 relative",children:[i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsxs("button",{onClick:()=>d(!0),className:"p-2 text-theme-muted hover:text-white transition-colors flex items-center gap-2 bg-black/50 backdrop-blur-md rounded-full",children:[i.jsx(Xm,{size:20}),i.jsx("span",{className:"text-sm hidden md:inline",children:k.UI.GENRE_SELECTION.BTN_SETTINGS})]})}),i.jsx(ph,{isOpen:a,onClose:()=>d(!1),onSave:(G,se)=>{y(G),E(se)}}),i.jsxs("div",{className:"max-w-4xl w-full space-y-8 my-8 md:my-0",children:[i.jsx(mh,{uiText:k}),i.jsx(hh,{hasActiveGame:C,gameOver:A,onContinue:c,uiText:k}),i.jsx(gh,{genres:M,handleGenreClick:U})]})]})]})}function vh({uiText:s,setupData:c,onBack:a}){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute top-4 left-4 z-10",children:i.jsxs("button",{onClick:a,className:"p-2 text-theme-muted hover:text-white transition-colors flex items-center gap-2 bg-black/50 backdrop-blur-md rounded-full hover:bg-white/10",children:[i.jsx(Jp,{size:20}),i.jsx("span",{className:"text-sm hidden md:inline",children:s.UI.CHARACTER_CREATION.BTN_ABORT_FULL})]})}),i.jsxs("header",{className:"mb-8 text-center animate-in fade-in slide-in-from-top-4 duration-700 mt-8 md:mt-0",children:[i.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-theme-accent to-purple-500 mb-2",children:s.UI.CHARACTER_CREATION.TITLE}),i.jsxs("p",{className:"text-theme-muted italic max-w-2xl mx-auto",children:['"',c.intro_narrative,'"']})]})]})}function xh({uiText:s,name:c,setName:a,handleRandomizeName:d}){return i.jsxs("div",{className:"bg-theme-panel border border-theme-border rounded-xl p-6 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:i.jsx(Hc,{size:64})}),i.jsx("label",{className:"block text-xs font-bold text-theme-accent tracking-widest mb-2 uppercase",children:s.UI.CHARACTER_CREATION.LABEL_NAME}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:c,onChange:f=>a(f.target.value),className:"flex-1 bg-black/50 border border-theme-border rounded-lg px-4 py-3 focus:border-theme-accent focus:ring-1 focus:ring-theme-accent outline-none transition-all text-lg",placeholder:s.UI.CHARACTER_CREATION.PLACEHOLDER_NAME}),i.jsx("button",{onClick:d,className:"p-3 bg-theme-accent/10 border border-theme-accent/30 rounded-lg hover:bg-theme-accent/20 transition-colors text-theme-accent",title:s.UI.CHARACTER_CREATION.TITLE_RANDOMIZE,children:i.jsx(Cm,{size:24})})]})]})}function Eh({uiText:s,setupData:c,selectedRoleIndex:a,setSelectedRoleIndex:d,includeItems:f,setIncludeItems:p}){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-xs font-bold text-theme-accent tracking-widest uppercase",children:s.UI.CHARACTER_CREATION.LABEL_ROLE}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:c.roles.map((y,E)=>i.jsx("button",{onClick:()=>d(E),className:`relative p-4 rounded-xl border-2 text-left transition-all duration-300 group overflow-hidden ${a===E?"border-theme-accent bg-theme-accent/10 shadow-[0_0_20px_rgba(var(--accent-rgb),0.2)]":"border-theme-border bg-theme-panel hover:border-theme-muted"}`,children:i.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[i.jsxs("div",{children:[i.jsx("div",{className:`font-bold text-lg ${a===E?"text-theme-accent":"text-gray-300"}`,children:y.name}),i.jsx("div",{className:"text-xs text-theme-muted mt-1 line-clamp-1",children:y.description})]}),a===E&&i.jsx("div",{className:"w-3 h-3 bg-theme-accent rounded-full shadow-[0_0_10px_currentColor]"})]})},y.id))})]}),i.jsxs("div",{className:"bg-theme-panel border border-theme-border rounded-xl p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(nm,{className:"text-theme-accent",size:20}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-sm",children:s.UI.CHARACTER_CREATION.LOADOUT_TITLE}),i.jsx("div",{className:"text-xs text-theme-muted",children:s.UI.CHARACTER_CREATION.LOADOUT_DESC})]})]}),i.jsx("button",{onClick:()=>p(!f),className:`w-12 h-6 rounded-full p-1 transition-colors duration-300 ${f?"bg-theme-accent":"bg-gray-700"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-300 ${f?"translate-x-6":"translate-x-0"}`})})]})]})}function Sh({uiText:s,currentRole:c,includeItems:a,name:d,handleConfirm:f}){return i.jsxs("div",{className:"bg-theme-panel border border-theme-border rounded-2xl p-6 md:p-8 flex flex-col animate-in slide-in-from-right-4 duration-700 delay-200 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-theme-accent/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),i.jsxs("div",{className:"relative z-10 flex-1",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:c.name}),i.jsx("p",{className:"text-theme-muted mb-6 leading-relaxed",children:c.description}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsx("h3",{className:"text-xs font-bold text-theme-accent tracking-widest uppercase border-b border-theme-border pb-2 mb-4",children:s.UI.CHARACTER_CREATION.STATS_TITLE}),i.jsx("div",{className:"space-y-3",children:Object.entries(c.stats).map(([p,y])=>{let E="bg-gray-500",_=Gt;return p.toLowerCase().includes("health")||p.toLowerCase().includes("hp")?(E="bg-red-500",_=Fc):p.toLowerCase().includes("energy")||p.toLowerCase().includes("mana")||p.toLowerCase().includes("stamina")?(E="bg-yellow-500",_=Gt):(p.toLowerCase().includes("shield")||p.toLowerCase().includes("armor"))&&(E="bg-blue-500",_=no),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(_,{size:18,className:E.replace("bg-","text-")}),i.jsx("div",{className:"w-24 text-sm font-medium capitalize",children:p.replace(/_/g," ")}),i.jsx("div",{className:"flex-1 h-2 bg-gray-800 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full ${E}`,style:{width:`${Math.min(100,y/150*100)}%`}})}),i.jsx("div",{className:"w-8 text-right text-sm font-mono",children:y})]},p)})})]}),a&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold text-theme-accent tracking-widest uppercase border-b border-theme-border pb-2 mb-4",children:s.UI.CHARACTER_CREATION.EQUIPMENT_TITLE}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.starting_items.map((p,y)=>i.jsxs("div",{className:"flex items-center gap-3 bg-black/30 p-2 rounded-lg border border-white/5",children:[i.jsx("span",{className:"text-xl",children:p.icon}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-200",children:p.name}),i.jsxs("div",{className:"text-xs text-theme-muted capitalize",children:[p.type," x",p.count]})]})]},y))})]})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-theme-border",children:i.jsxs("button",{onClick:f,disabled:!d.trim(),className:`w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all duration-300 ${d.trim()?"bg-theme-accent hover:bg-theme-accent/90 text-white shadow-lg hover:shadow-theme-accent/25 transform hover:-translate-y-1":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[i.jsx("span",{children:s.UI.CHARACTER_CREATION.BTN_INITIATE}),i.jsx(bc,{size:20})]})})]})}function Nh({genre:s,onComplete:c,onBack:a}){const{apiKey:d,language:f,setupData:p,setSetupData:y,uiText:E}=Ze(),[_,A]=j.useState(!p),[k,T]=j.useState(null),[C,U]=j.useState(""),[b,M]=j.useState(0),[G,se]=j.useState(!0);j.useEffect(()=>{if(p){A(!1);return}(async()=>{var de;try{A(!0);const oe=await Gp(d,s,f);y(oe),((de=oe.suggested_names)==null?void 0:de.length)>0&&U(oe.suggested_names[Math.floor(Math.random()*oe.suggested_names.length)])}catch(oe){console.error("Setup Error:",oe),T(oe.message||E.UI.CHARACTER_CREATION.ERROR_DEFAULT)}finally{A(!1)}})()},[d,s,f,p,y]);const ae=()=>{if(p!=null&&p.suggested_names){const te=p.suggested_names[Math.floor(Math.random()*p.suggested_names.length)];U(te)}},ie=()=>{if(!C.trim())return;const te=p.roles[b],de={name:C,role:te,items:G?te.starting_items:[]};c(de)};if(_)return i.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-theme-accent",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-theme-accent border-t-transparent rounded-full animate-spin mb-4"}),i.jsx("div",{className:"text-xl font-mono animate-pulse",children:E.UI.CHARACTER_CREATION.LOADING_TITLE}),i.jsx("div",{className:"text-sm text-theme-muted mt-2",children:E.UI.CHARACTER_CREATION.LOADING_SUBTITLE})]});if(k)return i.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold mb-2",children:E.UI.CHARACTER_CREATION.ERROR_TITLE}),i.jsx("p",{className:"mb-4",children:k}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-600 rounded hover:bg-gray-800 transition-colors",children:E.UI.CHARACTER_CREATION.BTN_ABORT}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 border border-red-500 rounded hover:bg-red-900/20",children:E.UI.CHARACTER_CREATION.BTN_RETRY})]})]});const F=p.roles[b];return i.jsx("div",{className:"fixed inset-0 z-50 bg-black overflow-y-auto custom-scrollbar text-theme-text font-sans",children:i.jsxs("div",{className:"min-h-screen max-w-4xl mx-auto p-4 md:p-8 flex flex-col",children:[i.jsx(vh,{uiText:E,setupData:p,onBack:a}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1",children:[i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-left-4 duration-700 delay-100",children:[i.jsx(xh,{uiText:E,name:C,setName:U,handleRandomizeName:ae}),i.jsx(Eh,{uiText:E,setupData:p,selectedRoleIndex:b,setSelectedRoleIndex:M,includeItems:G,setIncludeItems:se})]}),i.jsx(Sh,{uiText:E,currentRole:F,includeItems:G,name:C,handleConfirm:ie})]})]})})}function _h({icon:s,label:c="Stat",value:a=0,color:d="bg-gray-500"}){return i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2 text-theme-muted group-hover:text-theme-text transition-colors",children:[i.jsx("div",{className:`p-1 rounded-md ${d} bg-opacity-20 ${d.includes("-")?`text-${d.split("-")[1]}-500`:"text-white"}`,children:s}),i.jsx("span",{className:"text-xs font-medium",children:c})]}),i.jsxs("span",{className:"text-xs font-bold text-theme-text",children:[a,"%"]})]}),i.jsx("div",{className:"h-1.5 w-full bg-theme-border rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${d} transition-all duration-500 ease-out`,style:{width:`${a}%`}})})]})}function Ch({stats:s,uiText:c}){return i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-semibold text-theme-muted uppercase tracking-wider mb-4",children:c.UI.SIDEBAR.SECTION_STATUS}),i.jsx("div",{className:"space-y-4",children:s&&Object.entries(s).map(([a,d])=>{let f=i.jsx(Cc,{size:14}),p="bg-theme-accent",y=a.charAt(0).toUpperCase()+a.slice(1);return c.UI.STATS[a.toUpperCase()]&&(y=c.UI.STATS[a.toUpperCase()]),a==="health"&&(f=i.jsx(Cc,{size:14}),p="bg-emerald-500"),a==="energy"&&(f=i.jsx(Gt,{size:14}),p="bg-amber-500"),a==="shield"&&(f=i.jsx(no,{size:14}),p="bg-blue-500"),a==="sanity"&&(f=i.jsx("div",{className:"text-xs",children:""}),p="bg-purple-500"),a==="stamina"&&(f=i.jsx("div",{className:"text-xs",children:""}),p="bg-yellow-500"),a==="mood"&&(f=i.jsx("div",{className:"text-xs",children:""}),p="bg-pink-500"),a==="charm"&&(f=i.jsx("div",{className:"text-xs",children:""}),p="bg-rose-400"),i.jsx(_h,{icon:f,label:y,value:d,color:p},a)})})]})}function wh({label:s="Unknown Item",count:c=1,tags:a=[],icon:d="",value:f,max_value:p,desc:y,isSelected:E,onSelect:_,onClose:A,onUse:k}){return i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{onClick:_,className:`
                    relative w-full aspect-square flex items-center justify-center rounded-lg border transition-all
                    ${E?"bg-theme-panel border-theme-accent shadow-[0_0_15px_rgba(79,70,229,0.3)] scale-105 z-20":"bg-theme-panel border-theme-border hover:border-theme-accent hover:bg-theme-accent/10"}
                `,children:[i.jsx("div",{className:`text-2xl transition-transform filter drop-shadow-md ${E?"scale-110":"group-hover:scale-110"}`,children:d}),c>1&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-theme-accent text-theme-bg text-[9px] font-bold px-1.5 rounded-full shadow-sm border border-theme-bg",children:c}),typeof f=="number"&&typeof p=="number"&&i.jsx("div",{className:"absolute bottom-1 left-1 right-1 h-0.5 bg-theme-border/50 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-500 ${f/p<.3?"bg-red-500":"bg-theme-accent"}`,style:{width:`${f/p*100}%`}})})]}),E&&i.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-48 bg-gray-900 border border-gray-700 rounded-lg shadow-xl p-3 flex flex-col gap-2 animate-in fade-in slide-in-from-bottom-2 z-50",children:[i.jsxs("div",{className:"text-center border-b border-gray-700 pb-2",children:[i.jsx("p",{className:"font-bold text-sm text-theme-text",children:s}),y&&i.jsx("p",{className:"text-[10px] text-theme-muted mt-1",children:y})]}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:a.map((T,C)=>i.jsx("span",{className:"text-[9px] px-1 py-0.5 rounded bg-theme-border/50 text-theme-text uppercase tracking-wider",children:T},C))}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("button",{onClick:T=>{T.stopPropagation(),k()},className:"flex-1 bg-theme-accent hover:bg-theme-accent/80 text-white text-xs font-bold py-1.5 rounded transition-colors",children:"USE"}),i.jsx("button",{onClick:T=>{T.stopPropagation(),A()},className:"px-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-white rounded transition-colors",children:i.jsx(Br,{size:14})})]}),i.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-px border-8 border-transparent border-t-gray-900"})]})]})}function Th({inventory:s,handleAction:c,uiText:a}){const[d,f]=eo.useState(null),p=y=>{c(`use ${y}`),f(null)};return i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-semibold text-theme-muted uppercase tracking-wider mb-4",children:a.UI.SIDEBAR.SECTION_INVENTORY}),i.jsx("div",{className:"grid grid-cols-4 gap-2 relative",children:s&&s.map((y,E)=>i.jsx(wh,{label:y.name,count:y.count,tags:y.tags,icon:y.icon,value:y.value,max_value:y.max_value,desc:y.desc||y.type,isSelected:d===E,onSelect:()=>f(E),onClose:()=>f(null),onUse:()=>p(y.name)},E))})]})}function Ih({isSidebarOpen:s,setIsSidebarOpen:c}){const{stats:a,inventory:d,handleAction:f,uiText:p,playerName:y}=Ze();return i.jsxs("aside",{className:`
            fixed lg:static inset-y-0 left-0 z-50
            bg-theme-panel border-r border-theme-border
            transform transition-all duration-300 ease-in-out
            ${s?"translate-x-0 w-72":"-translate-x-full lg:translate-x-0 lg:w-0 lg:border-none lg:overflow-hidden"}
            flex flex-col
        `,children:[i.jsxs("div",{className:"h-16 flex items-center px-6 border-b border-theme-border justify-between min-w-[18rem]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-theme-accent rounded-lg flex items-center justify-center text-white font-bold",children:y?y.charAt(0).toUpperCase():"N"}),i.jsx("span",{className:"font-semibold text-theme-text tracking-tight",children:p.FIXED.APP_TITLE})]}),i.jsx("button",{onClick:()=>c(!1),className:"lg:hidden text-theme-muted hover:text-theme-text",children:i.jsx(Br,{size:20})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 min-w-[18rem]",children:[i.jsxs("div",{className:"flex items-center gap-4 p-3 bg-black/20 rounded-xl border border-theme-border",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-black/40 flex items-center justify-center text-theme-muted",children:i.jsx(Hc,{size:20})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-theme-text",children:y||p.UI.SIDEBAR.PROFILE_NAME}),i.jsxs("div",{className:"text-xs text-theme-accent flex items-center gap-1",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-theme-accent animate-pulse"}),p.UI.SIDEBAR.STATUS_ONLINE]})]})]}),i.jsx(Ch,{stats:a,uiText:p}),i.jsx(Th,{inventory:d,handleAction:f,uiText:p})]}),i.jsx("div",{className:"p-4 border-t border-theme-border text-xs text-theme-muted text-center min-w-[18rem]",children:p.FIXED.APP_VERSION})]})}function kh({isSidebarOpen:s,setIsSidebarOpen:c,isMenuOpen:a,setIsMenuOpen:d,handleSaveGame:f,handleLoadClick:p,setGameStarted:y}){const{quest:E,resetGame:_,genre:A,quitGame:k,uiText:T}=Ze(),[C,U]=j.useState(null),b=()=>{C==="restart"?(_(A),d(!1)):C==="exit"?(k(),y(!1),d(!1)):C==="load"&&(p(),d(!1)),U(null)};return i.jsxs(i.Fragment,{children:[i.jsx($c,{isOpen:!!C,onCancel:()=>U(null),onConfirm:b,title:C==="restart"?T.UI.MENU.CONFIRM_RESTART_TITLE:C==="exit"?T.UI.MENU.CONFIRM_EXIT_TITLE:T.UI.MENU.CONFIRM_LOAD_TITLE,message:C==="restart"?T.UI.MENU.CONFIRM_RESTART_MSG:C==="exit"?T.UI.MENU.CONFIRM_EXIT_MSG:T.UI.MENU.CONFIRM_LOAD_MSG,confirmLabel:T.UI.MENU.BTN_CONFIRM,cancelLabel:T.UI.MENU.BTN_CANCEL,variant:C==="load"?"warning":"danger"}),i.jsxs("header",{className:`h-16 flex items-center justify-between px-4 lg:px-8 border-b border-theme-border bg-theme-main/80 backdrop-blur sticky top-0 transition-colors duration-500 ${a?"z-[60]":"z-30"}`,children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>c(!s),className:"p-2 -ml-2 text-theme-muted hover:text-theme-text rounded-lg hover:bg-theme-panel transition-colors",children:i.jsx(Gm,{size:20})}),i.jsxs("div",{className:"flex items-center text-sm text-theme-muted gap-2",children:[i.jsx("span",{children:T.UI.HEADER.MISSION_LABEL}),i.jsx(bc,{size:14}),i.jsx("span",{className:"text-theme-text font-medium",children:E})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:()=>d(!a),className:"text-theme-muted hover:text-theme-text p-2 rounded-lg hover:bg-theme-panel transition-colors",children:i.jsx(Am,{size:20})}),a&&i.jsx(i.Fragment,{children:i.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-theme-panel border border-theme-border rounded-xl shadow-xl z-50 overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:i.jsxs("div",{className:"p-1",children:[i.jsxs("button",{onClick:f,className:"w-full text-left px-4 py-2 text-sm text-theme-text hover:bg-theme-main rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(km,{size:14}),T.UI.MENU.SAVE_GAME]}),i.jsxs("button",{onClick:()=>U("load"),className:"w-full text-left px-4 py-2 text-sm text-theme-text hover:bg-theme-main rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(uh,{size:14}),T.UI.MENU.LOAD_GAME]}),i.jsx("div",{className:"h-px bg-theme-border my-1"}),i.jsxs("button",{onClick:()=>U("restart"),className:"w-full text-left px-4 py-2 text-sm text-theme-text hover:bg-theme-main rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(Gt,{size:14}),T.UI.MENU.RESTART_MISSION]}),i.jsx("div",{className:"h-px bg-theme-border my-1"}),i.jsxs("button",{onClick:()=>U("exit"),className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(Br,{size:14}),T.UI.MENU.EXIT_SIMULATION]})]})})})]})]})]})}function Rh({content:s="",speed:c=15,onComplete:a,onUpdate:d}){if(!s)return null;const[f,p]=j.useState(""),y=j.useRef(null),E=j.useRef(!0),_=j.useMemo(()=>s.split(/(<[^>]*>)/g),[s]);return j.useEffect(()=>{E.current=!0;let A=0,k=0,T="";y.current&&clearTimeout(y.current);const C=()=>{if(!E.current)return;if(A>=_.length){a&&a();return}const U=_[A];if(!U){A++,C();return}if(U.startsWith("<"))T+=U,p(T),d&&d(),A++,y.current=setTimeout(C,0);else if(k<U.length){T+=U[k],p(T),d&&d(),k++;const b=c+(Math.random()*10-5);y.current=setTimeout(C,b)}else A++,k=0,y.current=setTimeout(C,0)};return C(),()=>{E.current=!1,y.current&&clearTimeout(y.current)}},[_,c,a,d]),i.jsx("span",{dangerouslySetInnerHTML:{__html:f}})}function Ah({msg:s,uiText:c,shouldAnimate:a,onUpdate:d}){var A,k;const f=s.role==="user",p=s.role==="system",y=s.visual_effect,E=j.useMemo(()=>`anim-${Math.random().toString(36).substr(2,9)}`,[]),_=j.useMemo(()=>{if(!y)return{};const T={};return y.color&&(T.color=y.color),y.animation&&y.keyframes&&(T.animation=`${E} ${y.animation}`),T},[y,E]);return i.jsxs("div",{className:`flex w-full mb-4 ${f?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-500`,children:[(y==null?void 0:y.keyframes)&&i.jsx("style",{children:`@keyframes ${E} { ${y.keyframes} }`}),i.jsxs("div",{className:`
                    max-w-[85%] md:max-w-[75%] rounded-2xl p-4 shadow-lg relative overflow-hidden transition-all
                    ${f?"bg-theme-accent text-white rounded-br-none":p?"bg-red-900/20 border border-red-500/50 text-red-200 w-full text-center font-mono text-xs":"bg-theme-panel border border-theme-border text-theme-text rounded-bl-none"}
                `,style:f?{}:_,children:[i.jsx("div",{className:`text-[10px] font-bold mb-1 uppercase tracking-wider opacity-70 ${f?"text-right":"text-left"}`,children:f?"YOU":((k=(A=c==null?void 0:c.UI)==null?void 0:A.NARRATIVE)==null?void 0:k.SYSTEM_NAME)||"SYSTEM"}),i.jsx("div",{className:"text-sm md:text-base leading-relaxed whitespace-pre-wrap",style:y!=null&&y.font_style?{cssText:y.font_style}:{},children:a?i.jsx(Rh,{content:s.content,speed:10,onUpdate:d}):i.jsx("span",{dangerouslySetInnerHTML:{__html:s.content}})}),i.jsx("div",{className:`text-[10px] mt-2 opacity-50 ${f?"text-right":"text-left"}`,children:s.timestamp})]})]})}const Oh={1:[4],2:[0,8],3:[0,4,8],4:[0,2,6,8],5:[0,2,4,6,8],6:[0,2,3,5,6,8]},Xn=({value:s,rotateClass:c})=>{const a=Oh[s]||[];return i.jsx("div",{className:`dice-face ${c}`,children:i.jsx("div",{className:"grid grid-cols-3 grid-rows-3 gap-1 w-full h-full",children:[...Array(9)].map((d,f)=>i.jsx("div",{className:"flex justify-center items-center",children:a.includes(f)&&i.jsx("div",{className:"pip w-3 h-3 md:w-4 md:h-4"})},f))})})};function jh({outcome:s}){var _;const{genre:c,history:a}=Ze(),[d,f]=j.useState({x:0,y:0}),[p,y]=j.useState(!1),E={horror:"dice-theme-horror",fantasy:"dice-theme-fantasy",scifi:"dice-theme-scifi"}[c]||"dice-theme-scifi";return j.useEffect(()=>{const A=setInterval(()=>{f(k=>({x:k.x+20+Math.random()*20,y:k.y+20+Math.random()*20}))},50);if(s){clearInterval(A);let k=1;s==="SUCCESS"&&(k=6),s==="FAILURE"&&(k=1),s==="NEUTRAL"&&(k=Math.floor(Math.random()*6)+1);const T={1:{x:0,y:0},6:{x:180,y:0},2:{x:-90,y:0},5:{x:90,y:0},3:{x:0,y:-90},4:{x:0,y:90}},C=1080,U=T[k];f({x:C+U.x,y:C+U.y}),setTimeout(()=>y(!0),800)}return()=>clearInterval(A)},[s]),i.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:[i.jsx("div",{className:"mb-12 text-center",children:i.jsx("h2",{className:`text-3xl md:text-5xl font-bold tracking-[0.2em] animate-pulse ${s==="SUCCESS"?"text-emerald-500":s==="FAILURE"?"text-red-600":"text-theme-muted"}`,children:s||((_=a.filter(A=>A.role==="user").slice(-1)[0])==null?void 0:_.content.toUpperCase().slice(0,20))+"..."||"FATE IS TURNING..."})}),i.jsx("div",{className:`scene ${E}`,children:i.jsxs("div",{className:"cube",style:{transform:`rotateX(${d.x}deg) rotateY(${d.y}deg)`},children:[i.jsx(Xn,{value:1,rotateClass:"face-front"}),i.jsx(Xn,{value:6,rotateClass:"face-back"}),i.jsx(Xn,{value:2,rotateClass:"face-top"}),i.jsx(Xn,{value:5,rotateClass:"face-bottom"}),i.jsx(Xn,{value:3,rotateClass:"face-right"}),i.jsx(Xn,{value:4,rotateClass:"face-left"})]})}),i.jsx("div",{className:`mt-16 transition-opacity duration-500 ${p?"opacity-100":"opacity-0"}`,children:i.jsxs("p",{className:"text-theme-text text-lg font-mono",children:[s==="SUCCESS"&&"CRITICAL SUCCESS",s==="FAILURE"&&"CRITICAL FAILURE"]})})]})}function Lh(){const{history:s,isProcessing:c,uiText:a,suspenseOutcome:d}=Ze();console.log("NarrativeFeed Render:",{isProcessing:c,suspenseOutcome:d});const f=j.useRef(null),[p,y]=eo.useState(!1);j.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[s,c,p]);const E=eo.useCallback(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[]),_=p?s:s.slice(-4);return i.jsxs("div",{className:"flex flex-col h-full relative",children:[i.jsx("div",{className:"absolute top-2 right-4 z-10",children:i.jsx("button",{onClick:()=>y(!p),className:"text-[10px] uppercase tracking-widest text-theme-muted hover:text-theme-accent transition-colors bg-black/50 backdrop-blur-sm px-2 py-1 rounded border border-theme-border",children:p?"Hide Log":"Show Log"})}),i.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 scroll-smooth custom-scrollbar",children:[!p&&i.jsx("div",{className:"h-12"}),_.map((A,k)=>{let T="opacity-100";return p||_.length-1-k>=2&&(T="opacity-40 grayscale blur-[1px]"),i.jsx("div",{className:`transition-all duration-500 ${T}`,children:i.jsx(Ah,{msg:A,uiText:a,shouldAnimate:k===_.length-1&&A.role==="ai",onUpdate:E})},A.id)}),(c||d)&&i.jsx(jh,{outcome:d,uiText:a}),i.jsx("div",{className:"h-4"})]})]})}function Mh({inputValue:s,setInputValue:c,handleSend:a,handleKeyDown:d,disabled:f,isShrunk:p}){const{uiText:y}=Ze();return i.jsxs("div",{className:`relative z-50 transition-all duration-500 ease-in-out ${p?"p-2 pb-2 opacity-90 hover:opacity-100":"p-4 lg:p-6 pb-6 lg:pb-10"}`,children:[i.jsxs("div",{className:"max-w-3xl mx-auto relative transition-all duration-500",children:[i.jsx("input",{type:"text",value:s,onChange:E=>c(E.target.value),onKeyDown:d,disabled:f,placeholder:f?"CONNECTION TERMINATED":p?"Type command...":y.UI.INPUT_PLACEHOLDER,className:`
                        w-full bg-theme-panel text-theme-text placeholder:text-theme-muted 
                        rounded-xl border border-theme-border focus:border-theme-accent focus:ring-2 focus:ring-theme-accent-transparent focus:outline-none 
                        shadow-lg shadow-black/20 transition-all 
                        ${f?"opacity-50 cursor-not-allowed":""}
                        ${p?"py-2 pl-4 pr-10 text-sm":"py-4 pl-5 pr-14"}
                    `}),i.jsx("button",{onClick:()=>a(),disabled:f,className:`
                        absolute right-2 top-1/2 -translate-y-1/2 bg-theme-accent hover:opacity-90 text-white rounded-lg transition-colors 
                        ${f?"opacity-50 cursor-not-allowed":""}
                        ${p?"p-1":"p-2"}
                    `,children:i.jsx(Wm,{size:p?14:18})})]}),!p&&i.jsx("div",{className:"text-center mt-3",children:i.jsx("p",{className:"text-[10px] text-theme-muted",children:y.UI.INPUT_FOOTER})})]})}function Uh(){const{environment:s}=Ze();console.log("BackgroundLayer Environment:",s);const c={FOREST:"/webstory/assets/backgrounds/forest.png",DUNGEON:"/webstory/assets/backgrounds/dungeon.png",CYBERPUNK:"/webstory/assets/backgrounds/cyberpunk.png",CITY:"/webstory/assets/backgrounds/cyberpunk.png",LAB:"/webstory/assets/backgrounds/cyberpunk.png",SPACE:"/webstory/assets/backgrounds/cyberpunk.png",HORROR:"/webstory/assets/backgrounds/dungeon.png",SCIFI:"/webstory/assets/backgrounds/cyberpunk.png"},a=c[s]||c.SCIFI;return i.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-black"}),i.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-opacity duration-1000 ease-in-out opacity-40",style:{backgroundImage:`url(${a})`}}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.8)_100%)]"}),i.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"})]})}function Ph(){const{environment:s}=Ze(),c=j.useMemo(()=>{const d=(s||"").toUpperCase();return d.includes("FOREST")||d.includes("JUNGLE")?{type:"spores",count:20,color:"bg-emerald-400"}:d.includes("CYBERPUNK")||d.includes("CITY")||d.includes("LAB")?{type:"rain",count:30,color:"bg-cyan-400"}:d.includes("HORROR")||d.includes("DUNGEON")?{type:"embers",count:15,color:"bg-red-500"}:d.includes("SPACE")?{type:"stars",count:50,color:"bg-white"}:{type:"dust",count:10,color:"bg-gray-400"}},[s]),a=j.useMemo(()=>Array.from({length:c.count}).map((d,f)=>({id:f,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,delay:`${Math.random()*5}s`,duration:`${3+Math.random()*5}s`,size:Math.random()*4+1})),[c]);return i.jsxs("div",{className:"absolute inset-0 z-[1] overflow-hidden pointer-events-none",children:[a.map(d=>i.jsx("div",{className:`absolute rounded-full opacity-60 ${c.color} ${Dh(c.type)}`,style:{left:d.left,top:d.top,width:`${d.size}px`,height:`${d.size}px`,animationDelay:d.delay,animationDuration:d.duration}},d.id)),i.jsx("style",{children:`
                @keyframes float-up {
                    0% { transform: translateY(0) translateX(0); opacity: 0; }
                    50% { opacity: 0.8; }
                    100% { transform: translateY(-100px) translateX(20px); opacity: 0; }
                }
                @keyframes rain-drop {
                    0% { transform: translateY(-20px); opacity: 0; }
                    10% { opacity: 1; }
                    100% { transform: translateY(100vh); opacity: 0; }
                }
                @keyframes twinkle {
                    0%, 100% { opacity: 0.2; transform: scale(0.8); }
                    50% { opacity: 1; transform: scale(1.2); }
                }
                @keyframes ember-rise {
                    0% { transform: translateY(0) scale(1); opacity: 1; }
                    100% { transform: translateY(-200px) scale(0); opacity: 0; }
                }

                .animate-spores { animation: float-up linear infinite; }
                .animate-rain { animation: rain-drop linear infinite; height: 20px !important; width: 1px !important; }
                .animate-stars { animation: twinkle ease-in-out infinite; }
                .animate-embers { animation: ember-rise ease-out infinite; }
                .animate-dust { animation: float-up ease-in-out infinite; }
            `})]})}function Dh(s){switch(s){case"spores":return"animate-spores";case"rain":return"animate-rain shadow-[0_0_5px_cyan]";case"stars":return"animate-stars";case"embers":return"animate-embers shadow-[0_0_5px_red]";default:return"animate-dust"}}function bh(s){const{language:c,apiKey:a,updateUiText:d,uiText:f}=Ze(),[p,y]=j.useState(!1),E=c&&c.toLowerCase()!=="english",_=f.UI[s]!==Ft.English[s];return j.useEffect(()=>{if(!E||!a||!s||_)return;let A=!0;return(async()=>{y(!0);try{const T={[s]:Ft.English[s]},C=await Mc(a,c,T);A&&d(c,C,!0)}catch(T){console.error(`Smart Translation failed for ${s}`,T)}finally{A&&y(!1)}})(),()=>{A=!1}},[s,c,a,_,E,d]),{isLoading:p,isTranslated:_}}function zh({isVisible:s,onHide:c}){const{gameOver:a,resetGame:d,genre:f,uiText:p}=Ze(),{isLoading:y}=bh("GAME_OVER");return!a||!s?null:i.jsx("div",{className:"fixed inset-0 z-[60] bg-black/90 flex items-center justify-center p-4 animate-in fade-in duration-1000",children:i.jsxs("div",{className:"max-w-md w-full bg-theme-panel border border-red-500/50 rounded-2xl p-8 text-center shadow-2xl shadow-red-900/20 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-red-500/5 animate-pulse"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center text-red-500 mb-2 animate-bounce",children:i.jsx(Bc,{size:40})}),i.jsx("div",{className:"space-y-2",children:y?i.jsxs("div",{className:"flex flex-col items-center gap-2 animate-pulse text-red-400",children:[i.jsx(Zl,{size:24,className:"animate-spin"}),i.jsx("span",{className:"text-xs font-mono tracking-widest",children:"DECIPHERING SIGNAL..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-3xl font-bold text-white tracking-widest uppercase",children:p.UI.GAME_OVER.TITLE}),i.jsx("p",{className:"text-red-400 font-mono text-sm",children:p.UI.GAME_OVER.MESSAGE})]})}),i.jsx("div",{className:"w-full h-px bg-red-500/20"}),i.jsxs("div",{className:"w-full space-y-3",children:[i.jsx("button",{onClick:()=>d(f),className:"group relative px-8 py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded-lg transition-all hover:scale-105 hover:shadow-lg hover:shadow-red-500/30 w-full",children:i.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[i.jsx(Gt,{size:18}),p.UI.GAME_OVER.BUTTON_REBOOT]})}),i.jsx("button",{onClick:c,className:"group relative px-8 py-3 bg-transparent border border-red-500/30 hover:bg-red-500/10 text-red-400 hover:text-red-300 font-bold rounded-lg transition-all w-full",children:i.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2 text-sm",children:[i.jsx(zc,{size:16}),"VIEW AFTERMATH"]})})]})]})]})})}function Fh({card:s,index:c,total:a,onSelect:d,isSelected:f,isComboMode:p,isSelectedForCombo:y}){const E=j.useRef(null),[_,A]=j.useState({x:0,y:0}),[k,T]=j.useState({x:50,y:50}),C=ge=>{if(!E.current)return;const _e=E.current.getBoundingClientRect(),Ie=ge.clientX-_e.left,be=ge.clientY-_e.top,Ce=_e.width/2,Re=_e.height/2,je=(be-Re)/Re*-10,Le=(Ie-Ce)/Ce*10;A({x:je,y:Le}),T({x:Ie/_e.width*100,y:be/_e.height*100})},U=()=>{A({x:0,y:0}),T({x:50,y:50})};let b=Nm,M="cyan";s.type==="skill_check"?(b=Em,M="cyan"):s.type==="dice"?(b=Tm,M="purple"):s.type==="resource"?(b=Gt,M="amber"):s.type==="item"?(b=em,M="emerald"):s.type==="defend"&&(b=no,M="blue");const G={cyan:"from-cyan-500/20 to-cyan-900/80 border-cyan-500 text-cyan-400",purple:"from-purple-500/20 to-purple-900/80 border-purple-500 text-purple-400",amber:"from-amber-500/20 to-amber-900/80 border-amber-500 text-amber-400",emerald:"from-emerald-500/20 to-emerald-900/80 border-emerald-500 text-emerald-400",blue:"from-blue-500/20 to-blue-900/80 border-blue-500 text-blue-400"},se=G[M]||G.cyan,ae=M==="cyan"?"#06b6d4":M==="amber"?"#f59e0b":M==="purple"?"#a855f7":"#10b981",ie=window.innerWidth<768,F=c-(a-1)/2,te=ie?0:F*5,de=ie?0:Math.abs(F)*10,oe=f||y;return i.jsx("div",{className:`
                relative w-36 h-56 md:w-48 md:h-72 transition-all duration-300 ease-out perspective-1000 flex-shrink-0
                ${oe?"-translate-y-12 md:-translate-y-24 scale-110 z-50":`hover:-translate-y-8 hover:scale-105 hover:z-40 z-${c}`}
                cursor-pointer
            `,style:{transform:oe?`rotate(0deg) translateY(${ie?-40:-80}px)`:`rotate(${te}deg) translateY(${de}px)`,marginLeft:ie?"0px":"-40px",marginRight:ie?"10px":"0px"},onClick:()=>d(s),onMouseMove:C,onMouseLeave:U,children:i.jsxs("div",{ref:E,className:`
                    w-full h-full rounded-xl border-2 bg-gradient-to-b backdrop-blur-md shadow-2xl flex flex-col p-3 md:p-4 relative overflow-hidden group
                    ${se}
                    ${y?"ring-4 ring-white ring-opacity-50":""}
                `,style:{transform:`rotateX(${_.x}deg) rotateY(${_.y}deg)`,boxShadow:oe?`0 0 30px ${ae}80`:"0 10px 20px -5px rgba(0,0,0,0.5)"},children:[i.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-0 group-hover:opacity-40 transition-opacity duration-300 mix-blend-overlay",style:{background:`radial-gradient(circle at ${k.x}% ${k.y}%, rgba(255,255,255,0.8), transparent 60%)`}}),y&&i.jsx("div",{className:"absolute top-2 right-2 bg-white text-black text-[10px] font-bold px-2 py-0.5 rounded-full z-20 animate-pulse",children:"COMBO"}),s.meta&&i.jsx("div",{className:"absolute top-0 left-0 px-2 py-1 bg-black/60 rounded-br-xl border-r border-b border-white/10 text-[10px] font-mono z-10",children:s.meta.cost||s.meta.probability||"ACTION"}),i.jsxs("div",{className:"flex-1 flex items-center justify-center my-2 relative",children:[i.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-lg border border-white/10"}),i.jsx("div",{className:"relative z-10 p-3 rounded-full bg-black/50 border border-current shadow-[0_0_15px_rgba(0,0,0,0.5)]",children:i.jsx(b,{size:ie?24:32})})]}),i.jsxs("div",{className:"text-center relative z-10",children:[i.jsx("h3",{className:"font-bold uppercase tracking-wider text-xs md:text-sm mb-1 line-clamp-2",children:s.label}),i.jsx("div",{className:"w-full h-px bg-white/20 mb-2"}),i.jsx("p",{className:"text-[10px] leading-tight opacity-80 font-mono line-clamp-3",children:s.description||s.action})]}),i.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,0,0,0.1)_1px,transparent_1px)] bg-[size:100%_3px] pointer-events-none opacity-20"})]})})}function Gh({choices:s,inventory:c,handleAction:a,allowCombo:d,isFocusingText:f}){const[p,y]=j.useState([]),[E,_]=j.useState(!1),A=j.useMemo(()=>{const b=s.map((G,se)=>({...G,id:`choice-${se}`,type:G.type||"action"})),M=c.slice(0,3).map((G,se)=>({id:`item-${se}`,label:G.name,action:`use ${G.name}`,type:"item",description:`Use ${G.name}`,meta:{cost:1}}));return[...b,...M]},[s,c]);j.useEffect(()=>{s.length>0&&_(!0)},[s]);const k=b=>{d?p.find(M=>M.id===b.id)?y(M=>M.filter(G=>G.id!==b.id)):p.length<2&&y(M=>[...M,b]):(a(b.action),_(!1))},T=()=>{if(p.length===0)return;const b=`COMBO: ${p.map(M=>M.action).join(" + ")}`;a(b),y([]),_(!1)};if(A.length===0)return null;const C=f?"md:opacity-10 md:translate-y-20 md:scale-95":"md:opacity-100 md:translate-y-0 md:scale-100",U=E?"translate-y-0":"translate-y-[85%] md:translate-y-0";return i.jsxs("div",{className:`
            w-full flex flex-col items-center justify-end pb-4 z-30 
            transition-all duration-500 ease-out
            ${C} ${U}
        `,children:[i.jsx("div",{className:"md:hidden w-full flex justify-center -mb-6 z-40 relative pointer-events-auto",children:i.jsxs("button",{onClick:()=>_(!E),className:"bg-black/80 border border-cyan-500/50 text-cyan-400 rounded-t-xl px-6 py-1 flex items-center gap-2 shadow-[0_-5px_15px_rgba(0,0,0,0.5)] backdrop-blur-md",children:[E?i.jsx(im,{size:16}):i.jsx(cm,{size:16}),i.jsx("span",{className:"text-xs font-bold tracking-widest",children:E?"HIDE DECK":"SHOW ACTIONS"})]})}),d&&p.length>0&&i.jsx("div",{className:"mb-4 pointer-events-auto animate-in zoom-in duration-300",children:i.jsxs("button",{onClick:T,className:"bg-gradient-to-r from-cyan-500 to-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-[0_0_30px_rgba(6,182,212,0.6)] hover:scale-110 transition-transform flex items-center gap-2 border border-white/20",children:[i.jsx(eh,{size:20,className:"animate-spin-slow"}),"EXECUTE COMBO (",p.length,")"]})}),i.jsx("div",{className:"w-full flex items-end justify-start md:justify-center overflow-x-auto md:overflow-visible px-4 md:px-0 pb-8 pt-10 pointer-events-auto no-scrollbar snap-x snap-mandatory",children:i.jsx("div",{className:"flex items-end space-x-4 md:space-x-0 mx-auto md:mx-0 min-w-min",children:A.map((b,M)=>i.jsx("div",{className:"snap-center",children:i.jsx(Fh,{card:b,index:M,total:A.length,onSelect:k,isSelected:!1,isComboMode:d,isSelectedForCombo:p.some(G=>G.id===b.id)})},b.id))})}),E&&i.jsx("div",{className:"md:hidden text-[10px] text-white/30 animate-pulse mt-2",children:" SCROLL TO VIEW CARDS "})]})}function Bh({setGameStarted:s}){const{handleAction:c,saveGame:a,loadGame:d,lastOutcome:f,quitGame:p,resetGame:y,genre:E,gameOver:_,qteActive:A,setQteActive:k,feedback:T,triggerFeedback:C,setStats:U,choices:b,inventory:M,allowCombo:G}=Ze(),[se,ae]=j.useState(!0),[ie,F]=j.useState(""),[te,de]=j.useState(!1),[oe,ge]=j.useState(!1),[_e,Ie]=j.useState(!1),be=j.useRef(null);eo.useEffect(()=>{_&&ge(!0)},[_]);const Ce=D=>{const v=typeof D=="string"?D:ie;v.trim()&&(c(v),F(""))},Re=D=>{D.key==="Enter"&&Ce()},je=async()=>{await a(),de(!1)},Le=()=>{be.current&&be.current.click()},xe=async D=>{const v=D.target.files[0];if(!v)return;await d(v)&&(s(!0),de(!1)),D.target.value=null};let me="",P="";f==="SUCCESS"&&(P="bg-[radial-gradient(circle_at_center,transparent_20%,rgba(16,185,129,0.4)_100%)] mix-blend-hard-light animate-pulse"),f==="FAILURE"&&(me="animate-shake",P="bg-[radial-gradient(circle_at_center,transparent_20%,rgba(220,38,38,0.6)_100%)] mix-blend-hard-light");const W=b&&b.length>0&&!_;return i.jsxs("div",{className:`flex h-screen bg-transparent relative transition-all duration-300 ${me}`,children:[i.jsx(Uh,{}),i.jsx(Ph,{}),f&&i.jsx("div",{className:`absolute inset-0 z-[100] pointer-events-none transition-all duration-300 ${P}`}),i.jsx("input",{type:"file",ref:be,onChange:xe,accept:".json",className:"hidden"}),A&&i.jsx(QTEOverlay,{duration:2e3,onComplete:D=>{D==="success"?C("DODGE SUCCESS!","text-yellow-400"):(C("TOO SLOW! -20 HP","text-red-500"),U(v=>({...v,health:Math.max(0,v.health-20)}))),k(!1)}}),T&&i.jsx("div",{className:`fixed left-1/2 top-1/4 -translate-x-1/2 text-3xl font-black tracking-widest z-[200] animate-float-up ${T.color} drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)]`,children:T.msg}),i.jsx(zh,{isVisible:oe,onHide:()=>ge(!1)}),te&&i.jsx("div",{className:"fixed inset-0 z-[55]",onClick:()=>de(!1)}),se&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden transition-opacity",onClick:()=>ae(!1)}),i.jsx(Ih,{isSidebarOpen:se,setIsSidebarOpen:ae}),i.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-transparent relative transition-colors duration-500 z-10",onClick:()=>{_&&!oe&&ge(!0)},children:[i.jsx(kh,{isSidebarOpen:se,setIsSidebarOpen:ae,isMenuOpen:te,setIsMenuOpen:de,handleSaveGame:je,handleLoadClick:Le,setGameStarted:s}),i.jsxs("div",{className:"flex-1 min-h-0 relative flex flex-col",children:[i.jsx("div",{className:"flex-1 min-h-0 flex flex-col",onMouseEnter:()=>Ie(!0),onMouseLeave:()=>Ie(!1),children:i.jsx(Lh,{handleSend:Ce})}),W&&i.jsx("div",{className:"absolute bottom-0 left-0 right-0 z-20 pointer-events-none",onMouseEnter:()=>Ie(!1),children:i.jsx(Gh,{choices:b,inventory:M,handleAction:c,allowCombo:G,isFocusingText:_e})})]}),i.jsx(Mh,{inputValue:ie,setInputValue:F,handleSend:Ce,handleKeyDown:Re,disabled:_,isShrunk:W})]})]})}function Hh(){const[s,c]=j.useState(!1),{stats:a,setStats:d,inventory:f,setInventory:p,setGameOver:y,setLastOutcome:E,isMockMode:_,setIsMockMode:A,handleAction:k,setQteActive:T}=Ze(),C=()=>{const ae=!_;A(ae),localStorage.setItem("nexus_mock_mode",ae)},U=()=>{d(ae=>{const ie=Math.max(0,ae.health-20);return ie===0&&y(!0),{...ae,health:ie}})},b=()=>{d(ae=>({...ae,health:100,energy:100,sanity:100})),y(!1)},M=()=>{const ae={name:"Debug Tool",count:1,tags:["tool","debug"],type:"tool",icon:""};p(ie=>[...ie,ae])},G=()=>{p([])},se=()=>{d(ae=>({...ae,health:0})),y(!0)};return i.jsxs("div",{className:"fixed bottom-4 right-4 z-[9999] pb-[env(safe-area-inset-bottom)]",children:[i.jsx("button",{onClick:()=>c(!s),className:`p-3 rounded-full shadow-lg transition-all ${s?"bg-red-500 text-white rotate-45":"bg-gray-800 text-gray-400 hover:text-white"}`,children:i.jsx(lm,{size:24})}),s&&i.jsxs("div",{className:"absolute bottom-16 right-0 w-64 bg-gray-900 border border-gray-700 rounded-xl shadow-2xl p-4 space-y-4 animate-in slide-in-from-bottom-5 fade-in duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-gray-800 pb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Debug Console"}),i.jsx("span",{className:"text-[10px] text-gray-500",children:"v0.1"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Mock LLM Mode"}),i.jsx("button",{onClick:C,className:`text-2xl transition-colors ${_?"text-green-400":"text-gray-600"}`,children:_?i.jsx(lh,{}):i.jsx(nh,{})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>k("mock:success"),className:"flex flex-col items-center justify-center gap-1 p-2 bg-green-900/30 hover:bg-green-900/50 text-green-400 rounded-lg border border-green-900/50 transition-colors",children:[i.jsx(Dc,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Mock Success"})]}),i.jsxs("button",{onClick:()=>k("mock:fail"),className:"flex flex-col items-center justify-center gap-1 p-2 bg-rose-900/30 hover:bg-rose-900/50 text-rose-400 rounded-lg border border-rose-900/50 transition-colors",children:[i.jsx(vm,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Mock Fail"})]}),i.jsxs("button",{onClick:()=>k("mock:cards"),className:"flex flex-col items-center justify-center gap-1 p-2 bg-purple-900/30 hover:bg-purple-900/50 text-purple-400 rounded-lg border border-purple-900/50 transition-colors",children:[i.jsx(Gt,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Test Cards"})]}),i.jsxs("button",{onClick:()=>k("mock:loot"),className:"flex flex-col items-center justify-center gap-1 p-2 bg-amber-900/30 hover:bg-amber-900/50 text-amber-400 rounded-lg border border-amber-900/50 transition-colors",children:[i.jsx(wc,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Mock Loot"})]}),i.jsxs("button",{onClick:()=>T(!0),className:"flex flex-col items-center justify-center gap-1 p-2 bg-yellow-900/30 hover:bg-yellow-900/50 text-yellow-400 rounded-lg border border-yellow-900/50 transition-colors",children:[i.jsx(Gt,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Trigger QTE"})]})]}),i.jsxs("button",{onClick:b,className:"flex flex-col items-center justify-center gap-1 p-2 bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 rounded-lg border border-emerald-900/50 transition-colors",children:[i.jsx(Fc,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Heal All"})]}),i.jsxs("button",{onClick:U,className:"flex flex-col items-center justify-center gap-1 p-2 bg-red-900/30 hover:bg-red-900/50 text-red-400 rounded-lg border border-red-900/50 transition-colors",children:[i.jsx(Gt,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Dmg -20"})]}),i.jsxs("button",{onClick:M,className:"flex flex-col items-center justify-center gap-1 p-2 bg-blue-900/30 hover:bg-blue-900/50 text-blue-400 rounded-lg border border-blue-900/50 transition-colors",children:[i.jsx(wc,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Add Item"})]}),i.jsxs("button",{onClick:G,className:"flex flex-col items-center justify-center gap-1 p-2 bg-orange-900/30 hover:bg-orange-900/50 text-orange-400 rounded-lg border border-orange-900/50 transition-colors",children:[i.jsx(sh,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Clear Inv"})]}),i.jsxs("button",{onClick:se,className:"flex flex-col items-center justify-center gap-1 p-2 bg-red-950/50 hover:bg-red-900/80 text-red-500 rounded-lg border border-red-900/50 transition-colors col-span-2",children:[i.jsx(Gc,{size:16}),i.jsx("span",{className:"text-[10px]",children:"KILL PLAYER (TEST GAME OVER)"})]})]})]})]})}function $h(){const{genre:s,history:c,resetGame:a,initializeGame:d,uiText:f}=Ze();if(!f||!f.UI)return i.jsx("div",{className:"h-screen bg-black text-white flex items-center justify-center",children:"Loading Neural Interface..."});const[p,y]=j.useState(!1),E=!p&&s&&s!=="default"&&(!c||c.length===0);return i.jsxs("div",{"data-theme":s,className:"h-screen bg-theme-main text-theme-text font-sans selection:bg-theme-accent/30 selection:text-theme-accent transition-all duration-300",children:[p?i.jsx(Bh,{setGameStarted:y}):E?i.jsx(Nh,{genre:s,onComplete:_=>{d(_),y(!0)},onBack:()=>a("default")}):i.jsx(yh,{onSelect:_=>{a(_,!0)},onContinue:()=>y(!0)}),i.jsx(Hh,{})]})}qf.createRoot(document.getElementById("root")).render(i.jsx(j.StrictMode,{children:i.jsx($p,{children:i.jsx($h,{})})}));
