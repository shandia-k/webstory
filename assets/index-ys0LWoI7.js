(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))d(f);new MutationObserver(f=>{for(const p of f)if(p.type==="childList")for(const g of p.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&d(g)}).observe(document,{childList:!0,subtree:!0});function a(f){const p={};return f.integrity&&(p.integrity=f.integrity),f.referrerPolicy&&(p.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?p.credentials="include":f.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function d(f){if(f.ep)return;f.ep=!0;const p=a(f);fetch(f.href,p)}})();function $f(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var qs={exports:{}},Dr={},Xs={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu;function Vf(){if(Xu)return oe;Xu=1;var s=Symbol.for("react.element"),c=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),g=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function T(v){return v===null||typeof v!="object"?null:(v=R&&v[R]||v["@@iterator"],typeof v=="function"?v:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,z={};function W(v,C,re){this.props=v,this.context=C,this.refs=z,this.updater=re||U}W.prototype.isReactComponent={},W.prototype.setState=function(v,C){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,C,"setState")},W.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function ce(){}ce.prototype=W.prototype;function se(v,C,re){this.props=v,this.context=C,this.refs=z,this.updater=re||U}var de=se.prototype=new ce;de.constructor=se,Y(de,W.prototype),de.isPureReactComponent=!0;var F=Array.isArray,te=Object.prototype.hasOwnProperty,ue={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function Se(v,C,re){var H,J={},$=null,X=null;if(C!=null)for(H in C.ref!==void 0&&(X=C.ref),C.key!==void 0&&($=""+C.key),C)te.call(C,H)&&!ie.hasOwnProperty(H)&&(J[H]=C[H]);var Z=arguments.length-2;if(Z===1)J.children=re;else if(1<Z){for(var ae=Array(Z),ne=0;ne<Z;ne++)ae[ne]=arguments[ne+2];J.children=ae}if(v&&v.defaultProps)for(H in Z=v.defaultProps,Z)J[H]===void 0&&(J[H]=Z[H]);return{$$typeof:s,type:v,key:$,ref:X,props:J,_owner:ue.current}}function Qe(v,C){return{$$typeof:s,type:v.type,key:C,ref:v.ref,props:v.props,_owner:v._owner}}function Le(v){return typeof v=="object"&&v!==null&&v.$$typeof===s}function qe(v){var C={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(re){return C[re]})}var Ae=/\/+/g;function Me(v,C){return typeof v=="object"&&v!==null&&v.key!=null?qe(""+v.key):C.toString(36)}function Ue(v,C,re,H,J){var $=typeof v;($==="undefined"||$==="boolean")&&(v=null);var X=!1;if(v===null)X=!0;else switch($){case"string":case"number":X=!0;break;case"object":switch(v.$$typeof){case s:case c:X=!0}}if(X)return X=v,J=J(X),v=H===""?"."+Me(X,0):H,F(J)?(re="",v!=null&&(re=v.replace(Ae,"$&/")+"/"),Ue(J,C,re,"",function(ne){return ne})):J!=null&&(Le(J)&&(J=Qe(J,re+(!J.key||X&&X.key===J.key?"":(""+J.key).replace(Ae,"$&/")+"/")+v)),C.push(J)),1;if(X=0,H=H===""?".":H+":",F(v))for(var Z=0;Z<v.length;Z++){$=v[Z];var ae=H+Me($,Z);X+=Ue($,C,re,ae,J)}else if(ae=T(v),typeof ae=="function")for(v=ae.call(v),Z=0;!($=v.next()).done;)$=$.value,ae=H+Me($,Z++),X+=Ue($,C,re,ae,J);else if($==="object")throw C=String(v),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return X}function Pe(v,C,re){if(v==null)return v;var H=[],J=0;return Ue(v,H,"","",function($){return C.call(re,$,J++)}),H}function ge(v){if(v._status===-1){var C=v._result;C=C(),C.then(function(re){(v._status===0||v._status===-1)&&(v._status=1,v._result=re)},function(re){(v._status===0||v._status===-1)&&(v._status=2,v._result=re)}),v._status===-1&&(v._status=0,v._result=C)}if(v._status===1)return v._result.default;throw v._result}var me={current:null},M={transition:null},G={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:M,ReactCurrentOwner:ue};function P(){throw Error("act(...) is not supported in production builds of React.")}return oe.Children={map:Pe,forEach:function(v,C,re){Pe(v,function(){C.apply(this,arguments)},re)},count:function(v){var C=0;return Pe(v,function(){C++}),C},toArray:function(v){return Pe(v,function(C){return C})||[]},only:function(v){if(!Le(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},oe.Component=W,oe.Fragment=a,oe.Profiler=f,oe.PureComponent=se,oe.StrictMode=d,oe.Suspense=_,oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,oe.act=P,oe.cloneElement=function(v,C,re){if(v==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+v+".");var H=Y({},v.props),J=v.key,$=v.ref,X=v._owner;if(C!=null){if(C.ref!==void 0&&($=C.ref,X=ue.current),C.key!==void 0&&(J=""+C.key),v.type&&v.type.defaultProps)var Z=v.type.defaultProps;for(ae in C)te.call(C,ae)&&!ie.hasOwnProperty(ae)&&(H[ae]=C[ae]===void 0&&Z!==void 0?Z[ae]:C[ae])}var ae=arguments.length-2;if(ae===1)H.children=re;else if(1<ae){Z=Array(ae);for(var ne=0;ne<ae;ne++)Z[ne]=arguments[ne+2];H.children=Z}return{$$typeof:s,type:v.type,key:J,ref:$,props:H,_owner:X}},oe.createContext=function(v){return v={$$typeof:g,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},v.Provider={$$typeof:p,_context:v},v.Consumer=v},oe.createElement=Se,oe.createFactory=function(v){var C=Se.bind(null,v);return C.type=v,C},oe.createRef=function(){return{current:null}},oe.forwardRef=function(v){return{$$typeof:x,render:v}},oe.isValidElement=Le,oe.lazy=function(v){return{$$typeof:w,_payload:{_status:-1,_result:v},_init:ge}},oe.memo=function(v,C){return{$$typeof:A,type:v,compare:C===void 0?null:C}},oe.startTransition=function(v){var C=M.transition;M.transition={};try{v()}finally{M.transition=C}},oe.unstable_act=P,oe.useCallback=function(v,C){return me.current.useCallback(v,C)},oe.useContext=function(v){return me.current.useContext(v)},oe.useDebugValue=function(){},oe.useDeferredValue=function(v){return me.current.useDeferredValue(v)},oe.useEffect=function(v,C){return me.current.useEffect(v,C)},oe.useId=function(){return me.current.useId()},oe.useImperativeHandle=function(v,C,re){return me.current.useImperativeHandle(v,C,re)},oe.useInsertionEffect=function(v,C){return me.current.useInsertionEffect(v,C)},oe.useLayoutEffect=function(v,C){return me.current.useLayoutEffect(v,C)},oe.useMemo=function(v,C){return me.current.useMemo(v,C)},oe.useReducer=function(v,C,re){return me.current.useReducer(v,C,re)},oe.useRef=function(v){return me.current.useRef(v)},oe.useState=function(v){return me.current.useState(v)},oe.useSyncExternalStore=function(v,C,re){return me.current.useSyncExternalStore(v,C,re)},oe.useTransition=function(){return me.current.useTransition()},oe.version="18.3.1",oe}var Ju;function li(){return Ju||(Ju=1,Xs.exports=Vf()),Xs.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu;function Kf(){if(Zu)return Dr;Zu=1;var s=li(),c=Symbol.for("react.element"),a=Symbol.for("react.fragment"),d=Object.prototype.hasOwnProperty,f=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function g(x,_,A){var w,R={},T=null,U=null;A!==void 0&&(T=""+A),_.key!==void 0&&(T=""+_.key),_.ref!==void 0&&(U=_.ref);for(w in _)d.call(_,w)&&!p.hasOwnProperty(w)&&(R[w]=_[w]);if(x&&x.defaultProps)for(w in _=x.defaultProps,_)R[w]===void 0&&(R[w]=_[w]);return{$$typeof:c,type:x,key:T,ref:U,props:R,_owner:f.current}}return Dr.Fragment=a,Dr.jsx=g,Dr.jsxs=g,Dr}var ec;function Yf(){return ec||(ec=1,qs.exports=Kf()),qs.exports}var i=Yf(),j=li();const to=$f(j);var Jl={},Js={exports:{}},ot={},Zs={exports:{}},ei={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc;function Wf(){return tc||(tc=1,(function(s){function c(M,G){var P=M.length;M.push(G);e:for(;0<P;){var v=P-1>>>1,C=M[v];if(0<f(C,G))M[v]=G,M[P]=C,P=v;else break e}}function a(M){return M.length===0?null:M[0]}function d(M){if(M.length===0)return null;var G=M[0],P=M.pop();if(P!==G){M[0]=P;e:for(var v=0,C=M.length,re=C>>>1;v<re;){var H=2*(v+1)-1,J=M[H],$=H+1,X=M[$];if(0>f(J,P))$<C&&0>f(X,J)?(M[v]=X,M[$]=P,v=$):(M[v]=J,M[H]=P,v=H);else if($<C&&0>f(X,P))M[v]=X,M[$]=P,v=$;else break e}}return G}function f(M,G){var P=M.sortIndex-G.sortIndex;return P!==0?P:M.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var p=performance;s.unstable_now=function(){return p.now()}}else{var g=Date,x=g.now();s.unstable_now=function(){return g.now()-x}}var _=[],A=[],w=1,R=null,T=3,U=!1,Y=!1,z=!1,W=typeof setTimeout=="function"?setTimeout:null,ce=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function de(M){for(var G=a(A);G!==null;){if(G.callback===null)d(A);else if(G.startTime<=M)d(A),G.sortIndex=G.expirationTime,c(_,G);else break;G=a(A)}}function F(M){if(z=!1,de(M),!Y)if(a(_)!==null)Y=!0,ge(te);else{var G=a(A);G!==null&&me(F,G.startTime-M)}}function te(M,G){Y=!1,z&&(z=!1,ce(Se),Se=-1),U=!0;var P=T;try{for(de(G),R=a(_);R!==null&&(!(R.expirationTime>G)||M&&!qe());){var v=R.callback;if(typeof v=="function"){R.callback=null,T=R.priorityLevel;var C=v(R.expirationTime<=G);G=s.unstable_now(),typeof C=="function"?R.callback=C:R===a(_)&&d(_),de(G)}else d(_);R=a(_)}if(R!==null)var re=!0;else{var H=a(A);H!==null&&me(F,H.startTime-G),re=!1}return re}finally{R=null,T=P,U=!1}}var ue=!1,ie=null,Se=-1,Qe=5,Le=-1;function qe(){return!(s.unstable_now()-Le<Qe)}function Ae(){if(ie!==null){var M=s.unstable_now();Le=M;var G=!0;try{G=ie(!0,M)}finally{G?Me():(ue=!1,ie=null)}}else ue=!1}var Me;if(typeof se=="function")Me=function(){se(Ae)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Pe=Ue.port2;Ue.port1.onmessage=Ae,Me=function(){Pe.postMessage(null)}}else Me=function(){W(Ae,0)};function ge(M){ie=M,ue||(ue=!0,Me())}function me(M,G){Se=W(function(){M(s.unstable_now())},G)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_continueExecution=function(){Y||U||(Y=!0,ge(te))},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Qe=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_getFirstCallbackNode=function(){return a(_)},s.unstable_next=function(M){switch(T){case 1:case 2:case 3:var G=3;break;default:G=T}var P=T;T=G;try{return M()}finally{T=P}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(M,G){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var P=T;T=M;try{return G()}finally{T=P}},s.unstable_scheduleCallback=function(M,G,P){var v=s.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?v+P:v):P=v,M){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=P+C,M={id:w++,callback:G,priorityLevel:M,startTime:P,expirationTime:C,sortIndex:-1},P>v?(M.sortIndex=P,c(A,M),a(_)===null&&M===a(A)&&(z?(ce(Se),Se=-1):z=!0,me(F,P-v))):(M.sortIndex=C,c(_,M),Y||U||(Y=!0,ge(te))),M},s.unstable_shouldYield=qe,s.unstable_wrapCallback=function(M){var G=T;return function(){var P=T;T=G;try{return M.apply(this,arguments)}finally{T=P}}}})(ei)),ei}var nc;function Qf(){return nc||(nc=1,Zs.exports=Wf()),Zs.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc;function qf(){if(rc)return ot;rc=1;var s=li(),c=Qf();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,f={};function p(e,t){g(e,t),g(e+"Capture",t)}function g(e,t){for(f[e]=t,e=0;e<t.length;e++)d.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function T(e){return _.call(R,e)?!0:_.call(w,e)?!1:A.test(e)?R[e]=!0:(w[e]=!0,!1)}function U(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y(e,t,n,r){if(t===null||typeof t>"u"||U(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function z(e,t,n,r,l,o,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=u}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){W[e]=new z(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];W[t]=new z(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){W[e]=new z(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){W[e]=new z(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){W[e]=new z(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){W[e]=new z(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){W[e]=new z(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){W[e]=new z(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){W[e]=new z(e,5,!1,e.toLowerCase(),null,!1,!1)});var ce=/[\-:]([a-z])/g;function se(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ce,se);W[t]=new z(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ce,se);W[t]=new z(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ce,se);W[t]=new z(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){W[e]=new z(e,1,!1,e.toLowerCase(),null,!1,!1)}),W.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){W[e]=new z(e,1,!1,e.toLowerCase(),null,!0,!0)});function de(e,t,n,r){var l=W.hasOwnProperty(t)?W[t]:null;(l!==null?l.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y(t,n,l,r)&&(n=null),r||l===null?T(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,r=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var F=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),ue=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),Qe=Symbol.for("react.profiler"),Le=Symbol.for("react.provider"),qe=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),me=Symbol.for("react.offscreen"),M=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var P=Object.assign,v;function C(e){if(v===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);v=t&&t[1]||""}return`
`+v+e}var re=!1;function H(e,t){if(!e||re)return"";re=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(N){var r=N}Reflect.construct(e,[],t)}else{try{t.call()}catch(N){r=N}e.call(t.prototype)}else{try{throw Error()}catch(N){r=N}e()}}catch(N){if(N&&r&&typeof N.stack=="string"){for(var l=N.stack.split(`
`),o=r.stack.split(`
`),u=l.length-1,m=o.length-1;1<=u&&0<=m&&l[u]!==o[m];)m--;for(;1<=u&&0<=m;u--,m--)if(l[u]!==o[m]){if(u!==1||m!==1)do if(u--,m--,0>m||l[u]!==o[m]){var h=`
`+l[u].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=u&&0<=m);break}}}finally{re=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?C(e):""}function J(e){switch(e.tag){case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1),e;case 11:return e=H(e.type.render,!1),e;case 1:return e=H(e.type,!0),e;default:return""}}function $(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case ue:return"Portal";case Qe:return"Profiler";case Se:return"StrictMode";case Me:return"Suspense";case Ue:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qe:return(e.displayName||"Context")+".Consumer";case Le:return(e._context.displayName||"Context")+".Provider";case Ae:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pe:return t=e.displayName||null,t!==null?t:$(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return $(e(t))}catch{}}return null}function X(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(t);case 8:return t===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ae(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ne(e){var t=ae(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function be(e){e._valueTracker||(e._valueTracker=ne(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ae(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ke(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dt(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function st(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Z(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tt(e,t){t=t.checked,t!=null&&de(e,"checked",t,!1)}function Jn(e,t){Tt(e,t);var n=Z(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?lo(e,t.type,n):t.hasOwnProperty("defaultValue")&&lo(e,t.type,Z(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ro(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function lo(e,t,n){(t!=="number"||ke(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zn=Array.isArray;function wn(e,t,n,r){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Z(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,r&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function oo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ii(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(Zn(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Z(n)}}function ai(e,t){var n=Z(t.value),r=Z(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ui(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ci(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function so(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ci(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $r,di=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,l)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$r.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yc=["Webkit","ms","Moz","O"];Object.keys(tr).forEach(function(e){Yc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tr[t]=tr[e]})});function fi(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tr.hasOwnProperty(e)&&tr[e]?(""+t).trim():t+"px"}function pi(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=fi(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,l):e[n]=l}}var Wc=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(e,t){if(t){if(Wc[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fo=null,Cn=null,Tn=null;function mi(e){if(e=_r(e)){if(typeof fo!="function")throw Error(a(280));var t=e.stateNode;t&&(t=pl(t),fo(e.stateNode,e.type,t))}}function hi(e){Cn?Tn?Tn.push(e):Tn=[e]:Cn=e}function gi(){if(Cn){var e=Cn,t=Tn;if(Tn=Cn=null,mi(e),t)for(e=0;e<t.length;e++)mi(t[e])}}function yi(e,t){return e(t)}function vi(){}var po=!1;function xi(e,t,n){if(po)return e(t,n);po=!0;try{return yi(e,t,n)}finally{po=!1,(Cn!==null||Tn!==null)&&(vi(),gi())}}function nr(e,t){var n=e.stateNode;if(n===null)return null;var r=pl(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var mo=!1;if(x)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){mo=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{mo=!1}function Qc(e,t,n,r,l,o,u,m,h){var N=Array.prototype.slice.call(arguments,3);try{t.apply(n,N)}catch(k){this.onError(k)}}var lr=!1,Vr=null,Kr=!1,ho=null,qc={onError:function(e){lr=!0,Vr=e}};function Xc(e,t,n,r,l,o,u,m,h){lr=!1,Vr=null,Qc.apply(qc,arguments)}function Jc(e,t,n,r,l,o,u,m,h){if(Xc.apply(this,arguments),lr){if(lr){var N=Vr;lr=!1,Vr=null}else throw Error(a(198));Kr||(Kr=!0,ho=N)}}function cn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ei(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Si(e){if(cn(e)!==e)throw Error(a(188))}function Zc(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Si(l),e;if(o===r)return Si(l),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=l,r=o;else{for(var u=!1,m=l.child;m;){if(m===n){u=!0,n=l,r=o;break}if(m===r){u=!0,r=l,n=o;break}m=m.sibling}if(!u){for(m=o.child;m;){if(m===n){u=!0,n=o,r=l;break}if(m===r){u=!0,r=o,n=l;break}m=m.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function Ni(e){return e=Zc(e),e!==null?_i(e):null}function _i(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_i(e);if(t!==null)return t;e=e.sibling}return null}var wi=c.unstable_scheduleCallback,Ci=c.unstable_cancelCallback,ed=c.unstable_shouldYield,td=c.unstable_requestPaint,Te=c.unstable_now,nd=c.unstable_getCurrentPriorityLevel,go=c.unstable_ImmediatePriority,Ti=c.unstable_UserBlockingPriority,Yr=c.unstable_NormalPriority,rd=c.unstable_LowPriority,Ii=c.unstable_IdlePriority,Wr=null,It=null;function ld(e){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(Wr,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:id,od=Math.log,sd=Math.LN2;function id(e){return e>>>=0,e===0?32:31-(od(e)/sd|0)|0}var Qr=64,qr=4194304;function or(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,l=e.suspendedLanes,o=e.pingedLanes,u=n&268435455;if(u!==0){var m=u&~l;m!==0?r=or(m):(o&=u,o!==0&&(r=or(o)))}else u=n&~l,u!==0?r=or(u):o!==0&&(r=or(o));if(r===0)return 0;if(t!==0&&t!==r&&(t&l)===0&&(l=r&-r,o=t&-t,l>=o||l===16&&(o&4194240)!==0))return t;if((r&4)!==0&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xt(t),l=1<<n,r|=e[n],t&=~l;return r}function ad(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ud(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,l=e.expirationTimes,o=e.pendingLanes;0<o;){var u=31-xt(o),m=1<<u,h=l[u];h===-1?((m&n)===0||(m&r)!==0)&&(l[u]=ad(m,t)):h<=t&&(e.expiredLanes|=m),o&=~m}}function yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ki(){var e=Qr;return Qr<<=1,(Qr&4194240)===0&&(Qr=64),e}function vo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function sr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=n}function cd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-xt(n),o=1<<l;t[l]=0,r[l]=-1,e[l]=-1,n&=~o}}function xo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),l=1<<r;l&t|e[r]&t&&(e[r]|=t),n&=~l}}var he=0;function Ri(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ai,Eo,Oi,ji,Li,So=!1,Jr=[],Bt=null,Ht=null,$t=null,ir=new Map,ar=new Map,Vt=[],dd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mi(e,t){switch(e){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":ir.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(t.pointerId)}}function ur(e,t,n,r,l,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},t!==null&&(t=_r(t),t!==null&&Eo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function fd(e,t,n,r,l){switch(t){case"focusin":return Bt=ur(Bt,e,t,n,r,l),!0;case"dragenter":return Ht=ur(Ht,e,t,n,r,l),!0;case"mouseover":return $t=ur($t,e,t,n,r,l),!0;case"pointerover":var o=l.pointerId;return ir.set(o,ur(ir.get(o)||null,e,t,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,ar.set(o,ur(ar.get(o)||null,e,t,n,r,l)),!0}return!1}function Ui(e){var t=dn(e.target);if(t!==null){var n=cn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ei(n),t!==null){e.blockedOn=t,Li(e.priority,function(){Oi(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_o(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);uo=r,n.target.dispatchEvent(r),uo=null}else return t=_r(n),t!==null&&Eo(t),e.blockedOn=n,!1;t.shift()}return!0}function Pi(e,t,n){Zr(e)&&n.delete(t)}function pd(){So=!1,Bt!==null&&Zr(Bt)&&(Bt=null),Ht!==null&&Zr(Ht)&&(Ht=null),$t!==null&&Zr($t)&&($t=null),ir.forEach(Pi),ar.forEach(Pi)}function cr(e,t){e.blockedOn===t&&(e.blockedOn=null,So||(So=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,pd)))}function dr(e){function t(l){return cr(l,e)}if(0<Jr.length){cr(Jr[0],e);for(var n=1;n<Jr.length;n++){var r=Jr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bt!==null&&cr(Bt,e),Ht!==null&&cr(Ht,e),$t!==null&&cr($t,e),ir.forEach(t),ar.forEach(t),n=0;n<Vt.length;n++)r=Vt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vt.length&&(n=Vt[0],n.blockedOn===null);)Ui(n),n.blockedOn===null&&Vt.shift()}var In=F.ReactCurrentBatchConfig,el=!0;function md(e,t,n,r){var l=he,o=In.transition;In.transition=null;try{he=1,No(e,t,n,r)}finally{he=l,In.transition=o}}function hd(e,t,n,r){var l=he,o=In.transition;In.transition=null;try{he=4,No(e,t,n,r)}finally{he=l,In.transition=o}}function No(e,t,n,r){if(el){var l=_o(e,t,n,r);if(l===null)Fo(e,t,r,tl,n),Mi(e,r);else if(fd(l,e,t,n,r))r.stopPropagation();else if(Mi(e,r),t&4&&-1<dd.indexOf(e)){for(;l!==null;){var o=_r(l);if(o!==null&&Ai(o),o=_o(e,t,n,r),o===null&&Fo(e,t,r,tl,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else Fo(e,t,r,null,n)}}var tl=null;function _o(e,t,n,r){if(tl=null,e=co(r),e=dn(e),e!==null)if(t=cn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ei(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tl=e,null}function bi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nd()){case go:return 1;case Ti:return 4;case Yr:case rd:return 16;case Ii:return 536870912;default:return 16}default:return 16}}var Kt=null,wo=null,nl=null;function Di(){if(nl)return nl;var e,t=wo,n=t.length,r,l="value"in Kt?Kt.value:Kt.textContent,o=l.length;for(e=0;e<n&&t[e]===l[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===l[o-r];r++);return nl=l.slice(e,1<r?1-r:void 0)}function rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ll(){return!0}function zi(){return!1}function it(e){function t(n,r,l,o,u){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(o):o[m]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ll:zi,this.isPropagationStopped=zi,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ll)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ll)},persist:function(){},isPersistent:ll}),t}var kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=it(kn),fr=P({},kn,{view:0,detail:0}),gd=it(fr),To,Io,pr,ol=P({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pr&&(pr&&e.type==="mousemove"?(To=e.screenX-pr.screenX,Io=e.screenY-pr.screenY):Io=To=0,pr=e),To)},movementY:function(e){return"movementY"in e?e.movementY:Io}}),Fi=it(ol),yd=P({},ol,{dataTransfer:0}),vd=it(yd),xd=P({},fr,{relatedTarget:0}),ko=it(xd),Ed=P({},kn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sd=it(Ed),Nd=P({},kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_d=it(Nd),wd=P({},kn,{data:0}),Gi=it(wd),Cd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Td={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Id={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Id[e])?!!t[e]:!1}function Ro(){return kd}var Rd=P({},fr,{key:function(e){if(e.key){var t=Cd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Td[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ad=it(Rd),Od=P({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=it(Od),jd=P({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),Ld=it(jd),Md=P({},kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ud=it(Md),Pd=P({},ol,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bd=it(Pd),Dd=[9,13,27,32],Ao=x&&"CompositionEvent"in window,mr=null;x&&"documentMode"in document&&(mr=document.documentMode);var zd=x&&"TextEvent"in window&&!mr,Hi=x&&(!Ao||mr&&8<mr&&11>=mr),$i=" ",Vi=!1;function Ki(e,t){switch(e){case"keyup":return Dd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rn=!1;function Fd(e,t){switch(e){case"compositionend":return Yi(t);case"keypress":return t.which!==32?null:(Vi=!0,$i);case"textInput":return e=t.data,e===$i&&Vi?null:e;default:return null}}function Gd(e,t){if(Rn)return e==="compositionend"||!Ao&&Ki(e,t)?(e=Di(),nl=wo=Kt=null,Rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hi&&t.locale!=="ko"?null:t.data;default:return null}}var Bd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bd[e.type]:t==="textarea"}function Qi(e,t,n,r){hi(r),t=cl(t,"onChange"),0<t.length&&(n=new Co("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hr=null,gr=null;function Hd(e){pa(e,0)}function sl(e){var t=Mn(e);if(Ge(t))return e}function $d(e,t){if(e==="change")return t}var qi=!1;if(x){var Oo;if(x){var jo="oninput"in document;if(!jo){var Xi=document.createElement("div");Xi.setAttribute("oninput","return;"),jo=typeof Xi.oninput=="function"}Oo=jo}else Oo=!1;qi=Oo&&(!document.documentMode||9<document.documentMode)}function Ji(){hr&&(hr.detachEvent("onpropertychange",Zi),gr=hr=null)}function Zi(e){if(e.propertyName==="value"&&sl(gr)){var t=[];Qi(t,gr,e,co(e)),xi(Hd,t)}}function Vd(e,t,n){e==="focusin"?(Ji(),hr=t,gr=n,hr.attachEvent("onpropertychange",Zi)):e==="focusout"&&Ji()}function Kd(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(gr)}function Yd(e,t){if(e==="click")return sl(t)}function Wd(e,t){if(e==="input"||e==="change")return sl(t)}function Qd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Qd;function yr(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!_.call(t,l)||!Et(e[l],t[l]))return!1}return!0}function ea(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ta(e,t){var n=ea(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ea(n)}}function na(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?na(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ra(){for(var e=window,t=ke();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ke(e.document)}return t}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qd(e){var t=ra(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&na(n.ownerDocument.documentElement,n)){if(r!==null&&Lo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!e.extend&&o>r&&(l=r,r=o,o=l),l=ta(n,o);var u=ta(n,r);l&&u&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xd=x&&"documentMode"in document&&11>=document.documentMode,An=null,Mo=null,vr=null,Uo=!1;function la(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uo||An==null||An!==ke(r)||(r=An,"selectionStart"in r&&Lo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vr&&yr(vr,r)||(vr=r,r=cl(Mo,"onSelect"),0<r.length&&(t=new Co("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=An)))}function il(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var On={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},Po={},oa={};x&&(oa=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function al(e){if(Po[e])return Po[e];if(!On[e])return e;var t=On[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in oa)return Po[e]=t[n];return e}var sa=al("animationend"),ia=al("animationiteration"),aa=al("animationstart"),ua=al("transitionend"),ca=new Map,da="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){ca.set(e,t),p(t,[e])}for(var bo=0;bo<da.length;bo++){var Do=da[bo],Jd=Do.toLowerCase(),Zd=Do[0].toUpperCase()+Do.slice(1);Yt(Jd,"on"+Zd)}Yt(sa,"onAnimationEnd"),Yt(ia,"onAnimationIteration"),Yt(aa,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(ua,"onTransitionEnd"),g("onMouseEnter",["mouseout","mouseover"]),g("onMouseLeave",["mouseout","mouseover"]),g("onPointerEnter",["pointerout","pointerover"]),g("onPointerLeave",["pointerout","pointerover"]),p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),p("onBeforeInput",["compositionend","keypress","textInput","paste"]),p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ef=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function fa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Jc(r,t,void 0,e),e.currentTarget=null}function pa(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],l=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var u=r.length-1;0<=u;u--){var m=r[u],h=m.instance,N=m.currentTarget;if(m=m.listener,h!==o&&l.isPropagationStopped())break e;fa(l,m,N),o=h}else for(u=0;u<r.length;u++){if(m=r[u],h=m.instance,N=m.currentTarget,m=m.listener,h!==o&&l.isPropagationStopped())break e;fa(l,m,N),o=h}}}if(Kr)throw e=ho,Kr=!1,ho=null,e}function xe(e,t){var n=t[Ko];n===void 0&&(n=t[Ko]=new Set);var r=e+"__bubble";n.has(r)||(ma(t,e,2,!1),n.add(r))}function zo(e,t,n){var r=0;t&&(r|=4),ma(n,e,r,t)}var ul="_reactListening"+Math.random().toString(36).slice(2);function Er(e){if(!e[ul]){e[ul]=!0,d.forEach(function(n){n!=="selectionchange"&&(ef.has(n)||zo(n,!1,e),zo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ul]||(t[ul]=!0,zo("selectionchange",!1,t))}}function ma(e,t,n,r){switch(bi(t)){case 1:var l=md;break;case 4:l=hd;break;default:l=No}n=l.bind(null,t,n,e),l=void 0,!mo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),r?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Fo(e,t,n,r,l){var o=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var m=r.stateNode.containerInfo;if(m===l||m.nodeType===8&&m.parentNode===l)break;if(u===4)for(u=r.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===l||h.nodeType===8&&h.parentNode===l))return;u=u.return}for(;m!==null;){if(u=dn(m),u===null)return;if(h=u.tag,h===5||h===6){r=o=u;continue e}m=m.parentNode}}r=r.return}xi(function(){var N=o,k=co(n),O=[];e:{var I=ca.get(e);if(I!==void 0){var b=Co,B=e;switch(e){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":b=Ad;break;case"focusin":B="focus",b=ko;break;case"focusout":B="blur",b=ko;break;case"beforeblur":case"afterblur":b=ko;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Ld;break;case sa:case ia:case aa:b=Sd;break;case ua:b=Ud;break;case"scroll":b=gd;break;case"wheel":b=bd;break;case"copy":case"cut":case"paste":b=_d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Bi}var V=(t&4)!==0,Ie=!V&&e==="scroll",E=V?I!==null?I+"Capture":null:I;V=[];for(var y=N,S;y!==null;){S=y;var L=S.stateNode;if(S.tag===5&&L!==null&&(S=L,E!==null&&(L=nr(y,E),L!=null&&V.push(Sr(y,L,S)))),Ie)break;y=y.return}0<V.length&&(I=new b(I,B,null,n,k),O.push({event:I,listeners:V}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",I&&n!==uo&&(B=n.relatedTarget||n.fromElement)&&(dn(B)||B[Lt]))break e;if((b||I)&&(I=k.window===k?k:(I=k.ownerDocument)?I.defaultView||I.parentWindow:window,b?(B=n.relatedTarget||n.toElement,b=N,B=B?dn(B):null,B!==null&&(Ie=cn(B),B!==Ie||B.tag!==5&&B.tag!==6)&&(B=null)):(b=null,B=N),b!==B)){if(V=Fi,L="onMouseLeave",E="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(V=Bi,L="onPointerLeave",E="onPointerEnter",y="pointer"),Ie=b==null?I:Mn(b),S=B==null?I:Mn(B),I=new V(L,y+"leave",b,n,k),I.target=Ie,I.relatedTarget=S,L=null,dn(k)===N&&(V=new V(E,y+"enter",B,n,k),V.target=S,V.relatedTarget=Ie,L=V),Ie=L,b&&B)t:{for(V=b,E=B,y=0,S=V;S;S=jn(S))y++;for(S=0,L=E;L;L=jn(L))S++;for(;0<y-S;)V=jn(V),y--;for(;0<S-y;)E=jn(E),S--;for(;y--;){if(V===E||E!==null&&V===E.alternate)break t;V=jn(V),E=jn(E)}V=null}else V=null;b!==null&&ha(O,I,b,V,!1),B!==null&&Ie!==null&&ha(O,Ie,B,V,!0)}}e:{if(I=N?Mn(N):window,b=I.nodeName&&I.nodeName.toLowerCase(),b==="select"||b==="input"&&I.type==="file")var K=$d;else if(Wi(I))if(qi)K=Wd;else{K=Kd;var Q=Vd}else(b=I.nodeName)&&b.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(K=Yd);if(K&&(K=K(e,N))){Qi(O,K,n,k);break e}Q&&Q(e,I,N),e==="focusout"&&(Q=I._wrapperState)&&Q.controlled&&I.type==="number"&&lo(I,"number",I.value)}switch(Q=N?Mn(N):window,e){case"focusin":(Wi(Q)||Q.contentEditable==="true")&&(An=Q,Mo=N,vr=null);break;case"focusout":vr=Mo=An=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,la(O,n,k);break;case"selectionchange":if(Xd)break;case"keydown":case"keyup":la(O,n,k)}var q;if(Ao)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Rn?Ki(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(Hi&&n.locale!=="ko"&&(Rn||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Rn&&(q=Di()):(Kt=k,wo="value"in Kt?Kt.value:Kt.textContent,Rn=!0)),Q=cl(N,ee),0<Q.length&&(ee=new Gi(ee,e,null,n,k),O.push({event:ee,listeners:Q}),q?ee.data=q:(q=Yi(n),q!==null&&(ee.data=q)))),(q=zd?Fd(e,n):Gd(e,n))&&(N=cl(N,"onBeforeInput"),0<N.length&&(k=new Gi("onBeforeInput","beforeinput",null,n,k),O.push({event:k,listeners:N}),k.data=q))}pa(O,t)})}function Sr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cl(e,t){for(var n=t+"Capture",r=[];e!==null;){var l=e,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=nr(e,n),o!=null&&r.unshift(Sr(e,o,l)),o=nr(e,t),o!=null&&r.push(Sr(e,o,l))),e=e.return}return r}function jn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ha(e,t,n,r,l){for(var o=t._reactName,u=[];n!==null&&n!==r;){var m=n,h=m.alternate,N=m.stateNode;if(h!==null&&h===r)break;m.tag===5&&N!==null&&(m=N,l?(h=nr(n,o),h!=null&&u.unshift(Sr(n,h,m))):l||(h=nr(n,o),h!=null&&u.push(Sr(n,h,m)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var tf=/\r\n?/g,nf=/\u0000|\uFFFD/g;function ga(e){return(typeof e=="string"?e:""+e).replace(tf,`
`).replace(nf,"")}function dl(e,t,n){if(t=ga(t),ga(e)!==t&&n)throw Error(a(425))}function fl(){}var Go=null,Bo=null;function Ho(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $o=typeof setTimeout=="function"?setTimeout:void 0,rf=typeof clearTimeout=="function"?clearTimeout:void 0,ya=typeof Promise=="function"?Promise:void 0,lf=typeof queueMicrotask=="function"?queueMicrotask:typeof ya<"u"?function(e){return ya.resolve(null).then(e).catch(of)}:$o;function of(e){setTimeout(function(){throw e})}function Vo(e,t){var n=t,r=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){e.removeChild(l),dr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);dr(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function va(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ln=Math.random().toString(36).slice(2),kt="__reactFiber$"+Ln,Nr="__reactProps$"+Ln,Lt="__reactContainer$"+Ln,Ko="__reactEvents$"+Ln,sf="__reactListeners$"+Ln,af="__reactHandles$"+Ln;function dn(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lt]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=va(e);e!==null;){if(n=e[kt])return n;e=va(e)}return t}e=n,n=e.parentNode}return null}function _r(e){return e=e[kt]||e[Lt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function pl(e){return e[Nr]||null}var Yo=[],Un=-1;function Qt(e){return{current:e}}function Ee(e){0>Un||(e.current=Yo[Un],Yo[Un]=null,Un--)}function ye(e,t){Un++,Yo[Un]=e.current,e.current=t}var qt={},$e=Qt(qt),et=Qt(!1),fn=qt;function Pn(e,t){var n=e.type.contextTypes;if(!n)return qt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function tt(e){return e=e.childContextTypes,e!=null}function ml(){Ee(et),Ee($e)}function xa(e,t,n){if($e.current!==qt)throw Error(a(168));ye($e,t),ye(et,n)}function Ea(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in t))throw Error(a(108,X(e)||"Unknown",l));return P({},n,r)}function hl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,fn=$e.current,ye($e,e),ye(et,et.current),!0}function Sa(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ea(e,t,fn),r.__reactInternalMemoizedMergedChildContext=e,Ee(et),Ee($e),ye($e,e)):Ee(et),ye(et,n)}var Mt=null,gl=!1,Wo=!1;function Na(e){Mt===null?Mt=[e]:Mt.push(e)}function uf(e){gl=!0,Na(e)}function Xt(){if(!Wo&&Mt!==null){Wo=!0;var e=0,t=he;try{var n=Mt;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mt=null,gl=!1}catch(l){throw Mt!==null&&(Mt=Mt.slice(e+1)),wi(go,Xt),l}finally{he=t,Wo=!1}}return null}var bn=[],Dn=0,yl=null,vl=0,ft=[],pt=0,pn=null,Ut=1,Pt="";function mn(e,t){bn[Dn++]=vl,bn[Dn++]=yl,yl=e,vl=t}function _a(e,t,n){ft[pt++]=Ut,ft[pt++]=Pt,ft[pt++]=pn,pn=e;var r=Ut;e=Pt;var l=32-xt(r)-1;r&=~(1<<l),n+=1;var o=32-xt(t)+l;if(30<o){var u=l-l%5;o=(r&(1<<u)-1).toString(32),r>>=u,l-=u,Ut=1<<32-xt(t)+l|n<<l|r,Pt=o+e}else Ut=1<<o|n<<l|r,Pt=e}function Qo(e){e.return!==null&&(mn(e,1),_a(e,1,0))}function qo(e){for(;e===yl;)yl=bn[--Dn],bn[Dn]=null,vl=bn[--Dn],bn[Dn]=null;for(;e===pn;)pn=ft[--pt],ft[pt]=null,Pt=ft[--pt],ft[pt]=null,Ut=ft[--pt],ft[pt]=null}var at=null,ut=null,Ne=!1,St=null;function wa(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ca(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,ut=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pn!==null?{id:Ut,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,ut=null,!0):!1;default:return!1}}function Xo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jo(e){if(Ne){var t=ut;if(t){var n=t;if(!Ca(e,t)){if(Xo(e))throw Error(a(418));t=Wt(n.nextSibling);var r=at;t&&Ca(e,t)?wa(r,n):(e.flags=e.flags&-4097|2,Ne=!1,at=e)}}else{if(Xo(e))throw Error(a(418));e.flags=e.flags&-4097|2,Ne=!1,at=e}}}function Ta(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function xl(e){if(e!==at)return!1;if(!Ne)return Ta(e),Ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ho(e.type,e.memoizedProps)),t&&(t=ut)){if(Xo(e))throw Ia(),Error(a(418));for(;t;)wa(e,t),t=Wt(t.nextSibling)}if(Ta(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ut=Wt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ut=null}}else ut=at?Wt(e.stateNode.nextSibling):null;return!0}function Ia(){for(var e=ut;e;)e=Wt(e.nextSibling)}function zn(){ut=at=null,Ne=!1}function Zo(e){St===null?St=[e]:St.push(e)}var cf=F.ReactCurrentBatchConfig;function wr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var l=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(u){var m=l.refs;u===null?delete m[o]:m[o]=u},t._stringRef=o,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function El(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ka(e){var t=e._init;return t(e._payload)}function Ra(e){function t(E,y){if(e){var S=E.deletions;S===null?(E.deletions=[y],E.flags|=16):S.push(y)}}function n(E,y){if(!e)return null;for(;y!==null;)t(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function l(E,y){return E=on(E,y),E.index=0,E.sibling=null,E}function o(E,y,S){return E.index=S,e?(S=E.alternate,S!==null?(S=S.index,S<y?(E.flags|=2,y):S):(E.flags|=2,y)):(E.flags|=1048576,y)}function u(E){return e&&E.alternate===null&&(E.flags|=2),E}function m(E,y,S,L){return y===null||y.tag!==6?(y=$s(S,E.mode,L),y.return=E,y):(y=l(y,S),y.return=E,y)}function h(E,y,S,L){var K=S.type;return K===ie?k(E,y,S.props.children,L,S.key):y!==null&&(y.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ge&&ka(K)===y.type)?(L=l(y,S.props),L.ref=wr(E,y,S),L.return=E,L):(L=$l(S.type,S.key,S.props,null,E.mode,L),L.ref=wr(E,y,S),L.return=E,L)}function N(E,y,S,L){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Vs(S,E.mode,L),y.return=E,y):(y=l(y,S.children||[]),y.return=E,y)}function k(E,y,S,L,K){return y===null||y.tag!==7?(y=Nn(S,E.mode,L,K),y.return=E,y):(y=l(y,S),y.return=E,y)}function O(E,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$s(""+y,E.mode,S),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case te:return S=$l(y.type,y.key,y.props,null,E.mode,S),S.ref=wr(E,null,y),S.return=E,S;case ue:return y=Vs(y,E.mode,S),y.return=E,y;case ge:var L=y._init;return O(E,L(y._payload),S)}if(Zn(y)||G(y))return y=Nn(y,E.mode,S,null),y.return=E,y;El(E,y)}return null}function I(E,y,S,L){var K=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return K!==null?null:m(E,y,""+S,L);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case te:return S.key===K?h(E,y,S,L):null;case ue:return S.key===K?N(E,y,S,L):null;case ge:return K=S._init,I(E,y,K(S._payload),L)}if(Zn(S)||G(S))return K!==null?null:k(E,y,S,L,null);El(E,S)}return null}function b(E,y,S,L,K){if(typeof L=="string"&&L!==""||typeof L=="number")return E=E.get(S)||null,m(y,E,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case te:return E=E.get(L.key===null?S:L.key)||null,h(y,E,L,K);case ue:return E=E.get(L.key===null?S:L.key)||null,N(y,E,L,K);case ge:var Q=L._init;return b(E,y,S,Q(L._payload),K)}if(Zn(L)||G(L))return E=E.get(S)||null,k(y,E,L,K,null);El(y,L)}return null}function B(E,y,S,L){for(var K=null,Q=null,q=y,ee=y=0,Fe=null;q!==null&&ee<S.length;ee++){q.index>ee?(Fe=q,q=null):Fe=q.sibling;var pe=I(E,q,S[ee],L);if(pe===null){q===null&&(q=Fe);break}e&&q&&pe.alternate===null&&t(E,q),y=o(pe,y,ee),Q===null?K=pe:Q.sibling=pe,Q=pe,q=Fe}if(ee===S.length)return n(E,q),Ne&&mn(E,ee),K;if(q===null){for(;ee<S.length;ee++)q=O(E,S[ee],L),q!==null&&(y=o(q,y,ee),Q===null?K=q:Q.sibling=q,Q=q);return Ne&&mn(E,ee),K}for(q=r(E,q);ee<S.length;ee++)Fe=b(q,E,ee,S[ee],L),Fe!==null&&(e&&Fe.alternate!==null&&q.delete(Fe.key===null?ee:Fe.key),y=o(Fe,y,ee),Q===null?K=Fe:Q.sibling=Fe,Q=Fe);return e&&q.forEach(function(sn){return t(E,sn)}),Ne&&mn(E,ee),K}function V(E,y,S,L){var K=G(S);if(typeof K!="function")throw Error(a(150));if(S=K.call(S),S==null)throw Error(a(151));for(var Q=K=null,q=y,ee=y=0,Fe=null,pe=S.next();q!==null&&!pe.done;ee++,pe=S.next()){q.index>ee?(Fe=q,q=null):Fe=q.sibling;var sn=I(E,q,pe.value,L);if(sn===null){q===null&&(q=Fe);break}e&&q&&sn.alternate===null&&t(E,q),y=o(sn,y,ee),Q===null?K=sn:Q.sibling=sn,Q=sn,q=Fe}if(pe.done)return n(E,q),Ne&&mn(E,ee),K;if(q===null){for(;!pe.done;ee++,pe=S.next())pe=O(E,pe.value,L),pe!==null&&(y=o(pe,y,ee),Q===null?K=pe:Q.sibling=pe,Q=pe);return Ne&&mn(E,ee),K}for(q=r(E,q);!pe.done;ee++,pe=S.next())pe=b(q,E,ee,pe.value,L),pe!==null&&(e&&pe.alternate!==null&&q.delete(pe.key===null?ee:pe.key),y=o(pe,y,ee),Q===null?K=pe:Q.sibling=pe,Q=pe);return e&&q.forEach(function(Hf){return t(E,Hf)}),Ne&&mn(E,ee),K}function Ie(E,y,S,L){if(typeof S=="object"&&S!==null&&S.type===ie&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case te:e:{for(var K=S.key,Q=y;Q!==null;){if(Q.key===K){if(K=S.type,K===ie){if(Q.tag===7){n(E,Q.sibling),y=l(Q,S.props.children),y.return=E,E=y;break e}}else if(Q.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ge&&ka(K)===Q.type){n(E,Q.sibling),y=l(Q,S.props),y.ref=wr(E,Q,S),y.return=E,E=y;break e}n(E,Q);break}else t(E,Q);Q=Q.sibling}S.type===ie?(y=Nn(S.props.children,E.mode,L,S.key),y.return=E,E=y):(L=$l(S.type,S.key,S.props,null,E.mode,L),L.ref=wr(E,y,S),L.return=E,E=L)}return u(E);case ue:e:{for(Q=S.key;y!==null;){if(y.key===Q)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(E,y.sibling),y=l(y,S.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else t(E,y);y=y.sibling}y=Vs(S,E.mode,L),y.return=E,E=y}return u(E);case ge:return Q=S._init,Ie(E,y,Q(S._payload),L)}if(Zn(S))return B(E,y,S,L);if(G(S))return V(E,y,S,L);El(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(E,y.sibling),y=l(y,S),y.return=E,E=y):(n(E,y),y=$s(S,E.mode,L),y.return=E,E=y),u(E)):n(E,y)}return Ie}var Fn=Ra(!0),Aa=Ra(!1),Sl=Qt(null),Nl=null,Gn=null,es=null;function ts(){es=Gn=Nl=null}function ns(e){var t=Sl.current;Ee(Sl),e._currentValue=t}function rs(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){Nl=e,es=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(es!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(Nl===null)throw Error(a(308));Gn=e,Nl.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var hn=null;function ls(e){hn===null?hn=[e]:hn.push(e)}function Oa(e,t,n,r){var l=t.interleaved;return l===null?(n.next=n,ls(t)):(n.next=l.next,l.next=n),t.interleaved=n,bt(e,r)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(fe&2)!==0){var l=r.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),r.pending=t,bt(e,n)}return l=r.interleaved,l===null?(t.next=t,ls(r)):(t.next=l.next,l.next=t),r.interleaved=t,bt(e,n)}function _l(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xo(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?l=o=t:o=o.next=t}else l=o=t;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wl(e,t,n,r){var l=e.updateQueue;Jt=!1;var o=l.firstBaseUpdate,u=l.lastBaseUpdate,m=l.shared.pending;if(m!==null){l.shared.pending=null;var h=m,N=h.next;h.next=null,u===null?o=N:u.next=N,u=h;var k=e.alternate;k!==null&&(k=k.updateQueue,m=k.lastBaseUpdate,m!==u&&(m===null?k.firstBaseUpdate=N:m.next=N,k.lastBaseUpdate=h))}if(o!==null){var O=l.baseState;u=0,k=N=h=null,m=o;do{var I=m.lane,b=m.eventTime;if((r&I)===I){k!==null&&(k=k.next={eventTime:b,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var B=e,V=m;switch(I=t,b=n,V.tag){case 1:if(B=V.payload,typeof B=="function"){O=B.call(b,O,I);break e}O=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=V.payload,I=typeof B=="function"?B.call(b,O,I):B,I==null)break e;O=P({},O,I);break e;case 2:Jt=!0}}m.callback!==null&&m.lane!==0&&(e.flags|=64,I=l.effects,I===null?l.effects=[m]:I.push(m))}else b={eventTime:b,lane:I,tag:m.tag,payload:m.payload,callback:m.callback,next:null},k===null?(N=k=b,h=O):k=k.next=b,u|=I;if(m=m.next,m===null){if(m=l.shared.pending,m===null)break;I=m,m=I.next,I.next=null,l.lastBaseUpdate=I,l.shared.pending=null}}while(!0);if(k===null&&(h=O),l.baseState=h,l.firstBaseUpdate=N,l.lastBaseUpdate=k,t=l.shared.interleaved,t!==null){l=t;do u|=l.lane,l=l.next;while(l!==t)}else o===null&&(l.shared.lanes=0);vn|=u,e.lanes=u,e.memoizedState=O}}function Ma(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(a(191,l));l.call(r)}}}var Cr={},Rt=Qt(Cr),Tr=Qt(Cr),Ir=Qt(Cr);function gn(e){if(e===Cr)throw Error(a(174));return e}function ss(e,t){switch(ye(Ir,t),ye(Tr,e),ye(Rt,Cr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:so(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=so(t,e)}Ee(Rt),ye(Rt,t)}function Hn(){Ee(Rt),Ee(Tr),Ee(Ir)}function Ua(e){gn(Ir.current);var t=gn(Rt.current),n=so(t,e.type);t!==n&&(ye(Tr,e),ye(Rt,n))}function is(e){Tr.current===e&&(Ee(Rt),Ee(Tr))}var _e=Qt(0);function Cl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var as=[];function us(){for(var e=0;e<as.length;e++)as[e]._workInProgressVersionPrimary=null;as.length=0}var Tl=F.ReactCurrentDispatcher,cs=F.ReactCurrentBatchConfig,yn=0,we=null,Oe=null,De=null,Il=!1,kr=!1,Rr=0,df=0;function Ve(){throw Error(a(321))}function ds(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function fs(e,t,n,r,l,o){if(yn=o,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Tl.current=e===null||e.memoizedState===null?hf:gf,e=n(r,l),kr){o=0;do{if(kr=!1,Rr=0,25<=o)throw Error(a(301));o+=1,De=Oe=null,t.updateQueue=null,Tl.current=yf,e=n(r,l)}while(kr)}if(Tl.current=Al,t=Oe!==null&&Oe.next!==null,yn=0,De=Oe=we=null,Il=!1,t)throw Error(a(300));return e}function ps(){var e=Rr!==0;return Rr=0,e}function At(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?we.memoizedState=De=e:De=De.next=e,De}function ht(){if(Oe===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=De===null?we.memoizedState:De.next;if(t!==null)De=t,Oe=e;else{if(e===null)throw Error(a(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},De===null?we.memoizedState=De=e:De=De.next=e}return De}function Ar(e,t){return typeof t=="function"?t(e):t}function ms(e){var t=ht(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=Oe,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var u=l.next;l.next=o.next,o.next=u}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var m=u=null,h=null,N=o;do{var k=N.lane;if((yn&k)===k)h!==null&&(h=h.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),r=N.hasEagerState?N.eagerState:e(r,N.action);else{var O={lane:k,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};h===null?(m=h=O,u=r):h=h.next=O,we.lanes|=k,vn|=k}N=N.next}while(N!==null&&N!==o);h===null?u=r:h.next=m,Et(r,t.memoizedState)||(nt=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){l=e;do o=l.lane,we.lanes|=o,vn|=o,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hs(e){var t=ht(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,l=n.pending,o=t.memoizedState;if(l!==null){n.pending=null;var u=l=l.next;do o=e(o,u.action),u=u.next;while(u!==l);Et(o,t.memoizedState)||(nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Pa(){}function ba(e,t){var n=we,r=ht(),l=t(),o=!Et(r.memoizedState,l);if(o&&(r.memoizedState=l,nt=!0),r=r.queue,gs(Fa.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,Or(9,za.bind(null,n,r,l,t),void 0,null),ze===null)throw Error(a(349));(yn&30)!==0||Da(n,t,l)}return l}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function za(e,t,n,r){t.value=n,t.getSnapshot=r,Ga(t)&&Ba(e)}function Fa(e,t,n){return n(function(){Ga(t)&&Ba(e)})}function Ga(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function Ba(e){var t=bt(e,1);t!==null&&Ct(t,e,1,-1)}function Ha(e){var t=At();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:e},t.queue=e,e=e.dispatch=mf.bind(null,we,e),[t.memoizedState,e]}function Or(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function $a(){return ht().memoizedState}function kl(e,t,n,r){var l=At();we.flags|=e,l.memoizedState=Or(1|t,n,void 0,r===void 0?null:r)}function Rl(e,t,n,r){var l=ht();r=r===void 0?null:r;var o=void 0;if(Oe!==null){var u=Oe.memoizedState;if(o=u.destroy,r!==null&&ds(r,u.deps)){l.memoizedState=Or(t,n,o,r);return}}we.flags|=e,l.memoizedState=Or(1|t,n,o,r)}function Va(e,t){return kl(8390656,8,e,t)}function gs(e,t){return Rl(2048,8,e,t)}function Ka(e,t){return Rl(4,2,e,t)}function Ya(e,t){return Rl(4,4,e,t)}function Wa(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qa(e,t,n){return n=n!=null?n.concat([e]):null,Rl(4,4,Wa.bind(null,t,e),n)}function ys(){}function qa(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ds(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ds(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return(yn&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n):(Et(n,t)||(n=ki(),we.lanes|=n,vn|=n,e.baseState=!0),t)}function ff(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=cs.transition;cs.transition={};try{e(!1),t()}finally{he=n,cs.transition=r}}function Za(){return ht().memoizedState}function pf(e,t,n){var r=rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eu(e))tu(t,n);else if(n=Oa(e,t,n,r),n!==null){var l=Je();Ct(n,e,r,l),nu(n,t,r)}}function mf(e,t,n){var r=rn(e),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eu(e))tu(t,l);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var u=t.lastRenderedState,m=o(u,n);if(l.hasEagerState=!0,l.eagerState=m,Et(m,u)){var h=t.interleaved;h===null?(l.next=l,ls(t)):(l.next=h.next,h.next=l),t.interleaved=l;return}}catch{}finally{}n=Oa(e,t,l,r),n!==null&&(l=Je(),Ct(n,e,r,l),nu(n,t,r))}}function eu(e){var t=e.alternate;return e===we||t!==null&&t===we}function tu(e,t){kr=Il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nu(e,t,n){if((n&4194240)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,xo(e,n)}}var Al={readContext:mt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},hf={readContext:mt,useCallback:function(e,t){return At().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Va,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kl(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kl(4194308,4,e,t)},useInsertionEffect:function(e,t){return kl(4,2,e,t)},useMemo:function(e,t){var n=At();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=At();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=pf.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=At();return e={current:e},t.memoizedState=e},useState:Ha,useDebugValue:ys,useDeferredValue:function(e){return At().memoizedState=e},useTransition:function(){var e=Ha(!1),t=e[0];return e=ff.bind(null,e[1]),At().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,l=At();if(Ne){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),ze===null)throw Error(a(349));(yn&30)!==0||Da(r,t,n)}l.memoizedState=n;var o={value:n,getSnapshot:t};return l.queue=o,Va(Fa.bind(null,r,o,e),[e]),r.flags|=2048,Or(9,za.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=At(),t=ze.identifierPrefix;if(Ne){var n=Pt,r=Ut;n=(r&~(1<<32-xt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=df++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gf={readContext:mt,useCallback:qa,useContext:mt,useEffect:gs,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Ya,useMemo:Xa,useReducer:ms,useRef:$a,useState:function(){return ms(Ar)},useDebugValue:ys,useDeferredValue:function(e){var t=ht();return Ja(t,Oe.memoizedState,e)},useTransition:function(){var e=ms(Ar)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Pa,useSyncExternalStore:ba,useId:Za,unstable_isNewReconciler:!1},yf={readContext:mt,useCallback:qa,useContext:mt,useEffect:gs,useImperativeHandle:Qa,useInsertionEffect:Ka,useLayoutEffect:Ya,useMemo:Xa,useReducer:hs,useRef:$a,useState:function(){return hs(Ar)},useDebugValue:ys,useDeferredValue:function(e){var t=ht();return Oe===null?t.memoizedState=e:Ja(t,Oe.memoizedState,e)},useTransition:function(){var e=hs(Ar)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Pa,useSyncExternalStore:ba,useId:Za,unstable_isNewReconciler:!1};function Nt(e,t){if(e&&e.defaultProps){t=P({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function vs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:P({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ol={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),l=rn(e),o=Dt(r,l);o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(Ct(t,e,l,r),_l(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),l=rn(e),o=Dt(r,l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Zt(e,o,l),t!==null&&(Ct(t,e,l,r),_l(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=rn(e),l=Dt(n,r);l.tag=2,t!=null&&(l.callback=t),t=Zt(e,l,r),t!==null&&(Ct(t,e,r,n),_l(t,e,r))}};function ru(e,t,n,r,l,o,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,u):t.prototype&&t.prototype.isPureReactComponent?!yr(n,r)||!yr(l,o):!0}function lu(e,t,n){var r=!1,l=qt,o=t.contextType;return typeof o=="object"&&o!==null?o=mt(o):(l=tt(t)?fn:$e.current,r=t.contextTypes,o=(r=r!=null)?Pn(e,l):qt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ol,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=o),t}function ou(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ol.enqueueReplaceState(t,t.state,null)}function xs(e,t,n,r){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},os(e);var o=t.contextType;typeof o=="object"&&o!==null?l.context=mt(o):(o=tt(t)?fn:$e.current,l.context=Pn(e,o)),l.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(vs(e,t,o,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Ol.enqueueReplaceState(l,l.state,null),wl(e,n,l,r),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function $n(e,t){try{var n="",r=t;do n+=J(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:l,digest:null}}function Es(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ss(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vf=typeof WeakMap=="function"?WeakMap:Map;function su(e,t,n){n=Dt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Dl||(Dl=!0,Ps=r),Ss(e,t)},n}function iu(e,t,n){n=Dt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var l=t.value;n.payload=function(){return r(l)},n.callback=function(){Ss(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ss(e,t),typeof r!="function"&&(tn===null?tn=new Set([this]):tn.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function au(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new vf;var l=new Set;r.set(t,l)}else l=r.get(t),l===void 0&&(l=new Set,r.set(t,l));l.has(n)||(l.add(n),e=jf.bind(null,e,t,n),t.then(e,e))}function uu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cu(e,t,n,r,l){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Dt(-1,1),t.tag=2,Zt(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=l,e)}var xf=F.ReactCurrentOwner,nt=!1;function Xe(e,t,n,r){t.child=e===null?Aa(t,null,n,r):Fn(t,e.child,n,r)}function du(e,t,n,r,l){n=n.render;var o=t.ref;return Bn(t,l),r=fs(e,t,n,r,o,l),n=ps(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(Ne&&n&&Qo(t),t.flags|=1,Xe(e,t,r,l),t.child)}function fu(e,t,n,r,l){if(e===null){var o=n.type;return typeof o=="function"&&!Hs(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,pu(e,t,o,r,l)):(e=$l(n.type,null,r,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,(e.lanes&l)===0){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:yr,n(u,r)&&e.ref===t.ref)return zt(e,t,l)}return t.flags|=1,e=on(o,r),e.ref=t.ref,e.return=t,t.child=e}function pu(e,t,n,r,l){if(e!==null){var o=e.memoizedProps;if(yr(o,r)&&e.ref===t.ref)if(nt=!1,t.pendingProps=r=o,(e.lanes&l)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,zt(e,t,l)}return Ns(e,t,n,r,l)}function mu(e,t,n){var r=t.pendingProps,l=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Kn,ct),ct|=n;else{if((n&1073741824)===0)return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(Kn,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(Kn,ct),ct|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ye(Kn,ct),ct|=r;return Xe(e,t,l,n),t.child}function hu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,l){var o=tt(n)?fn:$e.current;return o=Pn(t,o),Bn(t,l),n=fs(e,t,n,r,o,l),r=ps(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,zt(e,t,l)):(Ne&&r&&Qo(t),t.flags|=1,Xe(e,t,n,l),t.child)}function gu(e,t,n,r,l){if(tt(n)){var o=!0;hl(t)}else o=!1;if(Bn(t,l),t.stateNode===null)Ll(e,t),lu(t,n,r),xs(t,n,r,l),r=!0;else if(e===null){var u=t.stateNode,m=t.memoizedProps;u.props=m;var h=u.context,N=n.contextType;typeof N=="object"&&N!==null?N=mt(N):(N=tt(n)?fn:$e.current,N=Pn(t,N));var k=n.getDerivedStateFromProps,O=typeof k=="function"||typeof u.getSnapshotBeforeUpdate=="function";O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==r||h!==N)&&ou(t,u,r,N),Jt=!1;var I=t.memoizedState;u.state=I,wl(t,r,u,l),h=t.memoizedState,m!==r||I!==h||et.current||Jt?(typeof k=="function"&&(vs(t,n,k,r),h=t.memoizedState),(m=Jt||ru(t,n,m,r,I,h,N))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),u.props=r,u.state=h,u.context=N,r=m):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,ja(e,t),m=t.memoizedProps,N=t.type===t.elementType?m:Nt(t.type,m),u.props=N,O=t.pendingProps,I=u.context,h=n.contextType,typeof h=="object"&&h!==null?h=mt(h):(h=tt(n)?fn:$e.current,h=Pn(t,h));var b=n.getDerivedStateFromProps;(k=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==O||I!==h)&&ou(t,u,r,h),Jt=!1,I=t.memoizedState,u.state=I,wl(t,r,u,l);var B=t.memoizedState;m!==O||I!==B||et.current||Jt?(typeof b=="function"&&(vs(t,n,b,r),B=t.memoizedState),(N=Jt||ru(t,n,N,r,I,B,h)||!1)?(k||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,B,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,B,h)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=B),u.props=r,u.state=B,u.context=h,r=N):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,o,l)}function _s(e,t,n,r,l,o){hu(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return l&&Sa(t,n,!1),zt(e,t,o);r=t.stateNode,xf.current=t;var m=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=Fn(t,e.child,null,o),t.child=Fn(t,null,m,o)):Xe(e,t,m,o),t.memoizedState=r.state,l&&Sa(t,n,!0),t.child}function yu(e){var t=e.stateNode;t.pendingContext?xa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xa(e,t.context,!1),ss(e,t.containerInfo)}function vu(e,t,n,r,l){return zn(),Zo(l),t.flags|=256,Xe(e,t,n,r),t.child}var ws={dehydrated:null,treeContext:null,retryLane:0};function Cs(e){return{baseLanes:e,cachePool:null,transitions:null}}function xu(e,t,n){var r=t.pendingProps,l=_e.current,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(l&2)!==0),m?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),ye(_e,l&1),e===null)return Jo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=r.children,e=r.fallback,o?(r=t.mode,o=t.child,u={mode:"hidden",children:u},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=u):o=Vl(u,r,0,null),e=Nn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Cs(n),t.memoizedState=ws,e):Ts(t,u));if(l=e.memoizedState,l!==null&&(m=l.dehydrated,m!==null))return Ef(e,t,u,r,m,l,n);if(o){o=r.fallback,u=t.mode,l=e.child,m=l.sibling;var h={mode:"hidden",children:r.children};return(u&1)===0&&t.child!==l?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=on(l,h),r.subtreeFlags=l.subtreeFlags&14680064),m!==null?o=on(m,o):(o=Nn(o,u,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,u=e.child.memoizedState,u=u===null?Cs(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=e.childLanes&~n,t.memoizedState=ws,r}return o=e.child,e=o.sibling,r=on(o,{mode:"visible",children:r.children}),(t.mode&1)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ts(e,t){return t=Vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jl(e,t,n,r){return r!==null&&Zo(r),Fn(t,e.child,null,n),e=Ts(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ef(e,t,n,r,l,o,u){if(n)return t.flags&256?(t.flags&=-257,r=Es(Error(a(422))),jl(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,l=t.mode,r=Vl({mode:"visible",children:r.children},l,0,null),o=Nn(o,l,u,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,(t.mode&1)!==0&&Fn(t,e.child,null,u),t.child.memoizedState=Cs(u),t.memoizedState=ws,o);if((t.mode&1)===0)return jl(e,t,u,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var m=r.dgst;return r=m,o=Error(a(419)),r=Es(o,r,void 0),jl(e,t,u,r)}if(m=(u&e.childLanes)!==0,nt||m){if(r=ze,r!==null){switch(u&-u){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=(l&(r.suspendedLanes|u))!==0?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,bt(e,l),Ct(r,e,l,-1))}return Bs(),r=Es(Error(a(421))),jl(e,t,u,r)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Lf.bind(null,e),l._reactRetry=t,null):(e=o.treeContext,ut=Wt(l.nextSibling),at=t,Ne=!0,St=null,e!==null&&(ft[pt++]=Ut,ft[pt++]=Pt,ft[pt++]=pn,Ut=e.id,Pt=e.overflow,pn=t),t=Ts(t,r.children),t.flags|=4096,t)}function Eu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rs(e.return,t,n)}function Is(e,t,n,r,l){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function Su(e,t,n){var r=t.pendingProps,l=r.revealOrder,o=r.tail;if(Xe(e,t,r.children,n),r=_e.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eu(e,n,t);else if(e.tag===19)Eu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(_e,r),(t.mode&1)===0)t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Cl(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Is(t,!1,l,n,o);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Cl(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Is(t,!0,n,null,o);break;case"together":Is(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ll(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Sf(e,t,n){switch(t.tag){case 3:yu(t),zn();break;case 5:Ua(t);break;case 1:tt(t.type)&&hl(t);break;case 4:ss(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,l=t.memoizedProps.value;ye(Sl,r._currentValue),r._currentValue=l;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(_e,_e.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?xu(e,t,n):(ye(_e,_e.current&1),e=zt(e,t,n),e!==null?e.sibling:null);ye(_e,_e.current&1);break;case 19:if(r=(n&t.childLanes)!==0,(e.flags&128)!==0){if(r)return Su(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),ye(_e,_e.current),r)break;return null;case 22:case 23:return t.lanes=0,mu(e,t,n)}return zt(e,t,n)}var Nu,ks,_u,wu;Nu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ks=function(){},_u=function(e,t,n,r){var l=e.memoizedProps;if(l!==r){e=t.stateNode,gn(Rt.current);var o=null;switch(n){case"input":l=dt(e,l),r=dt(e,r),o=[];break;case"select":l=P({},l,{value:void 0}),r=P({},r,{value:void 0}),o=[];break;case"textarea":l=oo(e,l),r=oo(e,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fl)}io(n,r);var u;n=null;for(N in l)if(!r.hasOwnProperty(N)&&l.hasOwnProperty(N)&&l[N]!=null)if(N==="style"){var m=l[N];for(u in m)m.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(f.hasOwnProperty(N)?o||(o=[]):(o=o||[]).push(N,null));for(N in r){var h=r[N];if(m=l!=null?l[N]:void 0,r.hasOwnProperty(N)&&h!==m&&(h!=null||m!=null))if(N==="style")if(m){for(u in m)!m.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in h)h.hasOwnProperty(u)&&m[u]!==h[u]&&(n||(n={}),n[u]=h[u])}else n||(o||(o=[]),o.push(N,n)),n=h;else N==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,m=m?m.__html:void 0,h!=null&&m!==h&&(o=o||[]).push(N,h)):N==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(N,""+h):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(f.hasOwnProperty(N)?(h!=null&&N==="onScroll"&&xe("scroll",e),o||m===h||(o=[])):(o=o||[]).push(N,h))}n&&(o=o||[]).push("style",n);var N=o;(t.updateQueue=N)&&(t.flags|=4)}},wu=function(e,t,n,r){n!==r&&(t.flags|=4)};function jr(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Nf(e,t,n){var r=t.pendingProps;switch(qo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return tt(t.type)&&ml(),Ke(t),null;case 3:return r=t.stateNode,Hn(),Ee(et),Ee($e),us(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,St!==null&&(zs(St),St=null))),ks(e,t),Ke(t),null;case 5:is(t);var l=gn(Ir.current);if(n=t.type,e!==null&&t.stateNode!=null)_u(e,t,n,r,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(a(166));return Ke(t),null}if(e=gn(Rt.current),xl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[kt]=t,r[Nr]=o,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(l=0;l<xr.length;l++)xe(xr[l],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":st(r,o),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},xe("invalid",r);break;case"textarea":ii(r,o),xe("invalid",r)}io(n,o),l=null;for(var u in o)if(o.hasOwnProperty(u)){var m=o[u];u==="children"?typeof m=="string"?r.textContent!==m&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,m,e),l=["children",m]):typeof m=="number"&&r.textContent!==""+m&&(o.suppressHydrationWarning!==!0&&dl(r.textContent,m,e),l=["children",""+m]):f.hasOwnProperty(u)&&m!=null&&u==="onScroll"&&xe("scroll",r)}switch(n){case"input":be(r),ro(r,o,!0);break;case"textarea":be(r),ui(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=fl)}r=l,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ci(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[kt]=t,e[Nr]=r,Nu(e,t,!1,!1),t.stateNode=e;e:{switch(u=ao(n,r),n){case"dialog":xe("cancel",e),xe("close",e),l=r;break;case"iframe":case"object":case"embed":xe("load",e),l=r;break;case"video":case"audio":for(l=0;l<xr.length;l++)xe(xr[l],e);l=r;break;case"source":xe("error",e),l=r;break;case"img":case"image":case"link":xe("error",e),xe("load",e),l=r;break;case"details":xe("toggle",e),l=r;break;case"input":st(e,r),l=dt(e,r),xe("invalid",e);break;case"option":l=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},l=P({},r,{value:void 0}),xe("invalid",e);break;case"textarea":ii(e,r),l=oo(e,r),xe("invalid",e);break;default:l=r}io(n,l),m=l;for(o in m)if(m.hasOwnProperty(o)){var h=m[o];o==="style"?pi(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&di(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&er(e,h):typeof h=="number"&&er(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(f.hasOwnProperty(o)?h!=null&&o==="onScroll"&&xe("scroll",e):h!=null&&de(e,o,h,u))}switch(n){case"input":be(e),ro(e,r,!1);break;case"textarea":be(e),ui(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Z(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?wn(e,!!r.multiple,o,!1):r.defaultValue!=null&&wn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=fl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)wu(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(a(166));if(n=gn(Ir.current),gn(Rt.current),xl(t)){if(r=t.stateNode,n=t.memoizedProps,r[kt]=t,(o=r.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:dl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&dl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kt]=t,t.stateNode=r}return Ke(t),null;case 13:if(Ee(_e),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ne&&ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Ia(),zn(),t.flags|=98560,o=!1;else if(o=xl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(a(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(a(317));o[kt]=t}else zn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),o=!1}else St!==null&&(zs(St),St=null),o=!0;if(!o)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(_e.current&1)!==0?je===0&&(je=3):Bs())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Hn(),ks(e,t),e===null&&Er(t.stateNode.containerInfo),Ke(t),null;case 10:return ns(t.type._context),Ke(t),null;case 17:return tt(t.type)&&ml(),Ke(t),null;case 19:if(Ee(_e),o=t.memoizedState,o===null)return Ke(t),null;if(r=(t.flags&128)!==0,u=o.rendering,u===null)if(r)jr(o,!1);else{if(je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Cl(e),u!==null){for(t.flags|=128,jr(o,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(_e,_e.current&1|2),t.child}e=e.sibling}o.tail!==null&&Te()>Yn&&(t.flags|=128,r=!0,jr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Cl(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ne)return Ke(t),null}else 2*Te()-o.renderingStartTime>Yn&&n!==1073741824&&(t.flags|=128,r=!0,jr(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(n=o.last,n!==null?n.sibling=u:t.child=u,o.last=u)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Te(),t.sibling=null,n=_e.current,ye(_e,r?n&1|2:n&1),t):(Ke(t),null);case 22:case 23:return Gs(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&(t.mode&1)!==0?(ct&1073741824)!==0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function _f(e,t){switch(qo(t),t.tag){case 1:return tt(t.type)&&ml(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),Ee(et),Ee($e),us(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return is(t),null;case 13:if(Ee(_e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ee(_e),null;case 4:return Hn(),null;case 10:return ns(t.type._context),null;case 22:case 23:return Gs(),null;case 24:return null;default:return null}}var Ml=!1,Ye=!1,wf=typeof WeakSet=="function"?WeakSet:Set,D=null;function Vn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function Rs(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var Cu=!1;function Cf(e,t){if(Go=el,e=ra(),Lo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,m=-1,h=-1,N=0,k=0,O=e,I=null;t:for(;;){for(var b;O!==n||l!==0&&O.nodeType!==3||(m=u+l),O!==o||r!==0&&O.nodeType!==3||(h=u+r),O.nodeType===3&&(u+=O.nodeValue.length),(b=O.firstChild)!==null;)I=O,O=b;for(;;){if(O===e)break t;if(I===n&&++N===l&&(m=u),I===o&&++k===r&&(h=u),(b=O.nextSibling)!==null)break;O=I,I=O.parentNode}O=b}n=m===-1||h===-1?null:{start:m,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bo={focusedElem:e,selectionRange:n},el=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var B=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var V=B.memoizedProps,Ie=B.memoizedState,E=t.stateNode,y=E.getSnapshotBeforeUpdate(t.elementType===t.type?V:Nt(t.type,V),Ie);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(L){Ce(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return B=Cu,Cu=!1,B}function Lr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var o=l.destroy;l.destroy=void 0,o!==void 0&&Rs(t,n,o)}l=l.next}while(l!==r)}}function Ul(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function As(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Tu(e){var t=e.alternate;t!==null&&(e.alternate=null,Tu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[Nr],delete t[Ko],delete t[sf],delete t[af])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iu(e){return e.tag===5||e.tag===3||e.tag===4}function ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Os(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fl));else if(r!==4&&(e=e.child,e!==null))for(Os(e,t,n),e=e.sibling;e!==null;)Os(e,t,n),e=e.sibling}function js(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(js(e,t,n),e=e.sibling;e!==null;)js(e,t,n),e=e.sibling}var Be=null,_t=!1;function en(e,t,n){for(n=n.child;n!==null;)Ru(e,t,n),n=n.sibling}function Ru(e,t,n){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(Wr,n)}catch{}switch(n.tag){case 5:Ye||Vn(n,t);case 6:var r=Be,l=_t;Be=null,en(e,t,n),Be=r,_t=l,Be!==null&&(_t?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(_t?(e=Be,n=n.stateNode,e.nodeType===8?Vo(e.parentNode,n):e.nodeType===1&&Vo(e,n),dr(e)):Vo(Be,n.stateNode));break;case 4:r=Be,l=_t,Be=n.stateNode.containerInfo,_t=!0,en(e,t,n),Be=r,_t=l;break;case 0:case 11:case 14:case 15:if(!Ye&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,u=o.destroy;o=o.tag,u!==void 0&&((o&2)!==0||(o&4)!==0)&&Rs(n,t,u),l=l.next}while(l!==r)}en(e,t,n);break;case 1:if(!Ye&&(Vn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(m){Ce(n,t,m)}en(e,t,n);break;case 21:en(e,t,n);break;case 22:n.mode&1?(Ye=(r=Ye)||n.memoizedState!==null,en(e,t,n),Ye=r):en(e,t,n);break;default:en(e,t,n)}}function Au(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wf),t.forEach(function(r){var l=Mf.bind(null,e,r);n.has(r)||(n.add(r),r.then(l,l))})}}function wt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=e,u=t,m=u;e:for(;m!==null;){switch(m.tag){case 5:Be=m.stateNode,_t=!1;break e;case 3:Be=m.stateNode.containerInfo,_t=!0;break e;case 4:Be=m.stateNode.containerInfo,_t=!0;break e}m=m.return}if(Be===null)throw Error(a(160));Ru(o,u,l),Be=null,_t=!1;var h=l.alternate;h!==null&&(h.return=null),l.return=null}catch(N){Ce(l,t,N)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ou(t,e),t=t.sibling}function Ou(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wt(t,e),Ot(e),r&4){try{Lr(3,e,e.return),Ul(3,e)}catch(V){Ce(e,e.return,V)}try{Lr(5,e,e.return)}catch(V){Ce(e,e.return,V)}}break;case 1:wt(t,e),Ot(e),r&512&&n!==null&&Vn(n,n.return);break;case 5:if(wt(t,e),Ot(e),r&512&&n!==null&&Vn(n,n.return),e.flags&32){var l=e.stateNode;try{er(l,"")}catch(V){Ce(e,e.return,V)}}if(r&4&&(l=e.stateNode,l!=null)){var o=e.memoizedProps,u=n!==null?n.memoizedProps:o,m=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{m==="input"&&o.type==="radio"&&o.name!=null&&Tt(l,o),ao(m,u);var N=ao(m,o);for(u=0;u<h.length;u+=2){var k=h[u],O=h[u+1];k==="style"?pi(l,O):k==="dangerouslySetInnerHTML"?di(l,O):k==="children"?er(l,O):de(l,k,O,N)}switch(m){case"input":Jn(l,o);break;case"textarea":ai(l,o);break;case"select":var I=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?wn(l,!!o.multiple,b,!1):I!==!!o.multiple&&(o.defaultValue!=null?wn(l,!!o.multiple,o.defaultValue,!0):wn(l,!!o.multiple,o.multiple?[]:"",!1))}l[Nr]=o}catch(V){Ce(e,e.return,V)}}break;case 6:if(wt(t,e),Ot(e),r&4){if(e.stateNode===null)throw Error(a(162));l=e.stateNode,o=e.memoizedProps;try{l.nodeValue=o}catch(V){Ce(e,e.return,V)}}break;case 3:if(wt(t,e),Ot(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dr(t.containerInfo)}catch(V){Ce(e,e.return,V)}break;case 4:wt(t,e),Ot(e);break;case 13:wt(t,e),Ot(e),l=e.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(Us=Te())),r&4&&Au(e);break;case 22:if(k=n!==null&&n.memoizedState!==null,e.mode&1?(Ye=(N=Ye)||k,wt(t,e),Ye=N):wt(t,e),Ot(e),r&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!k&&(e.mode&1)!==0)for(D=e,k=e.child;k!==null;){for(O=D=k;D!==null;){switch(I=D,b=I.child,I.tag){case 0:case 11:case 14:case 15:Lr(4,I,I.return);break;case 1:Vn(I,I.return);var B=I.stateNode;if(typeof B.componentWillUnmount=="function"){r=I,n=I.return;try{t=r,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(V){Ce(r,n,V)}}break;case 5:Vn(I,I.return);break;case 22:if(I.memoizedState!==null){Mu(O);continue}}b!==null?(b.return=I,D=b):Mu(O)}k=k.sibling}e:for(k=null,O=e;;){if(O.tag===5){if(k===null){k=O;try{l=O.stateNode,N?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(m=O.stateNode,h=O.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,m.style.display=fi("display",u))}catch(V){Ce(e,e.return,V)}}}else if(O.tag===6){if(k===null)try{O.stateNode.nodeValue=N?"":O.memoizedProps}catch(V){Ce(e,e.return,V)}}else if((O.tag!==22&&O.tag!==23||O.memoizedState===null||O===e)&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===e)break e;for(;O.sibling===null;){if(O.return===null||O.return===e)break e;k===O&&(k=null),O=O.return}k===O&&(k=null),O.sibling.return=O.return,O=O.sibling}}break;case 19:wt(t,e),Ot(e),r&4&&Au(e);break;case 21:break;default:wt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Iu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(er(l,""),r.flags&=-33);var o=ku(e);js(e,o,l);break;case 3:case 4:var u=r.stateNode.containerInfo,m=ku(e);Os(e,m,u);break;default:throw Error(a(161))}}catch(h){Ce(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tf(e,t,n){D=e,ju(e)}function ju(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var l=D,o=l.child;if(l.tag===22&&r){var u=l.memoizedState!==null||Ml;if(!u){var m=l.alternate,h=m!==null&&m.memoizedState!==null||Ye;m=Ml;var N=Ye;if(Ml=u,(Ye=h)&&!N)for(D=l;D!==null;)u=D,h=u.child,u.tag===22&&u.memoizedState!==null?Uu(l):h!==null?(h.return=u,D=h):Uu(l);for(;o!==null;)D=o,ju(o),o=o.sibling;D=l,Ml=m,Ye=N}Lu(e)}else(l.subtreeFlags&8772)!==0&&o!==null?(o.return=l,D=o):Lu(e)}}function Lu(e){for(;D!==null;){var t=D;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ye||Ul(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ye)if(n===null)r.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Nt(t.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ma(t,o,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ma(t,u,n)}break;case 5:var m=t.stateNode;if(n===null&&t.flags&4){n=m;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var N=t.alternate;if(N!==null){var k=N.memoizedState;if(k!==null){var O=k.dehydrated;O!==null&&dr(O)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Ye||t.flags&512&&As(t)}catch(I){Ce(t,t.return,I)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function Mu(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function Uu(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ul(4,t)}catch(h){Ce(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var l=t.return;try{r.componentDidMount()}catch(h){Ce(t,l,h)}}var o=t.return;try{As(t)}catch(h){Ce(t,o,h)}break;case 5:var u=t.return;try{As(t)}catch(h){Ce(t,u,h)}}}catch(h){Ce(t,t.return,h)}if(t===e){D=null;break}var m=t.sibling;if(m!==null){m.return=t.return,D=m;break}D=t.return}}var If=Math.ceil,Pl=F.ReactCurrentDispatcher,Ls=F.ReactCurrentOwner,gt=F.ReactCurrentBatchConfig,fe=0,ze=null,Re=null,He=0,ct=0,Kn=Qt(0),je=0,Mr=null,vn=0,bl=0,Ms=0,Ur=null,rt=null,Us=0,Yn=1/0,Ft=null,Dl=!1,Ps=null,tn=null,zl=!1,nn=null,Fl=0,Pr=0,bs=null,Gl=-1,Bl=0;function Je(){return(fe&6)!==0?Te():Gl!==-1?Gl:Gl=Te()}function rn(e){return(e.mode&1)===0?1:(fe&2)!==0&&He!==0?He&-He:cf.transition!==null?(Bl===0&&(Bl=ki()),Bl):(e=he,e!==0||(e=window.event,e=e===void 0?16:bi(e.type)),e)}function Ct(e,t,n,r){if(50<Pr)throw Pr=0,bs=null,Error(a(185));sr(e,n,r),((fe&2)===0||e!==ze)&&(e===ze&&((fe&2)===0&&(bl|=n),je===4&&ln(e,He)),lt(e,r),n===1&&fe===0&&(t.mode&1)===0&&(Yn=Te()+500,gl&&Xt()))}function lt(e,t){var n=e.callbackNode;ud(e,t);var r=Xr(e,e===ze?He:0);if(r===0)n!==null&&Ci(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ci(n),t===1)e.tag===0?uf(bu.bind(null,e)):Na(bu.bind(null,e)),lf(function(){(fe&6)===0&&Xt()}),n=null;else{switch(Ri(r)){case 1:n=go;break;case 4:n=Ti;break;case 16:n=Yr;break;case 536870912:n=Ii;break;default:n=Yr}n=Vu(n,Pu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pu(e,t){if(Gl=-1,Bl=0,(fe&6)!==0)throw Error(a(327));var n=e.callbackNode;if(Wn()&&e.callbackNode!==n)return null;var r=Xr(e,e===ze?He:0);if(r===0)return null;if((r&30)!==0||(r&e.expiredLanes)!==0||t)t=Hl(e,r);else{t=r;var l=fe;fe|=2;var o=zu();(ze!==e||He!==t)&&(Ft=null,Yn=Te()+500,En(e,t));do try{Af();break}catch(m){Du(e,m)}while(!0);ts(),Pl.current=o,fe=l,Re!==null?t=0:(ze=null,He=0,t=je)}if(t!==0){if(t===2&&(l=yo(e),l!==0&&(r=l,t=Ds(e,l))),t===1)throw n=Mr,En(e,0),ln(e,r),lt(e,Te()),n;if(t===6)ln(e,r);else{if(l=e.current.alternate,(r&30)===0&&!kf(l)&&(t=Hl(e,r),t===2&&(o=yo(e),o!==0&&(r=o,t=Ds(e,o))),t===1))throw n=Mr,En(e,0),ln(e,r),lt(e,Te()),n;switch(e.finishedWork=l,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:Sn(e,rt,Ft);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=Us+500-Te(),10<t)){if(Xr(e,0)!==0)break;if(l=e.suspendedLanes,(l&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=$o(Sn.bind(null,e,rt,Ft),t);break}Sn(e,rt,Ft);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,l=-1;0<r;){var u=31-xt(r);o=1<<u,u=t[u],u>l&&(l=u),r&=~o}if(r=l,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*If(r/1960))-r,10<r){e.timeoutHandle=$o(Sn.bind(null,e,rt,Ft),r);break}Sn(e,rt,Ft);break;case 5:Sn(e,rt,Ft);break;default:throw Error(a(329))}}}return lt(e,Te()),e.callbackNode===n?Pu.bind(null,e):null}function Ds(e,t){var n=Ur;return e.current.memoizedState.isDehydrated&&(En(e,t).flags|=256),e=Hl(e,t),e!==2&&(t=rt,rt=n,t!==null&&zs(t)),e}function zs(e){rt===null?rt=e:rt.push.apply(rt,e)}function kf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Et(o(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~Ms,t&=~bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if((fe&6)!==0)throw Error(a(327));Wn();var t=Xr(e,0);if((t&1)===0)return lt(e,Te()),null;var n=Hl(e,t);if(e.tag!==0&&n===2){var r=yo(e);r!==0&&(t=r,n=Ds(e,r))}if(n===1)throw n=Mr,En(e,0),ln(e,t),lt(e,Te()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,rt,Ft),lt(e,Te()),null}function Fs(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(Yn=Te()+500,gl&&Xt())}}function xn(e){nn!==null&&nn.tag===0&&(fe&6)===0&&Wn();var t=fe;fe|=1;var n=gt.transition,r=he;try{if(gt.transition=null,he=1,e)return e()}finally{he=r,gt.transition=n,fe=t,(fe&6)===0&&Xt()}}function Gs(){ct=Kn.current,Ee(Kn)}function En(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,rf(n)),Re!==null)for(n=Re.return;n!==null;){var r=n;switch(qo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ml();break;case 3:Hn(),Ee(et),Ee($e),us();break;case 5:is(r);break;case 4:Hn();break;case 13:Ee(_e);break;case 19:Ee(_e);break;case 10:ns(r.type._context);break;case 22:case 23:Gs()}n=n.return}if(ze=e,Re=e=on(e.current,null),He=ct=t,je=0,Mr=null,Ms=bl=vn=0,rt=Ur=null,hn!==null){for(t=0;t<hn.length;t++)if(n=hn[t],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=l,r.next=u}n.pending=r}hn=null}return e}function Du(e,t){do{var n=Re;try{if(ts(),Tl.current=Al,Il){for(var r=we.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Il=!1}if(yn=0,De=Oe=we=null,kr=!1,Rr=0,Ls.current=null,n===null||n.return===null){je=1,Mr=t,Re=null;break}e:{var o=e,u=n.return,m=n,h=t;if(t=He,m.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var N=h,k=m,O=k.tag;if((k.mode&1)===0&&(O===0||O===11||O===15)){var I=k.alternate;I?(k.updateQueue=I.updateQueue,k.memoizedState=I.memoizedState,k.lanes=I.lanes):(k.updateQueue=null,k.memoizedState=null)}var b=uu(u);if(b!==null){b.flags&=-257,cu(b,u,m,o,t),b.mode&1&&au(o,N,t),t=b,h=N;var B=t.updateQueue;if(B===null){var V=new Set;V.add(h),t.updateQueue=V}else B.add(h);break e}else{if((t&1)===0){au(o,N,t),Bs();break e}h=Error(a(426))}}else if(Ne&&m.mode&1){var Ie=uu(u);if(Ie!==null){(Ie.flags&65536)===0&&(Ie.flags|=256),cu(Ie,u,m,o,t),Zo($n(h,m));break e}}o=h=$n(h,m),je!==4&&(je=2),Ur===null?Ur=[o]:Ur.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var E=su(o,h,t);La(o,E);break e;case 1:m=h;var y=o.type,S=o.stateNode;if((o.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(tn===null||!tn.has(S)))){o.flags|=65536,t&=-t,o.lanes|=t;var L=iu(o,m,t);La(o,L);break e}}o=o.return}while(o!==null)}Gu(n)}catch(K){t=K,Re===n&&n!==null&&(Re=n=n.return);continue}break}while(!0)}function zu(){var e=Pl.current;return Pl.current=Al,e===null?Al:e}function Bs(){(je===0||je===3||je===2)&&(je=4),ze===null||(vn&268435455)===0&&(bl&268435455)===0||ln(ze,He)}function Hl(e,t){var n=fe;fe|=2;var r=zu();(ze!==e||He!==t)&&(Ft=null,En(e,t));do try{Rf();break}catch(l){Du(e,l)}while(!0);if(ts(),fe=n,Pl.current=r,Re!==null)throw Error(a(261));return ze=null,He=0,je}function Rf(){for(;Re!==null;)Fu(Re)}function Af(){for(;Re!==null&&!ed();)Fu(Re)}function Fu(e){var t=$u(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?Gu(e):Re=t,Ls.current=null}function Gu(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Nf(n,t,ct),n!==null){Re=n;return}}else{if(n=_f(n,t),n!==null){n.flags&=32767,Re=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,Re=null;return}}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);je===0&&(je=5)}function Sn(e,t,n){var r=he,l=gt.transition;try{gt.transition=null,he=1,Of(e,t,n,r)}finally{gt.transition=l,he=r}return null}function Of(e,t,n,r){do Wn();while(nn!==null);if((fe&6)!==0)throw Error(a(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(cd(e,o),e===ze&&(Re=ze=null,He=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||zl||(zl=!0,Vu(Yr,function(){return Wn(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=gt.transition,gt.transition=null;var u=he;he=1;var m=fe;fe|=4,Ls.current=null,Cf(e,n),Ou(n,e),qd(Bo),el=!!Go,Bo=Go=null,e.current=n,Tf(n),td(),fe=m,he=u,gt.transition=o}else e.current=n;if(zl&&(zl=!1,nn=e,Fl=l),o=e.pendingLanes,o===0&&(tn=null),ld(n.stateNode),lt(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(Dl)throw Dl=!1,e=Ps,Ps=null,e;return(Fl&1)!==0&&e.tag!==0&&Wn(),o=e.pendingLanes,(o&1)!==0?e===bs?Pr++:(Pr=0,bs=e):Pr=0,Xt(),null}function Wn(){if(nn!==null){var e=Ri(Fl),t=gt.transition,n=he;try{if(gt.transition=null,he=16>e?16:e,nn===null)var r=!1;else{if(e=nn,nn=null,Fl=0,(fe&6)!==0)throw Error(a(331));var l=fe;for(fe|=4,D=e.current;D!==null;){var o=D,u=o.child;if((D.flags&16)!==0){var m=o.deletions;if(m!==null){for(var h=0;h<m.length;h++){var N=m[h];for(D=N;D!==null;){var k=D;switch(k.tag){case 0:case 11:case 15:Lr(8,k,o)}var O=k.child;if(O!==null)O.return=k,D=O;else for(;D!==null;){k=D;var I=k.sibling,b=k.return;if(Tu(k),k===N){D=null;break}if(I!==null){I.return=b,D=I;break}D=b}}}var B=o.alternate;if(B!==null){var V=B.child;if(V!==null){B.child=null;do{var Ie=V.sibling;V.sibling=null,V=Ie}while(V!==null)}}D=o}}if((o.subtreeFlags&2064)!==0&&u!==null)u.return=o,D=u;else e:for(;D!==null;){if(o=D,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Lr(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,D=E;break e}D=o.return}}var y=e.current;for(D=y;D!==null;){u=D;var S=u.child;if((u.subtreeFlags&2064)!==0&&S!==null)S.return=u,D=S;else e:for(u=y;D!==null;){if(m=D,(m.flags&2048)!==0)try{switch(m.tag){case 0:case 11:case 15:Ul(9,m)}}catch(K){Ce(m,m.return,K)}if(m===u){D=null;break e}var L=m.sibling;if(L!==null){L.return=m.return,D=L;break e}D=m.return}}if(fe=l,Xt(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(Wr,e)}catch{}r=!0}return r}finally{he=n,gt.transition=t}}return!1}function Bu(e,t,n){t=$n(n,t),t=su(e,t,1),e=Zt(e,t,1),t=Je(),e!==null&&(sr(e,1,t),lt(e,t))}function Ce(e,t,n){if(e.tag===3)Bu(e,e,n);else for(;t!==null;){if(t.tag===3){Bu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tn===null||!tn.has(r))){e=$n(n,e),e=iu(t,e,1),t=Zt(t,e,1),e=Je(),t!==null&&(sr(t,1,e),lt(t,e));break}}t=t.return}}function jf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(He&n)===n&&(je===4||je===3&&(He&130023424)===He&&500>Te()-Us?En(e,0):Ms|=n),lt(e,t)}function Hu(e,t){t===0&&((e.mode&1)===0?t=1:(t=qr,qr<<=1,(qr&130023424)===0&&(qr=4194304)));var n=Je();e=bt(e,t),e!==null&&(sr(e,t,n),lt(e,n))}function Lf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hu(e,n)}function Mf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}r!==null&&r.delete(t),Hu(e,n)}var $u;$u=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)nt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return nt=!1,Sf(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,Ne&&(t.flags&1048576)!==0&&_a(t,vl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ll(e,t),e=t.pendingProps;var l=Pn(t,$e.current);Bn(t,n),l=fs(null,t,r,e,l,n);var o=ps();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(o=!0,hl(t)):o=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,os(t),l.updater=Ol,t.stateNode=l,l._reactInternals=t,xs(t,r,e,n),t=_s(null,t,r,!0,o,n)):(t.tag=0,Ne&&o&&Qo(t),Xe(null,t,l,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ll(e,t),e=t.pendingProps,l=r._init,r=l(r._payload),t.type=r,l=t.tag=Pf(r),e=Nt(r,e),l){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=gu(null,t,r,e,n);break e;case 11:t=du(null,t,r,e,n);break e;case 14:t=fu(null,t,r,Nt(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),Ns(e,t,r,l,n);case 1:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),gu(e,t,r,l,n);case 3:e:{if(yu(t),e===null)throw Error(a(387));r=t.pendingProps,o=t.memoizedState,l=o.element,ja(e,t),wl(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){l=$n(Error(a(423)),t),t=vu(e,t,r,n,l);break e}else if(r!==l){l=$n(Error(a(424)),t),t=vu(e,t,r,n,l);break e}else for(ut=Wt(t.stateNode.containerInfo.firstChild),at=t,Ne=!0,St=null,n=Aa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zn(),r===l){t=zt(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return Ua(t),e===null&&Jo(t),r=t.type,l=t.pendingProps,o=e!==null?e.memoizedProps:null,u=l.children,Ho(r,l)?u=null:o!==null&&Ho(r,o)&&(t.flags|=32),hu(e,t),Xe(e,t,u,n),t.child;case 6:return e===null&&Jo(t),null;case 13:return xu(e,t,n);case 4:return ss(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fn(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),du(e,t,r,l,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,l=t.pendingProps,o=t.memoizedProps,u=l.value,ye(Sl,r._currentValue),r._currentValue=u,o!==null)if(Et(o.value,u)){if(o.children===l.children&&!et.current){t=zt(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var m=o.dependencies;if(m!==null){u=o.child;for(var h=m.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=Dt(-1,n&-n),h.tag=2;var N=o.updateQueue;if(N!==null){N=N.shared;var k=N.pending;k===null?h.next=h:(h.next=k.next,k.next=h),N.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),rs(o.return,n,t),m.lanes|=n;break}h=h.next}}else if(o.tag===10)u=o.type===t.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(a(341));u.lanes|=n,m=u.alternate,m!==null&&(m.lanes|=n),rs(u,n,t),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===t){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}Xe(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,r=t.pendingProps.children,Bn(t,n),l=mt(l),r=r(l),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,l=Nt(r,t.pendingProps),l=Nt(r.type,l),fu(e,t,r,l,n);case 15:return pu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,l=t.pendingProps,l=t.elementType===r?l:Nt(r,l),Ll(e,t),t.tag=1,tt(r)?(e=!0,hl(t)):e=!1,Bn(t,n),lu(t,r,l),xs(t,r,l,n),_s(null,t,r,!0,e,n);case 19:return Su(e,t,n);case 22:return mu(e,t,n)}throw Error(a(156,t.tag))};function Vu(e,t){return wi(e,t)}function Uf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new Uf(e,t,n,r)}function Hs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pf(e){if(typeof e=="function")return Hs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ae)return 11;if(e===Pe)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $l(e,t,n,r,l,o){var u=2;if(r=e,typeof e=="function")Hs(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case ie:return Nn(n.children,l,o,t);case Se:u=8,l|=8;break;case Qe:return e=yt(12,n,t,l|2),e.elementType=Qe,e.lanes=o,e;case Me:return e=yt(13,n,t,l),e.elementType=Me,e.lanes=o,e;case Ue:return e=yt(19,n,t,l),e.elementType=Ue,e.lanes=o,e;case me:return Vl(n,l,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Le:u=10;break e;case qe:u=9;break e;case Ae:u=11;break e;case Pe:u=14;break e;case ge:u=16,r=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=yt(u,n,t,l),t.elementType=e,t.type=r,t.lanes=o,t}function Nn(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function Vl(e,t,n,r){return e=yt(22,e,r,t),e.elementType=me,e.lanes=n,e.stateNode={isHidden:!1},e}function $s(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function Vs(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bf(e,t,n,r,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Ks(e,t,n,r,l,o,u,m,h){return e=new bf(e,t,n,m,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},os(o),e}function Df(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ku(e){if(!e)return qt;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(tt(n))return Ea(e,n,t)}return t}function Yu(e,t,n,r,l,o,u,m,h){return e=Ks(n,r,!0,e,l,o,u,m,h),e.context=Ku(null),n=e.current,r=Je(),l=rn(n),o=Dt(r,l),o.callback=t??null,Zt(n,o,l),e.current.lanes=l,sr(e,l,r),lt(e,r),e}function Kl(e,t,n,r){var l=t.current,o=Je(),u=rn(l);return n=Ku(n),t.context===null?t.context=n:t.pendingContext=n,t=Dt(o,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Zt(l,t,u),e!==null&&(Ct(e,l,u,o),_l(e,l,u)),u}function Yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ys(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}function zf(){return null}var Qu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ws(e){this._internalRoot=e}Wl.prototype.render=Ws.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));Kl(e,t,null,null)},Wl.prototype.unmount=Ws.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){Kl(null,e,null,null)}),t[Lt]=null}};function Wl(e){this._internalRoot=e}Wl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ji();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vt.length&&t!==0&&t<Vt[n].priority;n++);Vt.splice(n,0,e),n===0&&Ui(e)}};function Qs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qu(){}function Ff(e,t,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var N=Yl(u);o.call(N)}}var u=Yu(t,r,e,0,null,!1,!1,"",qu);return e._reactRootContainer=u,e[Lt]=u.current,Er(e.nodeType===8?e.parentNode:e),xn(),u}for(;l=e.lastChild;)e.removeChild(l);if(typeof r=="function"){var m=r;r=function(){var N=Yl(h);m.call(N)}}var h=Ks(e,0,!1,null,null,!1,!1,"",qu);return e._reactRootContainer=h,e[Lt]=h.current,Er(e.nodeType===8?e.parentNode:e),xn(function(){Kl(t,h,n,r)}),h}function ql(e,t,n,r,l){var o=n._reactRootContainer;if(o){var u=o;if(typeof l=="function"){var m=l;l=function(){var h=Yl(u);m.call(h)}}Kl(t,u,e,l)}else u=Ff(n,t,e,l,r);return Yl(u)}Ai=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=or(t.pendingLanes);n!==0&&(xo(t,n|1),lt(t,Te()),(fe&6)===0&&(Yn=Te()+500,Xt()))}break;case 13:xn(function(){var r=bt(e,1);if(r!==null){var l=Je();Ct(r,e,1,l)}}),Ys(e,1)}},Eo=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=Je();Ct(t,e,134217728,n)}Ys(e,134217728)}},Oi=function(e){if(e.tag===13){var t=rn(e),n=bt(e,t);if(n!==null){var r=Je();Ct(n,e,t,r)}Ys(e,t)}},ji=function(){return he},Li=function(e,t){var n=he;try{return he=e,t()}finally{he=n}},fo=function(e,t,n){switch(t){case"input":if(Jn(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var l=pl(r);if(!l)throw Error(a(90));Ge(r),Jn(r,l)}}}break;case"textarea":ai(e,n);break;case"select":t=n.value,t!=null&&wn(e,!!n.multiple,t,!1)}},yi=Fs,vi=xn;var Gf={usingClientEntryPoint:!1,Events:[_r,Mn,pl,hi,gi,Fs]},br={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bf={bundleType:br.bundleType,version:br.version,rendererPackageName:br.rendererPackageName,rendererConfig:br.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ni(e),e===null?null:e.stateNode},findFiberByHostInstance:br.findFiberByHostInstance||zf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{Wr=Xl.inject(Bf),It=Xl}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gf,ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qs(t))throw Error(a(200));return Df(e,t,null,n)},ot.createRoot=function(e,t){if(!Qs(e))throw Error(a(299));var n=!1,r="",l=Qu;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Ks(e,1,!1,null,null,n,!1,r,l),e[Lt]=t.current,Er(e.nodeType===8?e.parentNode:e),new Ws(t)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=Ni(t),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return xn(e)},ot.hydrate=function(e,t,n){if(!Ql(t))throw Error(a(200));return ql(null,e,t,!0,n)},ot.hydrateRoot=function(e,t,n){if(!Qs(e))throw Error(a(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",u=Qu;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=Yu(t,null,e,1,n??null,l,!1,o,u),e[Lt]=t.current,Er(e),r)for(e=0;e<r.length;e++)n=r[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Wl(t)},ot.render=function(e,t,n){if(!Ql(t))throw Error(a(200));return ql(null,e,t,!1,n)},ot.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(a(40));return e._reactRootContainer?(xn(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[Lt]=null})}),!0):!1},ot.unstable_batchedUpdates=Fs,ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return ql(e,t,n,!1,r)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var lc;function Xf(){if(lc)return Js.exports;lc=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(c){console.error(c)}}return s(),Js.exports=qf(),Js.exports}var oc;function Jf(){if(oc)return Jl;oc=1;var s=Xf();return Jl.createRoot=s.createRoot,Jl.hydrateRoot=s.hydrateRoot,Jl}var Zf=Jf();const Rc={HEADER:{MISSION_LABEL:"Mission"},SIDEBAR:{PROFILE_NAME:"Operative 7",STATUS_ONLINE:"Online",SECTION_STATUS:"Status",SECTION_INVENTORY:"Inventory"},MENU:{SAVE_GAME:"Save Game",LOAD_GAME:"Load Game",RESTART_MISSION:"Restart Mission",EXIT_SIMULATION:"Exit Simulation",CONFIRM_RESTART_TITLE:"RESTART MISSION?",CONFIRM_RESTART_MSG:"Current progress will be lost. Are you sure you want to abort this timeline?",CONFIRM_EXIT_TITLE:"TERMINATE SIMULATION?",CONFIRM_EXIT_MSG:"Any unsaved progress will be lost. Confirm disconnection?",CONFIRM_LOAD_TITLE:"OVERWRITE TIMELINE?",CONFIRM_LOAD_MSG:"Loading a new save will erase current progress. Proceed?",BTN_CONFIRM:"Confirm",BTN_CANCEL:"Cancel"},GAME_OVER:{TITLE:"Signal Lost",MESSAGE:"Vital signs critical. Connection terminated.",BUTTON_REBOOT:"Reboot System"},ERRORS:{SAVE_FAILED:"Failed to save game. See console for details.",LOAD_INVALID:"Failed to load save file: Invalid format.",LOAD_ERROR:"Error reading save file.",IMPORT_INVALID:"Invalid save file format",IMPORT_ERROR:"Error importing save:",UNKNOWN_MISSION:"Unknown Mission"},BUTTON_SUMMARY:"View Mission Progress",INPUT_PLACEHOLDER:"What is your next move?",INPUT_FOOTER:"Press Enter to send",TEMPLATES:{ACTION_INSPECT:"Inspecting {0}..."},API_MODAL:{TITLE:"API Configuration",SUBTITLE:"Enter your Google Gemini API Key",PLACEHOLDER:"AIzaSy...",PRIVACY_NOTE:"Your key is stored locally in your browser. It is never sent to any server other than Google's API.",BTN_TEST:"Test Key",BTN_SAVE:"Save",BTN_SAVE_CONFIG:"Save Configuration",STATUS_TESTING:"Verifying key with Google...",STATUS_SUCCESS:"Connection Successful! Key is valid.",ERR_EMPTY:"Please enter an API Key first.",LANGUAGE_LABEL:"Language (Optional)",LANGUAGE_PLACEHOLDER:"e.g. Indonesian, English, Japanese..."},API_ERRORS:{MISSING_KEY:"API Key is missing",EMPTY_KEY:"API Key is empty",INVALID_KEY:"Invalid API Key. Please check your key.",ACCESS_DENIED:"Access Denied. API Key may be invalid or restricted.",QUOTA_EXCEEDED:"Quota Exceeded. You have hit the rate limit.",SERVER_ERROR:"Google Server Error. Please try again later.",SERVICE_UNAVAILABLE:"Service Unavailable. Google servers are overloaded.",NETWORK_ERROR:"Network Error. Check your internet connection.",UNKNOWN_ERROR:"Unknown API Error",DEFAULT_FAIL:"Failed to connect to Gemini API.",JSON_PARSE:"The system glitched. Data corruption detected. (JSON Parse Error)"},CHARACTER_CREATION:{LOADING_TITLE:"INITIALIZING SUBJECT...",LOADING_SUBTITLE:"Generating neural patterns",ERROR_TITLE:"INITIALIZATION FAILURE",ERROR_DEFAULT:"Failed to initialize simulation parameters.",BTN_ABORT:"ABORT",BTN_RETRY:"RETRY SEQUENCE",BTN_ABORT_FULL:"ABORT SEQUENCE",TITLE:"IDENTITY CONSTRUCT",LABEL_NAME:"Subject Name",PLACEHOLDER_NAME:"Enter Name...",TITLE_RANDOMIZE:"Randomize Name",LABEL_ROLE:"Select Specialization",LOADOUT_TITLE:"Standard Issue Loadout",LOADOUT_DESC:"Start with role-specific equipment",STATS_TITLE:"Vital Statistics",EQUIPMENT_TITLE:"Equipment Manifest",BTN_INITIATE:"INITIATE SIMULATION"},GENRE_SELECTION:{TITLE:"NEXUS RPG",SUBTITLE:"Initialize your neural link. Select a simulation parameter.",BTN_SETTINGS:"Settings",BTN_RESUME:"RESUME MISSION",LABEL_ACTIVE:"SESSION ACTIVE",WARNING_TITLE:"Overwrite Session?",WARNING_MSG:"Starting a new simulation will erase your current progress. Are you sure?",BTN_CONFIRM:"Overwrite & Start",BTN_CANCEL:"Cancel",STATUS_GAME_OVER:"Previous Run Ended (Game Over)"},STATS:{HEALTH:"Health",ENERGY:"Energy",SHIELD:"Shield",SANITY:"Sanity",STAMINA:"Stamina",MOOD:"Mood",CHARM:"Charm"},GENRES:{SCIFI:{DESC:"High-tech, low-life. Neon lights and chrome."},HORROR:{DESC:"Ancient madness in a derelict station."},ROMANCE:{DESC:"Love and heartbreak in a digital age."}},NARRATIVE:{PROCESSING:"Nexus processing..."}},ti={HEADER:{MISSION_LABEL:"Misi"},SIDEBAR:{PROFILE_NAME:"Operatif 7",STATUS_ONLINE:"Online",SECTION_STATUS:"Status",SECTION_INVENTORY:"Inventaris"},MENU:{SAVE_GAME:"Simpan Game",LOAD_GAME:"Muat Game",RESTART_MISSION:"Ulangi Misi",EXIT_SIMULATION:"Keluar Simulasi",CONFIRM_RESTART_TITLE:"ULANGI MISI?",CONFIRM_RESTART_MSG:"Progres saat ini akan hilang. Yakin ingin membatalkan timeline ini?",CONFIRM_EXIT_TITLE:"AKHIRI SIMULASI?",CONFIRM_EXIT_MSG:"Progres yang belum disimpan akan hilang. Konfirmasi pemutusan?",CONFIRM_LOAD_TITLE:"TIMPA TIMELINE?",CONFIRM_LOAD_MSG:"Memuat save baru akan menghapus progres saat ini. Lanjutkan?",BTN_CONFIRM:"Konfirmasi",BTN_CANCEL:"Batal"},GAME_OVER:{TITLE:"Sinyal Hilang",MESSAGE:"Tanda vital kritis. Koneksi terputus.",BUTTON_REBOOT:"Reboot Sistem"},ERRORS:{SAVE_FAILED:"Gagal menyimpan game. Cek konsol untuk detail.",LOAD_INVALID:"Gagal memuat file: Format tidak valid.",LOAD_ERROR:"Error membaca file simpanan.",IMPORT_INVALID:"Format file tidak valid",IMPORT_ERROR:"Error mengimpor:",UNKNOWN_MISSION:"Misi Tidak Diketahui"},BUTTON_SUMMARY:"Lihat Progres Misi",INPUT_PLACEHOLDER:"Apa langkah selanjutnya?",INPUT_FOOTER:"Tekan Enter untuk kirim",TEMPLATES:{ACTION_INSPECT:"Memeriksa {0}..."},API_MODAL:{TITLE:"Konfigurasi API",SUBTITLE:"Masukkan Google Gemini API Key Anda",PLACEHOLDER:"AIzaSy...",PRIVACY_NOTE:"Key Anda disimpan secara lokal di browser. Tidak pernah dikirim ke server selain Google API.",BTN_TEST:"Tes Key",BTN_SAVE:"Simpan",BTN_SAVE_CONFIG:"Simpan Konfigurasi",STATUS_TESTING:"Memverifikasi key dengan Google...",STATUS_SUCCESS:"Koneksi Berhasil! Key valid.",ERR_EMPTY:"Mohon masukkan API Key terlebih dahulu.",LANGUAGE_LABEL:"Bahasa (Opsional)",LANGUAGE_PLACEHOLDER:"cth. Indonesian, English, Japanese..."},API_ERRORS:{MISSING_KEY:"API Key hilang",EMPTY_KEY:"API Key kosong",INVALID_KEY:"API Key tidak valid. Cek key Anda.",ACCESS_DENIED:"Akses Ditolak. API Key mungkin salah atau dibatasi.",QUOTA_EXCEEDED:"Kuota Terlampaui. Anda mencapai batas rate limit.",SERVER_ERROR:"Google Server Error. Coba lagi nanti.",SERVICE_UNAVAILABLE:"Layanan Tidak Tersedia. Server Google sibuk.",NETWORK_ERROR:"Error Jaringan. Cek koneksi internet Anda.",UNKNOWN_ERROR:"Error API Tidak Diketahui",DEFAULT_FAIL:"Gagal terhubung ke Gemini API.",JSON_PARSE:"Sistem glitch. Korupsi data terdeteksi. (JSON Parse Error)"},CHARACTER_CREATION:{LOADING_TITLE:"MENGINISIALISASI SUBJEK...",LOADING_SUBTITLE:"Membuat pola saraf",ERROR_TITLE:"KEGAGALAN INISIALISASI",ERROR_DEFAULT:"Gagal menginisialisasi parameter simulasi.",BTN_ABORT:"BATALKAN",BTN_RETRY:"ULANGI SEKUENS",BTN_ABORT_FULL:"BATALKAN SEKUENS",TITLE:"KONSTRUKSI IDENTITAS",LABEL_NAME:"Nama Subjek",PLACEHOLDER_NAME:"Masukkan Nama...",TITLE_RANDOMIZE:"Acak Nama",LABEL_ROLE:"Pilih Spesialisasi",LOADOUT_TITLE:"Perlengkapan Standar",LOADOUT_DESC:"Mulai dengan peralatan khusus peran",STATS_TITLE:"Statistik Vital",EQUIPMENT_TITLE:"Manifes Peralatan",BTN_INITIATE:"MULAI SIMULASI"},GENRE_SELECTION:{TITLE:"NEXUS RPG",SUBTITLE:"Inisialisasi neural link. Pilih parameter simulasi.",BTN_SETTINGS:"Pengaturan",BTN_RESUME:"LANJUTKAN MISI",LABEL_ACTIVE:"SESI AKTIF",WARNING_TITLE:"Timpa Sesi?",WARNING_MSG:"Memulai simulasi baru akan menghapus progres saat ini. Anda yakin?",BTN_CONFIRM:"Timpa & Mulai",BTN_CANCEL:"Batal",STATUS_GAME_OVER:"Run Sebelumnya Berakhir (Game Over)"},STATS:{HEALTH:"Kesehatan",ENERGY:"Energi",SHIELD:"Perisai",SANITY:"Kewarasan",STAMINA:"Stamina",MOOD:"Mood",CHARM:"Pesona"},GENRES:{SCIFI:{DESC:"Teknologi tinggi, hidup rendah. Lampu neon dan krom."},HORROR:{DESC:"Kegilaan kuno di stasiun terlantar."},ROMANCE:{DESC:"Cinta dan patah hati di era digital."}},NARRATIVE:{PROCESSING:"Nexus memproses..."}},ep=Rc,Gt={English:Rc,Indonesian:ti,"Bahasa Indonesia":ti,ID:ti},tp={APP_TITLE:"Nexus RPG",APP_VERSION:"v0.0.1  System Alpha",GENRE_DEFAULT:"scifi",GENRE_LABELS:{SCIFI:"Cyberpunk 2077",HORROR:"Cosmic Horror",ROMANCE:"Neo-Tokyo Romance"}},np={QUEST_INIT:"Initializing...",QUEST_DEFAULT:"Neon Rain",SUMMARY_INIT:"Waiting for AI response...",SUMMARY_RESTORED:"Simulation restored.",HISTORY_SYSTEM_INIT:"Waiting for AI response...",HISTORY_AI_INIT:"Waiting for AI response...",LOAD_SUCCESS_MSG:"Game loaded successfully."},ve={FIXED:tp,UI:ep,CONTENT:np},Ac="nexus_rpg_save_v2",vt=(s,c)=>{try{const a=localStorage.getItem(Ac);if(a){const d=JSON.parse(a);return d[s]!==void 0?d[s]:c}}catch(a){console.error("Failed to load state",a)}return c};function rp(){const[s,c]=j.useState(()=>vt("stats",{health:100,energy:100,shield:100})),[a,d]=j.useState(()=>vt("inventory",[{name:"Plasma Cutter",count:1,tags:["tool","heat","weapon"],type:"tool",icon:""},{name:"Stimpack",count:3,tags:["consumable","heal"],type:"consumable",icon:""},{name:"Encrypted Datapad",count:1,tags:["intel","encrypted"],type:"intel",icon:""}])),[f,p]=j.useState(()=>vt("quest",ve.CONTENT.QUEST_DEFAULT)),[g,x]=j.useState(()=>vt("genre",ve.FIXED.GENRE_DEFAULT)),[_,A]=j.useState(()=>vt("environment",null)),[w,R]=j.useState(null),[T,U]=j.useState(()=>vt("gameOver",!1)),[Y,z]=j.useState(()=>vt("summary",ve.CONTENT.SUMMARY_INIT)),[W,ce]=j.useState(()=>vt("history",[{id:1,role:"system",content:ve.CONTENT.HISTORY_SYSTEM_INIT,timestamp:"00:00"},{id:2,role:"ai",content:ve.CONTENT.HISTORY_AI_INIT,timestamp:"00:01"}])),[se,de]=j.useState(()=>vt("playerName","")),[F,te]=j.useState(()=>vt("playerRole",null)),[ue,ie]=j.useState(()=>vt("setupData",null)),[Se,Qe]=j.useState(()=>vt("initialCharacterData",null)),[Le,qe]=j.useState([]),[Ae,Me]=j.useState(!1),[Ue,Pe]=j.useState(()=>localStorage.getItem("nexus_api_key")||""),[ge,me]=j.useState(()=>localStorage.getItem("nexus_language")||"English"),[M,G]=j.useState(()=>localStorage.getItem("nexus_mock_mode")==="true"),[P,v]=j.useState(!1),[C,re]=j.useState(null),[H,J]=j.useState(!1),[$,X]=j.useState(()=>{try{const be=localStorage.getItem("nexus_ui_custom");return be?JSON.parse(be):null}catch{return null}}),Z=(be,Ge,ke=!1)=>{X(dt=>{let st=Ge;ke&&dt&&dt.language===be&&(st={...dt.data,...Ge});const Tt={language:be,data:st};return localStorage.setItem("nexus_ui_custom",JSON.stringify(Tt)),Tt})},ae=(be,Ge)=>{const ke={...be};return Ge&&typeof Ge=="object"&&!Array.isArray(Ge)&&Object.keys(Ge).forEach(dt=>{const st=Ge[dt],Tt=be[dt],Jn=st&&typeof st=="object"&&!Array.isArray(st);Tt&&typeof Tt=="object"&&!Array.isArray(Tt)?Jn&&(ke[dt]=ae(Tt,st)):st!=null&&Object.assign(ke,{[dt]:st})}),ke},ne=j.useMemo(()=>{try{if($&&$.language.toLowerCase()===ge.toLowerCase())return{...ve,UI:ae(ve.UI,$.data)}}catch(Ge){console.error("Error merging UI text, falling back to English:",Ge)}const be=Object.keys(Gt).find(Ge=>Ge.toLowerCase()===ge.toLowerCase())||"English";return{...ve,UI:Gt[be]}},[ge,$]);return{stats:s,setStats:c,inventory:a,setInventory:d,quest:f,setQuest:p,genre:g,setGenre:x,environment:_,setEnvironment:A,lastOutcome:w,setLastOutcome:R,gameOver:T,setGameOver:U,summary:Y,setSummary:z,history:W,setHistory:ce,playerName:se,setPlayerName:de,playerRole:F,setPlayerRole:te,setupData:ue,setSetupData:ie,initialCharacterData:Se,setInitialCharacterData:Qe,choices:Le,setChoices:qe,isProcessing:Ae,setIsProcessing:Me,apiKey:Ue,setApiKey:Pe,language:ge,setLanguage:me,isMockMode:M,setIsMockMode:G,qteActive:P,setQteActive:v,feedback:C,setFeedback:re,allowCombo:H,setAllowCombo:J,uiText:ne,updateUiText:Z,STORAGE_KEY:Ac}}const lp=async s=>{const c=JSON.stringify(s,null,2),a=`nexus_save_${new Date().toISOString().slice(0,10)}.json`;try{if("showSaveFilePicker"in window){const f=await(await window.showSaveFilePicker({suggestedName:a,types:[{description:"Nexus RPG Save File",accept:{"application/json":[".json"]}}]})).createWritable();await f.write(c),await f.close()}else{const d=new Blob([c],{type:"application/json"}),f=URL.createObjectURL(d),p=document.createElement("a");p.href=f,p.download=a,document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(f)}}catch(d){if(d.name!=="AbortError")throw d}},op=s=>new Promise((c,a)=>{if(!s){a(new Error("No file provided"));return}const d=new FileReader;d.onload=f=>{try{const p=JSON.parse(f.target.result);c(p)}catch(p){a(p)}},d.onerror=()=>a(new Error("Failed to read file")),d.readAsText(s)});function sp(s,c){const{stats:a,setStats:d,inventory:f,setInventory:p,quest:g,setQuest:x,genre:_,setGenre:A,gameOver:w,setGameOver:R,history:T,setHistory:U,summary:Y,setSummary:z}=s;j.useEffect(()=>{const F={stats:a,inventory:f,quest:g,genre:_,gameOver:w,history:T,summary:Y};localStorage.setItem(c,JSON.stringify(F))},[a,f,g,_,w,T,Y,c]);const W=j.useCallback(()=>{const F=T.slice(-40);return{stats:a,inventory:f,quest:g,genre:_,gameOver:w,history:F,summary:Y,timestamp:Date.now(),version:ve.FIXED.APP_VERSION}},[a,f,g,_,w,T,Y]),ce=j.useCallback(F=>{if(!F||!F.stats||!F.inventory)return console.error(ve.UI.ERRORS.IMPORT_INVALID),!1;try{return d(F.stats),p(F.inventory),x(F.quest||ve.UI.ERRORS.UNKNOWN_MISSION),A(F.genre||ve.FIXED.GENRE_DEFAULT),R(F.gameOver||!1),U(te=>[...F.history||[],{id:Date.now(),role:"system",content:ve.CONTENT.LOAD_SUCCESS_MSG,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),action:"ringkasan",actionLabel:ve.UI.BUTTON_SUMMARY}]),z(F.summary||ve.CONTENT.SUMMARY_RESTORED),localStorage.setItem(c,JSON.stringify(F)),!0}catch(te){return console.error(ve.UI.ERRORS.IMPORT_ERROR,te),!1}},[d,p,x,A,R,U,z,c]),se=j.useCallback(async()=>{try{const F=W();return await lp(F),!0}catch(F){return console.error("Failed to save game:",F),alert(ve.UI.ERRORS.SAVE_FAILED),!1}},[W]),de=j.useCallback(async F=>{if(!F)return!1;try{const te=await op(F),ue=ce(te);return ue||alert(ve.UI.ERRORS.LOAD_INVALID),ue}catch(te){return console.error("Failed to parse save file",te),alert(ve.UI.ERRORS.LOAD_ERROR),!1}},[ce]);return{exportSave:W,importSave:ce,saveGame:se,loadGame:de}}var sc;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(sc||(sc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ic;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(ic||(ic={}));var ac;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(ac||(ac={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=["user","model","function","system"];var cc;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(cc||(cc={}));var dc;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(dc||(dc={}));var fc;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(fc||(fc={}));var pc;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(pc||(pc={}));var zr;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(zr||(zr={}));var mc;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(mc||(mc={}));var hc;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(hc||(hc={}));var gc;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(gc||(gc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends Error{constructor(c){super(`[GoogleGenerativeAI Error]: ${c}`)}}class Qn extends We{constructor(c,a){super(c),this.response=a}}class Oc extends We{constructor(c,a,d,f){super(c),this.status=a,this.statusText=d,this.errorDetails=f}}class un extends We{}class jc extends We{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="https://generativelanguage.googleapis.com",ap="v1beta",up="0.24.1",cp="genai-js";var _n;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(_n||(_n={}));class dp{constructor(c,a,d,f,p){this.model=c,this.task=a,this.apiKey=d,this.stream=f,this.requestOptions=p}toString(){var c,a;const d=((c=this.requestOptions)===null||c===void 0?void 0:c.apiVersion)||ap;let p=`${((a=this.requestOptions)===null||a===void 0?void 0:a.baseUrl)||ip}/${d}/${this.model}:${this.task}`;return this.stream&&(p+="?alt=sse"),p}}function fp(s){const c=[];return s!=null&&s.apiClient&&c.push(s.apiClient),c.push(`${cp}/${up}`),c.join(" ")}async function pp(s){var c;const a=new Headers;a.append("Content-Type","application/json"),a.append("x-goog-api-client",fp(s.requestOptions)),a.append("x-goog-api-key",s.apiKey);let d=(c=s.requestOptions)===null||c===void 0?void 0:c.customHeaders;if(d){if(!(d instanceof Headers))try{d=new Headers(d)}catch(f){throw new un(`unable to convert customHeaders value ${JSON.stringify(d)} to Headers: ${f.message}`)}for(const[f,p]of d.entries()){if(f==="x-goog-api-key")throw new un(`Cannot set reserved header name ${f}`);if(f==="x-goog-api-client")throw new un(`Header name ${f} can only be set using the apiClient field`);a.append(f,p)}}return a}async function mp(s,c,a,d,f,p){const g=new dp(s,c,a,d,p);return{url:g.toString(),fetchOptions:Object.assign(Object.assign({},vp(p)),{method:"POST",headers:await pp(g),body:f})}}async function Br(s,c,a,d,f,p={},g=fetch){const{url:x,fetchOptions:_}=await mp(s,c,a,d,f,p);return hp(x,_,g)}async function hp(s,c,a=fetch){let d;try{d=await a(s,c)}catch(f){gp(f,s)}return d.ok||await yp(d,s),d}function gp(s,c){let a=s;throw a.name==="AbortError"?(a=new jc(`Request aborted when fetching ${c.toString()}: ${s.message}`),a.stack=s.stack):s instanceof Oc||s instanceof un||(a=new We(`Error fetching from ${c.toString()}: ${s.message}`),a.stack=s.stack),a}async function yp(s,c){let a="",d;try{const f=await s.json();a=f.error.message,f.error.details&&(a+=` ${JSON.stringify(f.error.details)}`,d=f.error.details)}catch{}throw new Oc(`Error fetching from ${c.toString()}: [${s.status} ${s.statusText}] ${a}`,s.status,s.statusText,d)}function vp(s){const c={};if((s==null?void 0:s.signal)!==void 0||(s==null?void 0:s.timeout)>=0){const a=new AbortController;(s==null?void 0:s.timeout)>=0&&setTimeout(()=>a.abort(),s.timeout),s!=null&&s.signal&&s.signal.addEventListener("abort",()=>{a.abort()}),c.signal=a.signal}return c}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Zl(s.candidates[0]))throw new Qn(`${an(s)}`,s);return xp(s)}else if(s.promptFeedback)throw new Qn(`Text not available. ${an(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Zl(s.candidates[0]))throw new Qn(`${an(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),yc(s)[0]}else if(s.promptFeedback)throw new Qn(`Function call not available. ${an(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Zl(s.candidates[0]))throw new Qn(`${an(s)}`,s);return yc(s)}else if(s.promptFeedback)throw new Qn(`Function call not available. ${an(s)}`,s)},s}function xp(s){var c,a,d,f;const p=[];if(!((a=(c=s.candidates)===null||c===void 0?void 0:c[0].content)===null||a===void 0)&&a.parts)for(const g of(f=(d=s.candidates)===null||d===void 0?void 0:d[0].content)===null||f===void 0?void 0:f.parts)g.text&&p.push(g.text),g.executableCode&&p.push("\n```"+g.executableCode.language+`
`+g.executableCode.code+"\n```\n"),g.codeExecutionResult&&p.push("\n```\n"+g.codeExecutionResult.output+"\n```\n");return p.length>0?p.join(""):""}function yc(s){var c,a,d,f;const p=[];if(!((a=(c=s.candidates)===null||c===void 0?void 0:c[0].content)===null||a===void 0)&&a.parts)for(const g of(f=(d=s.candidates)===null||d===void 0?void 0:d[0].content)===null||f===void 0?void 0:f.parts)g.functionCall&&p.push(g.functionCall);if(p.length>0)return p}const Ep=[zr.RECITATION,zr.SAFETY,zr.LANGUAGE];function Zl(s){return!!s.finishReason&&Ep.includes(s.finishReason)}function an(s){var c,a,d;let f="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)f+="Response was blocked",!((c=s.promptFeedback)===null||c===void 0)&&c.blockReason&&(f+=` due to ${s.promptFeedback.blockReason}`),!((a=s.promptFeedback)===null||a===void 0)&&a.blockReasonMessage&&(f+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((d=s.candidates)===null||d===void 0)&&d[0]){const p=s.candidates[0];Zl(p)&&(f+=`Candidate was blocked due to ${p.finishReason}`,p.finishMessage&&(f+=`: ${p.finishMessage}`))}return f}function Fr(s){return this instanceof Fr?(this.v=s,this):new Fr(s)}function Sp(s,c,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d=a.apply(s,c||[]),f,p=[];return f={},g("next"),g("throw"),g("return"),f[Symbol.asyncIterator]=function(){return this},f;function g(T){d[T]&&(f[T]=function(U){return new Promise(function(Y,z){p.push([T,U,Y,z])>1||x(T,U)})})}function x(T,U){try{_(d[T](U))}catch(Y){R(p[0][3],Y)}}function _(T){T.value instanceof Fr?Promise.resolve(T.value.v).then(A,w):R(p[0][2],T)}function A(T){x("next",T)}function w(T){x("throw",T)}function R(T,U){T(U),p.shift(),p.length&&x(p[0][0],p[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Np(s){const c=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),a=Cp(c),[d,f]=a.tee();return{stream:wp(d),response:_p(f)}}async function _p(s){const c=[],a=s.getReader();for(;;){const{done:d,value:f}=await a.read();if(d)return oi(Tp(c));c.push(f)}}function wp(s){return Sp(this,arguments,function*(){const a=s.getReader();for(;;){const{value:d,done:f}=yield Fr(a.read());if(f)break;yield yield Fr(oi(d))}})}function Cp(s){const c=s.getReader();return new ReadableStream({start(d){let f="";return p();function p(){return c.read().then(({value:g,done:x})=>{if(x){if(f.trim()){d.error(new We("Failed to parse stream"));return}d.close();return}f+=g;let _=f.match(vc),A;for(;_;){try{A=JSON.parse(_[1])}catch{d.error(new We(`Error parsing JSON response: "${_[1]}"`));return}d.enqueue(A),f=f.substring(_[0].length),_=f.match(vc)}return p()}).catch(g=>{let x=g;throw x.stack=g.stack,x.name==="AbortError"?x=new jc("Request aborted when reading from the stream"):x=new We("Error reading from the stream"),x})}}})}function Tp(s){const c=s[s.length-1],a={promptFeedback:c==null?void 0:c.promptFeedback};for(const d of s){if(d.candidates){let f=0;for(const p of d.candidates)if(a.candidates||(a.candidates=[]),a.candidates[f]||(a.candidates[f]={index:f}),a.candidates[f].citationMetadata=p.citationMetadata,a.candidates[f].groundingMetadata=p.groundingMetadata,a.candidates[f].finishReason=p.finishReason,a.candidates[f].finishMessage=p.finishMessage,a.candidates[f].safetyRatings=p.safetyRatings,p.content&&p.content.parts){a.candidates[f].content||(a.candidates[f].content={role:p.content.role||"user",parts:[]});const g={};for(const x of p.content.parts)x.text&&(g.text=x.text),x.functionCall&&(g.functionCall=x.functionCall),x.executableCode&&(g.executableCode=x.executableCode),x.codeExecutionResult&&(g.codeExecutionResult=x.codeExecutionResult),Object.keys(g).length===0&&(g.text=""),a.candidates[f].content.parts.push(g)}f++}d.usageMetadata&&(a.usageMetadata=d.usageMetadata)}return a}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(s,c,a,d){const f=await Br(c,_n.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(a),d);return Np(f)}async function Mc(s,c,a,d){const p=await(await Br(c,_n.GENERATE_CONTENT,s,!1,JSON.stringify(a),d)).json();return{response:oi(p)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function Gr(s){let c=[];if(typeof s=="string")c=[{text:s}];else for(const a of s)typeof a=="string"?c.push({text:a}):c.push(a);return Ip(c)}function Ip(s){const c={role:"user",parts:[]},a={role:"function",parts:[]};let d=!1,f=!1;for(const p of s)"functionResponse"in p?(a.parts.push(p),f=!0):(c.parts.push(p),d=!0);if(d&&f)throw new We("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!d&&!f)throw new We("No content is provided for sending chat message.");return d?c:a}function kp(s,c){var a;let d={model:c==null?void 0:c.model,generationConfig:c==null?void 0:c.generationConfig,safetySettings:c==null?void 0:c.safetySettings,tools:c==null?void 0:c.tools,toolConfig:c==null?void 0:c.toolConfig,systemInstruction:c==null?void 0:c.systemInstruction,cachedContent:(a=c==null?void 0:c.cachedContent)===null||a===void 0?void 0:a.name,contents:[]};const f=s.generateContentRequest!=null;if(s.contents){if(f)throw new un("CountTokensRequest must have one of contents or generateContentRequest, not both.");d.contents=s.contents}else if(f)d=Object.assign(Object.assign({},d),s.generateContentRequest);else{const p=Gr(s);d.contents=[p]}return{generateContentRequest:d}}function xc(s){let c;return s.contents?c=s:c={contents:[Gr(s)]},s.systemInstruction&&(c.systemInstruction=Uc(s.systemInstruction)),c}function Rp(s){return typeof s=="string"||Array.isArray(s)?{content:Gr(s)}:s}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Ap={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Op(s){let c=!1;for(const a of s){const{role:d,parts:f}=a;if(!c&&d!=="user")throw new We(`First content should be with role 'user', got ${d}`);if(!uc.includes(d))throw new We(`Each item should include role field. Got ${d} but valid roles are: ${JSON.stringify(uc)}`);if(!Array.isArray(f))throw new We("Content should have 'parts' property with an array of Parts");if(f.length===0)throw new We("Each Content should have at least one part");const p={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const x of f)for(const _ of Ec)_ in x&&(p[_]+=1);const g=Ap[d];for(const x of Ec)if(!g.includes(x)&&p[x]>0)throw new We(`Content with role '${d}' can't contain '${x}' part`);c=!0}}function Sc(s){var c;if(s.candidates===void 0||s.candidates.length===0)return!1;const a=(c=s.candidates[0])===null||c===void 0?void 0:c.content;if(a===void 0||a.parts===void 0||a.parts.length===0)return!1;for(const d of a.parts)if(d===void 0||Object.keys(d).length===0||d.text!==void 0&&d.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="SILENT_ERROR";class jp{constructor(c,a,d,f={}){this.model=a,this.params=d,this._requestOptions=f,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=c,d!=null&&d.history&&(Op(d.history),this._history=d.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(c,a={}){var d,f,p,g,x,_;await this._sendPromise;const A=Gr(c),w={safetySettings:(d=this.params)===null||d===void 0?void 0:d.safetySettings,generationConfig:(f=this.params)===null||f===void 0?void 0:f.generationConfig,tools:(p=this.params)===null||p===void 0?void 0:p.tools,toolConfig:(g=this.params)===null||g===void 0?void 0:g.toolConfig,systemInstruction:(x=this.params)===null||x===void 0?void 0:x.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,A]},R=Object.assign(Object.assign({},this._requestOptions),a);let T;return this._sendPromise=this._sendPromise.then(()=>Mc(this._apiKey,this.model,w,R)).then(U=>{var Y;if(Sc(U.response)){this._history.push(A);const z=Object.assign({parts:[],role:"model"},(Y=U.response.candidates)===null||Y===void 0?void 0:Y[0].content);this._history.push(z)}else{const z=an(U.response);z&&console.warn(`sendMessage() was unsuccessful. ${z}. Inspect response object for details.`)}T=U}).catch(U=>{throw this._sendPromise=Promise.resolve(),U}),await this._sendPromise,T}async sendMessageStream(c,a={}){var d,f,p,g,x,_;await this._sendPromise;const A=Gr(c),w={safetySettings:(d=this.params)===null||d===void 0?void 0:d.safetySettings,generationConfig:(f=this.params)===null||f===void 0?void 0:f.generationConfig,tools:(p=this.params)===null||p===void 0?void 0:p.tools,toolConfig:(g=this.params)===null||g===void 0?void 0:g.toolConfig,systemInstruction:(x=this.params)===null||x===void 0?void 0:x.systemInstruction,cachedContent:(_=this.params)===null||_===void 0?void 0:_.cachedContent,contents:[...this._history,A]},R=Object.assign(Object.assign({},this._requestOptions),a),T=Lc(this._apiKey,this.model,w,R);return this._sendPromise=this._sendPromise.then(()=>T).catch(U=>{throw new Error(Nc)}).then(U=>U.response).then(U=>{if(Sc(U)){this._history.push(A);const Y=Object.assign({},U.candidates[0].content);Y.role||(Y.role="model"),this._history.push(Y)}else{const Y=an(U);Y&&console.warn(`sendMessageStream() was unsuccessful. ${Y}. Inspect response object for details.`)}}).catch(U=>{U.message!==Nc&&console.error(U)}),T}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lp(s,c,a,d){return(await Br(c,_n.COUNT_TOKENS,s,!1,JSON.stringify(a),d)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(s,c,a,d){return(await Br(c,_n.EMBED_CONTENT,s,!1,JSON.stringify(a),d)).json()}async function Up(s,c,a,d){const f=a.requests.map(g=>Object.assign(Object.assign({},g),{model:c}));return(await Br(c,_n.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:f}),d)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(c,a,d={}){this.apiKey=c,this._requestOptions=d,a.model.includes("/")?this.model=a.model:this.model=`models/${a.model}`,this.generationConfig=a.generationConfig||{},this.safetySettings=a.safetySettings||[],this.tools=a.tools,this.toolConfig=a.toolConfig,this.systemInstruction=Uc(a.systemInstruction),this.cachedContent=a.cachedContent}async generateContent(c,a={}){var d;const f=xc(c),p=Object.assign(Object.assign({},this._requestOptions),a);return Mc(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(d=this.cachedContent)===null||d===void 0?void 0:d.name},f),p)}async generateContentStream(c,a={}){var d;const f=xc(c),p=Object.assign(Object.assign({},this._requestOptions),a);return Lc(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(d=this.cachedContent)===null||d===void 0?void 0:d.name},f),p)}startChat(c){var a;return new jp(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(a=this.cachedContent)===null||a===void 0?void 0:a.name},c),this._requestOptions)}async countTokens(c,a={}){const d=kp(c,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),f=Object.assign(Object.assign({},this._requestOptions),a);return Lp(this.apiKey,this.model,d,f)}async embedContent(c,a={}){const d=Rp(c),f=Object.assign(Object.assign({},this._requestOptions),a);return Mp(this.apiKey,this.model,d,f)}async batchEmbedContents(c,a={}){const d=Object.assign(Object.assign({},this._requestOptions),a);return Up(this.apiKey,this.model,c,d)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(c){this.apiKey=c}getGenerativeModel(c,a){if(!c.model)throw new We("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new _c(this.apiKey,c,a)}getGenerativeModelFromCachedContent(c,a,d){if(!c.name)throw new un("Cached content must contain a `name` field.");if(!c.model)throw new un("Cached content must contain a `model` field.");const f=["model","systemInstruction"];for(const g of f)if(a!=null&&a[g]&&c[g]&&(a==null?void 0:a[g])!==c[g]){if(g==="model"){const x=a.model.startsWith("models/")?a.model.replace("models/",""):a.model,_=c.model.startsWith("models/")?c.model.replace("models/",""):c.model;if(x===_)continue}throw new un(`Different value for "${g}" specified in modelParams (${a[g]}) and cachedContent (${c[g]})`)}const p=Object.assign(Object.assign({},a),{model:c.model,tools:c.tools,toolConfig:c.toolConfig,systemInstruction:c.systemInstruction,cachedContent:c});return new _c(this.apiKey,p,d)}}const Pp=`
You are the Game Master (GM) for an immersive text-based RPG called "Nexus RPG".
Your goal is to drive the narrative forward based on the user's actions and the current game state.

## ROLE & TONE
- Adapt your tone to the current genre (Sci-Fi: Technical, Cold; Horror: Suspenseful, Dark; Romance: Emotional, Poetic).
- Be descriptive but concise. Avoid overly long paragraphs.
- You are strictly a backend engine. You DO NOT output markdown or plain text directly. You ONLY output JSON.

## GAME RULES
1. **Stats**: Actions affect stats. Combat hurts 'health'. Hacking uses 'energy'. Horror reduces 'sanity'.
2. **Inventory**: Users can find items (add to inventory) or use them (remove/consume).
3. **Quest**: Update the quest objective when significant progress is made.
4. **Game Over**: If 'health' or 'sanity' drops to 0, set game_over: true.

## JSON RESPONSE FORMAT
You must strictly follow this JSON schema. Do not include markdown formatting (like \`\`\`json) in your response. Just the raw JSON string.

{
  "narrative": "The descriptive text of what happens next. Use HTML tags <b> for emphasis and <br> for line breaks if needed.",
  "outcome": "SUCCESS" | "FAILURE" | "NEUTRAL",
  "stat_updates": {
    "health": -10,
    "energy": 5,
    "sanity": -5
    // Only include stats that change
  },
  "inventory_updates": {
    "add": [
      { "name": "Item Name", "count": 1, "tags": ["tag1", "tag2"], "type": "tool|weapon|consumable|intel", "icon": "emoji" }
    ],
    "remove": ["Item Name to Remove"]
  },
  "quest_update": "New Quest Objective (or null if unchanged)",
  "environment_tags": ["FOREST" | "DUNGEON" | "CYBERPUNK" | "SPACE" | "HORROR" | "CITY" | "LAB"],
  "summary_update": "A concise 1-sentence summary of the latest event to append to the game log (or null)",
  "game_over": boolean,
  "visual_effect": {
    "color": "CSS_COLOR_OR_HEX",
    "keyframes": "CSS_KEYFRAMES_CONTENT (e.g. '0% { opacity: 1; } 50% { opacity: 0.5; }')",
    "animation": "CSS_ANIMATION_PROPS (e.g. '0.5s infinite alternate')",
    "font_style": "ADDITIONAL_CSS_STYLES"
  },
  "choices": [
    {
      "label": "Action Label (e.g. 'Hack Terminal')",
      "action": "The text to send as user action (e.g. 'hack terminal')",
      "type": "action|skill_check|dice|resource",
      "meta": { "probability": "60%", "stat": "intelligence", "cost": "10 energy" }
    }
  ]
}

IMPORTANT:
- "visual_effect" is OPTIONAL. Only use it for significant, emotional, or dramatic moments (e.g., damage, glitch, horror, shouting).
- If no effect is needed, omit the field or set it to null.
- "keyframes" should ONLY contain the content inside @keyframes.
- DO NOT apologize or explain yourself. Just output the JSON.

## INPUT CONTEXT
You will receive the current game state (stats, inventory, quest, history) and the user's latest action.
Use this context to maintain continuity.
`,wc={horror:{narrative:"You wake up on the cold floor of an old hospital. The smell of antiseptic mixes with a faint stench of decay. The flashlight in your hand flickers weakly, the only source of light in this oppressive darkness.",outcome:"NEUTRAL",stats_set:{health:60,stamina:40,sanity:100},inventory_set:[{name:"Rusty Flashlight",count:1,tags:["tool","light"],type:"tool",icon:"",value:100,max_value:100},{name:"Dirty Bandage",count:2,tags:["consumable","heal"],type:"consumable",icon:""},{name:"Old Key",count:1,tags:["key","rusty"],type:"key",icon:""}],quest_update:"Find a way out of Ward 4",game_over:!1,theme_config:{main:"#0a0505",accent:"#dc2626"}},romance:{narrative:"The evening breeze blows gently in the Neo-Kyoto city park. You hold the rose-scented letter with trembling hands. She promised to come today, under this hologram cherry blossom tree.",outcome:"NEUTRAL",stats_set:{mood:80,energy:100,charm:50},inventory_set:[{name:"Golden Locket",count:1,tags:["keepsake","memory"],type:"keepsake",icon:""},{name:"Perfumed Letter",count:1,tags:["intel","paper"],type:"intel",icon:""},{name:"Red Rose",count:1,tags:["gift","flower"],type:"gift",icon:""}],quest_update:"Wait for 'Her' arrival",game_over:!1,theme_config:{main:"#1f1016",accent:"#db2777"}},scifi:{narrative:"Neon rain soaks your synthetic jacket. Police drones patrol overhead, scanning every corner of this dark alley. Your mission has just begun.",outcome:"NEUTRAL",stats_set:{health:100,energy:100,shield:100},inventory_set:[{name:"Plasma Cutter",count:1,tags:["tool","heat","weapon"],type:"tool",icon:""},{name:"Stimpack",count:3,tags:["consumable","heal"],type:"consumable",icon:""},{name:"Encrypted Datapad",count:1,tags:["intel","encrypted"],type:"intel",icon:""}],quest_update:"Meet Contact in Sector 7",game_over:!1,theme_config:{main:"#09090b",accent:"#4f46e5"}}},bp=(s,c)=>{var f;const a=s.toLowerCase();if(a.startsWith("mock:")){const p=(f=a.split(":")[1])==null?void 0:f.trim();if(p==="success")return{narrative:"[MOCK] Critical Success! The system responds perfectly to your input.",outcome:"SUCCESS",stat_updates:{energy:-5,experience:10},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Continue",action:"continue",type:"action"}]};if(p==="fail")return{narrative:"[MOCK] Critical Failure! Sparks fly and you take damage.",outcome:"FAILURE",stat_updates:{health:-15,energy:-5},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Recover",action:"recover",type:"action"}]};if(p==="loot")return{narrative:"[MOCK] You found a hidden cache of supplies.",outcome:"SUCCESS",stat_updates:{},inventory_updates:{add:[{name:"Mock Item "+Math.floor(Math.random()*100),count:1,type:"resource",icon:""},{name:"Rare Chip",count:1,type:"intel",icon:""}],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Take All",action:"take all",type:"action"}]};if(p==="cards")return{narrative:"[MOCK] Testing Action Cards display. All types generated.",outcome:"NEUTRAL",stat_updates:{},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Standard Action",action:"test action",type:"action"},{label:"Skill Check (High)",action:"test skill",type:"skill_check",meta:{probability:"85%",stat:"tech"}},{label:"Dice Roll",action:"test dice",type:"dice",meta:{probability:"Roll > 15"}},{label:"Resource Cost",action:"test cost",type:"resource",meta:{cost:"2 Energy"}}]};if(p==="delay")return{narrative:"[MOCK] Response received after simulated delay.",outcome:"NEUTRAL",stat_updates:{},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[{label:"Continue",action:"continue",type:"action"}]}}let d={narrative:`[MOCK] You perform: "${s}". The simulation reacts accordingly.`,outcome:"NEUTRAL",stat_updates:{energy:-1},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1,choices:[]};return a.includes("hack")?(d.narrative="[MOCK] You jack into the console. Sparks fly as you bypass the firewall.",d.outcome="SUCCESS",d.stat_updates={energy:-10,intelligence:1}):a.includes("force")||a.includes("attack")?(d.narrative="[MOCK] You smash it open! But you hurt your hand in the process.",d.outcome="FAILURE",d.stat_updates={health:-5,strength:1}):a.includes("scan")?(d.narrative="[MOCK] Scanning area... Life signs detected.",d.outcome="NEUTRAL",d.stat_updates={energy:-2}):a.includes("heal")&&(d.narrative="[MOCK] You use a medkit. Feeling better.",d.outcome="SUCCESS",d.stat_updates={health:20}),d.choices=[{label:"Scan Area",action:"scan area",type:"action"},{label:"Hack Console",action:"hack console",type:"skill_check",meta:{probability:"45%",stat:"tech"}},{label:"Force Open",action:"force open",type:"dice",meta:{probability:"Roll > 10"}},{label:"Use Medkit",action:"heal self",type:"resource",meta:{cost:"1 Item"}}],d},Dp=async()=>(await new Promise(s=>setTimeout(s,1500)),{suggested_names:["Kael","Vex","Orion","Lyra","Zane"],roles:[{id:"soldier",name:"Vanguard",description:"A frontline specialist equipped for heavy combat.",stats:{health:120,energy:80,shield:50},starting_items:[{name:"Pulse Rifle",count:1,type:"weapon",icon:""},{name:"Medkit",count:2,type:"consumable",icon:""}]},{id:"hacker",name:"Netrunner",description:"A master of digital warfare and infiltration.",stats:{health:80,energy:120,shield:30,processing:90},starting_items:[{name:"Cyberdeck",count:1,type:"tool",icon:""},{name:"Energy Cell",count:3,type:"resource",icon:""}]},{id:"scout",name:"Pathfinder",description:"Agile and observant, skilled in survival.",stats:{health:100,stamina:100,stealth:75},starting_items:[{name:"Combat Knife",count:1,type:"weapon",icon:""},{name:"Scanner",count:1,type:"tool",icon:""}]}],intro_narrative:"The simulation initializes. Your identity constructs are forming..."}),Pc=s=>{const c=Object.keys(Gt).find(a=>a.toLowerCase()===(s||"English").toLowerCase())||"English";return Gt[c]},zp=async(s,c,a)=>{const d=Pc(a.language);if(c.startsWith("SYSTEM_INIT_GENRE:")){const f=c.split(":")[1].trim().toLowerCase(),p=Object.keys(wc).find(x=>f.startsWith(x))||"scifi",g=wc[p];if(c.includes("|NAME:")){const{stats_set:x,inventory_set:_,...A}=g;return A}return g}if(!s)throw new Error(d.API_ERRORS.MISSING_KEY);if(a.isMockMode)return bp(c);try{const p=new no(s).getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{responseMimeType:"application/json"},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}]}),g=`
${Pp}

## CURRENT STATE
Genre: ${a.genre}
Quest: ${a.quest}
Stats: ${JSON.stringify(a.stats)}
Inventory: ${JSON.stringify(a.inventory.map(w=>w.name))}
Summary So Far: ${a.summary}

## RECENT HISTORY
${a.history.slice(-5).map(w=>`${w.role.toUpperCase()}: ${w.content}`).join(`
`)}

## USER ACTION
${c}

## LANGUAGE
Reply in this language: ${a.language||"English"}
`,A=(await(await p.generateContent(g)).response).text();try{return JSON.parse(A)}catch{return console.error("Failed to parse LLM response:",A),{narrative:"The system glitched. Data corruption detected. (JSON Parse Error)",outcome:"NEUTRAL",stat_updates:{},inventory_updates:{add:[],remove:[]},quest_update:null,game_over:!1}}}catch(f){throw console.error("Gemini API Error:",f),f}},Fp=async(s,c)=>{const a=Pc(c);if(!s)throw new Error(a.API_ERRORS.EMPTY_KEY);try{return await new no(s).getGenerativeModel({model:"gemini-2.5-flash"}).generateContent("Test connection"),!0}catch(d){console.error("API Test Error:",d);let f=a.API_ERRORS.UNKNOWN_ERROR;throw d.message.includes("400")?f=a.API_ERRORS.INVALID_KEY:d.message.includes("403")?f=a.API_ERRORS.ACCESS_DENIED:d.message.includes("429")?f=a.API_ERRORS.QUOTA_EXCEEDED:d.message.includes("500")?f=a.API_ERRORS.SERVER_ERROR:d.message.includes("503")?f=a.API_ERRORS.SERVICE_UNAVAILABLE:d.message.includes("fetch failed")?f=a.API_ERRORS.NETWORK_ERROR:f=d.message||a.API_ERRORS.DEFAULT_FAIL,new Error(f)}},Gp=["HEADER","SIDEBAR","MENU","INPUT_PLACEHOLDER","INPUT_FOOTER","STATS","NARRATIVE","GENRE_SELECTION","GENRES","CHARACTER_CREATION"],Bp=s=>{const c={},a={};return Object.keys(s).forEach(d=>{Gp.includes(d)?c[d]=s[d]:a[d]=s[d]}),{critical:c,secondary:a}},Hp=async(s,c,a)=>{const d=localStorage.getItem("nexus_mock_mode")==="true";if(!s&&!d)throw new Error("API Key missing. Please configure in Settings or enable Mock Mode.");if(localStorage.getItem("nexus_mock_mode")==="true")return Dp();const p=new no(s).getGenerativeModel({model:"gemini-2.5-flash"}),g=`
    Generate a JSON object for a Sci-Fi RPG Character Creation screen.
    Genre: ${c}
    Language: ${a}

    Output JSON Structure:
    {
        "suggested_names": ["Name1", "Name2", ...],
        "roles": [
            {
                "id": "role_id",
                "name": "Role Name",
                "description": "Short description",
                "stats": { "health": 100, "energy": 100, "stat3": 50, "stat4": 50 },
                "starting_items": [
                    { "name": "Item Name", "count": 1, "type": "tool/weapon/consumable", "icon": "emoji" }
                ]
            }
        ],
        "intro_narrative": "Short atmospheric text setting the scene for character creation."
    }
    
    Provide 3 distinct roles (e.g., Combat, Tech, Stealth/Social).
    Ensure items have valid types and emojis.
    IMPORTANT: Generate 3-5 vital statistics relevant to the genre (e.g., Sanity for Horror, Charm for Romance, Shield for Sci-Fi). Do NOT limit to just health/energy.
    `;try{const w=(await(await p.generateContent(g)).response).text().match(/\{[\s\S]*\}/);if(w)return JSON.parse(w[0]);throw new Error("Failed to parse JSON")}catch(x){throw console.error("Setup Generation Error:",x),x}},bc=async(s,c,a)=>{if(!s)throw new Error("API Key Missing");if(localStorage.getItem("nexus_mock_mode")==="true")return a;try{const f=new no(s).getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{responseMimeType:"application/json"},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}]}),p=`
You are a professional translator for a Sci-Fi RPG Game UI.
Translate the following JSON object values into this language: "${c}".
Do NOT translate keys. Keep the structure exactly the same.
Maintain the tone: Sci-Fi, Cyberpunk, Serious, Immersive.

IMPORTANT RULES:
1. Use FORMAL, STANDARD language only.
2. STRICTLY FORBID slang, informal, or "gaul" language.
3. If the requested language is a slang variant (e.g., "Bahasa Gaul", "Slang"), translate it to the STANDARD FORMAL version of that language (e.g., standard Indonesian).
4. Ensure terminology fits a futuristic sci-fi setting.

Source JSON:
${JSON.stringify(a,null,2)}
`,A=(await(await f.generateContent(p)).response).text().match(/\{[\s\S]*\}/);return A?JSON.parse(A[0]):a}catch(d){return console.error("Translation Error:",d),a}},Cc={"/visual":`SYSTEM OVERRIDE: The user is testing the visual engine. 
    GENERATE a narrative about a beautiful, hallucinogenic visual phenomenon.
    MUST include a "visual_effect" object with:
    - color: A vibrant neon color (e.g. #00ffcc or #ff00ff).
    - keyframes: Complex CSS keyframes for a flowing or pulsing animation.
    - animation: "3s infinite alternate".
    - font_style: "letter-spacing: 2px; font-weight: bold;"`,"/glitch":`SYSTEM OVERRIDE: CRITICAL SYSTEM FAILURE DETECTED.
    GENERATE a narrative about a digital corruption or hacking event.
    MUST include a "visual_effect" object with:
    - color: #00ff00 (Matrix green) or #ff00ff (Cyberpunk pink).
    - keyframes: "0% { transform: translate(0); } 20% { transform: translate(-2px, 2px); } 40% { transform: translate(-2px, -2px); } 60% { transform: translate(2px, 2px); } 80% { transform: translate(2px, -2px); } 100% { transform: translate(0); }"
    - animation: "0.2s infinite".
    - font_style: "font-family: monospace;"`,"/horror":`SYSTEM OVERRIDE: PSYCHOLOGICAL THREAT DETECTED.
    GENERATE a narrative about a terrifying, unseen presence.
    MUST include a "visual_effect" object with:
    - color: #ff0000 (Blood red).
    - keyframes: "0% { opacity: 1; transform: scale(1); } 50% { opacity: 0.7; transform: scale(1.05); } 100% { opacity: 1; transform: scale(1); }"
    - animation: "3s infinite ease-in-out".
    - font_style: "font-family: serif; font-style: italic;"`,"/shake":`SYSTEM OVERRIDE: IMPACT DETECTED.
    GENERATE a narrative about an explosion or earthquake.
    MUST include a "visual_effect" object with:
    - color: #ffaa00 (Orange).
    - keyframes: "0% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); } 20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); } 40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); } 60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); } 80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); } 100% { transform: translate(1px, -2px) rotate(-1deg); }"
    - animation: "0.5s infinite".
    - font_style: "font-weight: 900; text-transform: uppercase;"`,"/combo":`SYSTEM OVERRIDE: CRITICAL MOMENT - COMBO UNLOCKED.
    GENERATE a narrative where the player has a fleeting opportunity to combine actions.
    MUST include:
    - "allow_combo": true
    - "narrative": "TIME DILATION ACTIVE. You spot a critical weakness. Combine your actions now!"
    - "visual_effect": { "color": "#00ffff", "animation": "pulse 1s infinite" }`};function $p(s,c){const{stats:a,setStats:d,inventory:f,setInventory:p,quest:g,setQuest:x,genre:_,setGenre:A,environment:w,setEnvironment:R,gameOver:T,setGameOver:U,history:Y,setHistory:z,summary:W,setSummary:ce,isProcessing:se,setIsProcessing:de,setLastOutcome:F,apiKey:te,language:ue,setChoices:ie,isMockMode:Se,qteActive:Qe,setQteActive:Le,feedback:qe,setFeedback:Ae,allowCombo:Me,setAllowCombo:Ue}=s,[Pe,ge]=j.useState(null),me=j.useCallback(H=>{d(J=>{const $={...J};return Object.entries(H).forEach(([X,Z])=>{$[X]!==void 0&&($[X]=Math.max(0,Math.min(100,$[X]+Z)))}),$.health!==void 0&&$.health<=0&&U(!0),$})},[d,U]),M=j.useCallback(H=>{p(J=>{let $=[...J];return H.add&&H.add.forEach(X=>{const Z=$.find(ae=>ae.name===X.name);Z?Z.count++:$.push({name:X.name,count:1,tags:X.tags||[],type:X.type||"misc",icon:X.icon||""})}),H.remove&&H.remove.forEach(X=>{const Z=$.findIndex(ae=>ae.name===X);Z!==-1&&($[Z].count>1?$[Z].count--:$.splice(Z,1))}),$})},[p]),G=j.useCallback(async H=>{const J=H.startsWith("SYSTEM_INIT_GENRE:");if(!H.trim()||se||Pe||T&&!J)return;const $={id:Date.now(),role:"user",content:H.startsWith("inspect:")?ve.UI.TEMPLATES.ACTION_INSPECT.replace("{0}",H.split(":")[1]):H,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};J||z(X=>[...X,$]),ie([]),de(!0);try{const X={stats:a,inventory:f,quest:g,history:Y,summary:W,genre:_,language:ue,isMockMode:Se};if(!J&&!te&&!Se)throw new Error("API_KEY_MISSING");Se&&H.toLowerCase().includes("mock:delay")&&await new Promise(ke=>setTimeout(ke,3e3));let Z=H;const ae=H.trim().toLowerCase();Cc[ae]&&(console.log(`Executing Slash Command: ${ae}`),Z=Cc[ae]);const ne=await zp(te,Z,X);console.log("LLM Raw Response:",ne),de(!1);const be=ne.outcome||"NEUTRAL";ge(be),await new Promise(ke=>setTimeout(ke,1500)),ge(null),ne.outcome&&ne.outcome!=="NEUTRAL"&&(F(ne.outcome),setTimeout(()=>F(null),1e3)),ne.stats_set&&d(ne.stats_set),ne.stat_updates&&me(ne.stat_updates),ne.inventory_updates&&M(ne.inventory_updates),ne.inventory_set&&p(ne.inventory_set),ne.quest_update&&x(ne.quest_update),ne.summary_update&&ce(ke=>ke.includes(ne.summary_update)?ke:ke+" "+ne.summary_update),ne.environment_tags&&ne.environment_tags.length>0?(console.log("Environment Tags Detected:",ne.environment_tags),R(ne.environment_tags[0])):console.log("No Environment Tags in Response"),ne.game_over&&U(!0);const Ge={id:Date.now()+1,role:"ai",content:ne.narrative,visual_effect:ne.visual_effect||null,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};z(ke=>[...ke,Ge]),ne.choices&&Array.isArray(ne.choices)?ie(ne.choices):ie([]),ne.allow_combo?(Ue(!0),re("COMBO UNLOCKED!","text-cyan-400")):Ue(!1)}catch(X){console.error("LLM Error:",X),de(!1),ge(null);let Z=`Error: Connection to Neural Link lost. (${X.message})`;X.message==="API_KEY_MISSING"&&(Z="SYSTEM ERROR: API Key Missing. Please configure it in Settings."),z(ae=>[...ae,{id:Date.now()+2,role:"system",content:Z,timestamp:new Date().toLocaleTimeString()}])}},[a,f,g,se,Pe,T,Y,W,z,de,F,d,p,x,U,te,_,me,M,Se,ue]),P=j.useCallback(H=>{const{name:J,role:$,items:X}=H;d($.stats||{health:100,energy:100,shield:0}),p(X||[]),s.setPlayerName&&s.setPlayerName(J),s.setPlayerRole&&s.setPlayerRole($.name),s.setInitialCharacterData&&s.setInitialCharacterData(H);const Z=`SYSTEM_INIT_GENRE:${_}|NAME:${J}|ROLE:${$.name}|BIO:${$.description}`;G(Z)},[_,G,d,p,s]),v=j.useCallback((H,J=!1)=>{const $=typeof H=="string"?H:_||"scifi";!J&&s.initialCharacterData?(d({health:100,energy:100,shield:100}),p([]),x(ve.CONTENT.QUEST_INIT),z([]),U(!1),A($),ce(ve.CONTENT.SUMMARY_INIT),P(s.initialCharacterData)):(d({health:100,energy:100,shield:100}),p([]),x(ve.CONTENT.QUEST_INIT),z([]),U(!1),A($),ce(ve.CONTENT.SUMMARY_INIT),s.setInitialCharacterData&&s.setInitialCharacterData(null))},[_,d,p,x,z,U,A,ce,s.initialCharacterData,P,s]),C=j.useCallback(()=>{localStorage.removeItem(c),d({health:80,energy:60,shield:40}),p([]),x(ve.CONTENT.QUEST_DEFAULT),A("default"),z([]),U(!1),ce(ve.CONTENT.SUMMARY_INIT)},[c,d,p,x,A,z,U,ce]),re=j.useCallback((H,J="text-blue-400")=>{Ae({msg:H,color:J}),setTimeout(()=>Ae(null),2e3)},[Ae]);return{handleAction:G,resetGame:v,initializeGame:P,quitGame:C,suspenseOutcome:Pe,qteActive:Qe,setQteActive:Le,feedback:qe,triggerFeedback:re}}function Vp(){const s=rp(),{STORAGE_KEY:c}=s,{exportSave:a,importSave:d,saveGame:f,loadGame:p}=sp(s,c),{handleAction:g,resetGame:x,initializeGame:_,quitGame:A,suspenseOutcome:w,triggerFeedback:R}=$p(s,c);return{stats:s.stats,inventory:s.inventory,quest:s.quest,history:s.history,isProcessing:s.isProcessing,suspenseOutcome:w,genre:s.genre,environment:s.environment,lastOutcome:s.lastOutcome,gameOver:s.gameOver,choices:s.choices,playerName:s.playerName,playerRole:s.playerRole,setupData:s.setupData,setSetupData:s.setSetupData,initialCharacterData:s.initialCharacterData,setInitialCharacterData:s.setInitialCharacterData,handleAction:g,resetGame:x,initializeGame:_,setGenre:s.setGenre,quitGame:A,exportSave:a,importSave:d,saveGame:f,loadGame:p,apiKey:s.apiKey,setApiKey:s.setApiKey,language:s.language,setLanguage:s.setLanguage,uiText:s.uiText,updateUiText:s.updateUiText,isMockMode:s.isMockMode,setIsMockMode:s.setIsMockMode,setStats:s.setStats,setInventory:s.setInventory,setGameOver:s.setGameOver,setChoices:s.setChoices,setLastOutcome:s.setLastOutcome,qteActive:s.qteActive,setQteActive:s.setQteActive,feedback:s.feedback,triggerFeedback:R,allowCombo:s.allowCombo}}const Dc=j.createContext(null),Kp=({children:s})=>{const c=Vp();return i.jsx(Dc.Provider,{value:c,children:s})},Ze=()=>{const s=j.useContext(Dc);if(!s)throw new Error("useGame must be used within a GameProvider");return s};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wp=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,a,d)=>d?d.toUpperCase():a.toLowerCase()),Tc=s=>{const c=Wp(s);return c.charAt(0).toUpperCase()+c.slice(1)},zc=(...s)=>s.filter((c,a,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===a).join(" ").trim(),Qp=s=>{for(const c in s)if(c.startsWith("aria-")||c==="role"||c==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=j.forwardRef(({color:s="currentColor",size:c=24,strokeWidth:a=2,absoluteStrokeWidth:d,className:f="",children:p,iconNode:g,...x},_)=>j.createElement("svg",{ref:_,...qp,width:c,height:c,stroke:s,strokeWidth:d?Number(a)*24/Number(c):a,className:zc("lucide",f),...!p&&!Qp(x)&&{"aria-hidden":"true"},...x},[...g.map(([A,w])=>j.createElement(A,w)),...Array.isArray(p)?p:[p]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(s,c)=>{const a=j.forwardRef(({className:d,...f},p)=>j.createElement(Xp,{ref:p,iconNode:c,className:zc(`lucide-${Yp(Tc(s))}`,`lucide-${s}`,d),...f}));return a.displayName=Tc(s),a};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ni=le("activity",Jp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],em=le("arrow-left",Zp);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ri=le("box",tm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],rm=le("briefcase",nm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],om=le("bug",lm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fc=le("check",sm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gc=le("chevron-right",im);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],um=le("circle-alert",am);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],dm=le("circle-check",cm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pm=le("circle-play",fm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hm=le("circle-x",mm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],ym=le("cpu",gm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],xm=le("crosshair",vm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]],Sm=le("dice-5",Em);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],_m=le("dices",Nm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Cm=le("download",wm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Im=le("ellipsis",Tm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Rm=le("eye-off",km);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bc=le("eye",Am);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jm=le("globe",Om);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Mm=le("hash",Lm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],si=le("heart",Um);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],bm=le("key",Pm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],Ic=le("keyboard",Dm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],eo=le("loader-circle",zm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Gm=le("menu",Fm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],Hm=le("octagon-alert",Bm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $m=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kc=le("plus",$m);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Km=le("save",Vm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wm=le("send",Ym);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qm=le("settings",Qm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Hr=le("shield",Xm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Hc=le("skull",Jm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],eh=le("swords",Zm);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],nh=le("toggle-left",th);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],lh=le("toggle-right",rh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sh=le("trash-2",oh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$c=le("triangle-alert",ih);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],uh=le("upload",ah);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Vc=le("user",ch);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dh=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xn=le("x",dh);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jt=le("zap",fh);function ph({isOpen:s,onClose:c,onSave:a}){const{uiText:d,updateUiText:f}=Ze(),[p,g]=j.useState(""),[x,_]=j.useState(!1),[A,w]=j.useState("English"),[R,T]=j.useState("idle"),[U,Y]=j.useState(""),[z,W]=j.useState(!1);j.useEffect(()=>{if(s){const F=localStorage.getItem("nexus_api_key"),te=localStorage.getItem("nexus_language");F&&g(F),te&&w(te),T("idle"),Y(""),W(!1)}},[s]);const ce=async()=>{if(!p.trim()){T("error"),Y(d.UI.API_MODAL.ERR_EMPTY);return}T("testing"),Y(d.UI.API_MODAL.STATUS_TESTING);try{await Fp(p.trim(),A),T("success"),Y(d.UI.API_MODAL.STATUS_SUCCESS)}catch(F){T("error"),Y(F.message)}},se=async()=>{if(!p.trim())return;const F=p.trim(),te=A.trim();if(!Object.keys(Gt).some(ie=>ie.toLowerCase()===te.toLowerCase())){W(!0);try{const{critical:ie,secondary:Se}=Bp(Gt.English),Qe=await bc(F,te,ie),Le={...Gt.English,...Qe};f(te,Le),localStorage.setItem("nexus_api_key",F),localStorage.setItem("nexus_language",te),a(F,te),c();return}catch(ie){console.error("Translation Failed",ie),T("error"),Y("Translation failed. UI will remain English."),W(!1);return}}localStorage.setItem("nexus_api_key",F),localStorage.setItem("nexus_language",te),a(F,te),c()},de=R==="success";return s?i.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-theme-panel border border-theme-border rounded-2xl p-6 w-full max-w-md shadow-2xl relative overflow-hidden",children:[i.jsx("button",{onClick:c,className:"absolute right-4 top-4 text-theme-muted hover:text-theme-text transition-colors z-20",disabled:z,children:i.jsx(Xn,{size:20})}),i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-theme-accent/10 blur-3xl rounded-full pointer-events-none"}),i.jsxs("div",{className:"relative z-10 space-y-6",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-12 h-12 bg-theme-accent/20 rounded-full flex items-center justify-center mx-auto text-theme-accent mb-4",children:i.jsx(bm,{size:24})}),i.jsx("h2",{className:"text-xl font-bold text-theme-text",children:d.UI.API_MODAL.TITLE}),i.jsx("p",{className:"text-xs text-theme-muted",children:d.UI.API_MODAL.SUBTITLE})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:x?"text":"password",value:p,onChange:F=>{g(F.target.value),T("idle")},disabled:z,placeholder:d.UI.API_MODAL.PLACEHOLDER,className:"w-full bg-black/40 text-theme-text placeholder:text-theme-muted/50 px-4 py-3 rounded-xl border border-theme-border focus:border-theme-accent focus:ring-1 focus:ring-theme-accent outline-none transition-all font-mono text-sm pr-12"}),i.jsx("button",{onClick:()=>_(!x),className:"absolute right-10 top-1/2 -translate-y-1/2 text-theme-muted hover:text-theme-text p-2",disabled:z,children:x?i.jsx(Rm,{size:16}):i.jsx(Bc,{size:16})}),R==="success"&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-emerald-500",children:i.jsx(dm,{size:18})}),R==="error"&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500",children:i.jsx(um,{size:18})})]}),U&&i.jsxs("div",{className:`text-xs flex items-center gap-2 ${R==="error"?"text-red-400":R==="success"?"text-emerald-400":"text-theme-accent"}`,children:[R==="testing"&&i.jsx(eo,{size:14,className:"animate-spin"}),U]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-xs font-medium text-theme-muted uppercase tracking-wider flex items-center justify-between",children:[d.UI.API_MODAL.LANGUAGE_LABEL,z&&i.jsxs("span",{className:"text-theme-accent animate-pulse flex items-center gap-1",children:[i.jsx(jm,{size:12})," Translating UI..."]})]}),i.jsx("input",{type:"text",value:A,onChange:F=>w(F.target.value),disabled:!de||z,placeholder:d.UI.API_MODAL.LANGUAGE_PLACEHOLDER,className:`w-full bg-black/40 text-theme-text px-4 py-3 rounded-xl border border-theme-border outline-none transition-all text-sm ${!de||z?"opacity-50 cursor-not-allowed":"focus:border-theme-accent focus:ring-1 focus:ring-theme-accent"}`})]}),i.jsxs("div",{className:"bg-theme-accent/5 border border-theme-accent/10 rounded-lg p-3 flex gap-3 items-start",children:[i.jsx(Hr,{size:16,className:"text-theme-accent shrink-0 mt-0.5"}),i.jsx("p",{className:"text-[10px] text-theme-muted leading-relaxed",children:d.UI.API_MODAL.PRIVACY_NOTE})]})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsxs("button",{onClick:ce,disabled:R==="testing"||!p.trim()||z,className:"flex-1 px-4 py-2.5 rounded-xl border border-theme-border text-theme-text hover:bg-theme-panel transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[R==="testing"&&i.jsx(eo,{size:16,className:"animate-spin"}),d.UI.API_MODAL.BTN_TEST]}),i.jsxs("button",{onClick:se,disabled:!p.trim()||z,className:"flex-1 px-4 py-2.5 rounded-xl bg-theme-accent hover:bg-theme-accent/90 text-white transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-theme-accent/20 flex items-center justify-center gap-2",children:[z?i.jsx(eo,{size:18,className:"animate-spin"}):i.jsx(Km,{size:18}),z?"Translating...":d.UI.API_MODAL.BTN_SAVE]})]})]})]})}):null}function Kc({isOpen:s,title:c,message:a,onConfirm:d,onCancel:f,confirmLabel:p="Confirm",cancelLabel:g="Cancel",variant:x="warning"}){if(!s)return null;const _=x==="danger",A=_?Hm:$c;return i.jsx("div",{className:"fixed inset-0 z-[100] bg-black/90 backdrop-blur-sm flex items-center justify-center p-4 animate-in fade-in duration-200",children:i.jsxs("div",{className:`bg-theme-panel border rounded-2xl p-6 w-full max-w-sm shadow-2xl relative overflow-hidden animate-in zoom-in-95 duration-300 ${_?"border-red-500/30":"border-yellow-500/30"}`,onClick:w=>w.stopPropagation(),children:[i.jsx("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 blur-3xl rounded-full pointer-events-none opacity-20 ${_?"bg-red-500":"bg-yellow-500"}`}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-4",children:[i.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-2 ${_?"bg-red-500/20 text-red-500":"bg-yellow-500/20 text-yellow-500"}`,children:i.jsx(A,{size:32})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-theme-text mb-2 tracking-wide uppercase",children:c}),i.jsx("p",{className:"text-sm text-theme-muted leading-relaxed",children:a})]}),i.jsxs("div",{className:"flex gap-3 w-full mt-4",children:[i.jsxs("button",{onClick:f,className:"flex-1 px-4 py-3 rounded-xl border border-theme-border text-theme-muted hover:text-theme-text hover:bg-theme-panel transition-colors flex items-center justify-center gap-2 font-medium",children:[i.jsx(Xn,{size:18}),g]}),i.jsxs("button",{onClick:d,className:`flex-1 px-4 py-3 rounded-xl text-white font-bold transition-all hover:scale-105 flex items-center justify-center gap-2 shadow-lg ${_?"bg-red-600 hover:bg-red-700 shadow-red-900/20":"bg-yellow-600 hover:bg-yellow-700 shadow-yellow-900/20"}`,children:[i.jsx(Fc,{size:18}),p]})]})]})]})})}function mh({uiText:s}){return i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx("h1",{className:"text-4xl md:text-7xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 animate-pulse tracking-tighter py-2",children:s.UI.GENRE_SELECTION.TITLE}),i.jsx("p",{className:"text-theme-muted text-base md:text-xl max-w-2xl mx-auto px-4",children:s.UI.GENRE_SELECTION.SUBTITLE})]})}function hh({hasActiveGame:s,gameOver:c,onContinue:a,uiText:d}){return s?i.jsx("div",{className:"flex justify-center animate-in fade-in slide-in-from-bottom-4 duration-700 sticky top-4 z-20 md:static",children:i.jsxs("button",{onClick:a,className:"group relative px-6 py-3 md:px-8 md:py-4 bg-theme-accent/20 hover:bg-theme-accent/30 border border-theme-accent/50 rounded-xl flex items-center gap-4 transition-all hover:scale-105 hover:shadow-[0_0_30px_rgba(79,70,229,0.3)] backdrop-blur-md",children:[i.jsx("div",{className:"p-2 bg-theme-accent rounded-full text-white group-hover:animate-pulse",children:i.jsx(pm,{size:24})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-xs md:text-sm text-theme-accent font-medium tracking-wider",children:d.UI.GENRE_SELECTION.LABEL_ACTIVE}),i.jsx("div",{className:"text-lg md:text-xl font-bold text-white",children:d.UI.GENRE_SELECTION.BTN_RESUME})]})]})}):c?i.jsx("div",{className:"flex justify-center animate-in fade-in slide-in-from-bottom-4 duration-700",children:i.jsxs("div",{className:"px-6 py-3 bg-red-900/20 border border-red-500/30 rounded-xl flex items-center gap-3",children:[i.jsx(Hc,{size:20,className:"text-red-500"}),i.jsx("span",{className:"text-red-400 font-medium",children:d.UI.GENRE_SELECTION.STATUS_GAME_OVER})]})}):null}function gh({genres:s,handleGenreClick:c}){return i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 px-2",children:s.map(a=>i.jsxs("button",{onClick:()=>c(a.id),className:"group relative h-48 md:h-64 rounded-2xl overflow-hidden border border-white/10 hover:border-white/30 transition-all hover:scale-105 shrink-0",children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${a.color} opacity-20 group-hover:opacity-40 transition-opacity`}),i.jsxs("div",{className:"absolute inset-0 p-6 flex flex-col items-center justify-center text-center gap-2 md:gap-4",children:[i.jsx("div",{className:"text-4xl md:text-6xl mb-2 transform group-hover:scale-110 transition-transform duration-500",children:a.icon}),i.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white",children:a.label}),i.jsx("p",{className:"text-xs md:text-sm text-gray-300 line-clamp-2",children:a.desc})]})]},a.id))})}function yh({onSelect:s,onContinue:c}){const[a,d]=j.useState(!1),[f,p]=j.useState(null),{setApiKey:g,setLanguage:x,history:_,gameOver:A,uiText:w,setSetupData:R}=Ze(),T=_&&_.length>0&&!A,U=W=>{T?p(W):(R&&R(null),s(W))},Y=()=>{f&&(R&&R(null),s(f),p(null))},z=[{id:"scifi",label:w.FIXED.GENRE_LABELS.SCIFI,icon:"",desc:w.UI.GENRES.SCIFI.DESC,color:"from-blue-600 to-purple-600"},{id:"horror",label:w.FIXED.GENRE_LABELS.HORROR,icon:"",desc:w.UI.GENRES.HORROR.DESC,color:"from-red-900 to-black"},{id:"romance",label:w.FIXED.GENRE_LABELS.ROMANCE,icon:"",desc:w.UI.GENRES.ROMANCE.DESC,color:"from-pink-500 to-rose-400"}];return i.jsxs("div",{className:"fixed inset-0 z-50 bg-black overflow-y-auto custom-scrollbar",children:[i.jsx(Kc,{isOpen:!!f,onCancel:()=>p(null),onConfirm:Y,title:w.UI.GENRE_SELECTION.WARNING_TITLE,message:w.UI.GENRE_SELECTION.WARNING_MSG,confirmLabel:w.UI.GENRE_SELECTION.BTN_CONFIRM,cancelLabel:w.UI.GENRE_SELECTION.BTN_CANCEL,variant:"danger"}),i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 md:p-8 relative",children:[i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsxs("button",{onClick:()=>d(!0),className:"p-2 text-theme-muted hover:text-white transition-colors flex items-center gap-2 bg-black/50 backdrop-blur-md rounded-full",children:[i.jsx(qm,{size:20}),i.jsx("span",{className:"text-sm hidden md:inline",children:w.UI.GENRE_SELECTION.BTN_SETTINGS})]})}),i.jsx(ph,{isOpen:a,onClose:()=>d(!1),onSave:(W,ce)=>{g(W),x(ce)}}),i.jsxs("div",{className:"max-w-4xl w-full space-y-8 my-8 md:my-0",children:[i.jsx(mh,{uiText:w}),i.jsx(hh,{hasActiveGame:T,gameOver:A,onContinue:c,uiText:w}),i.jsx(gh,{genres:z,handleGenreClick:U})]})]})]})}function vh({uiText:s,setupData:c,onBack:a}){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute top-4 left-4 z-10",children:i.jsxs("button",{onClick:a,className:"p-2 text-theme-muted hover:text-white transition-colors flex items-center gap-2 bg-black/50 backdrop-blur-md rounded-full hover:bg-white/10",children:[i.jsx(em,{size:20}),i.jsx("span",{className:"text-sm hidden md:inline",children:s.UI.CHARACTER_CREATION.BTN_ABORT_FULL})]})}),i.jsxs("header",{className:"mb-8 text-center animate-in fade-in slide-in-from-top-4 duration-700 mt-8 md:mt-0",children:[i.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-theme-accent to-purple-500 mb-2",children:s.UI.CHARACTER_CREATION.TITLE}),i.jsxs("p",{className:"text-theme-muted italic max-w-2xl mx-auto",children:['"',c.intro_narrative,'"']})]})]})}function xh({uiText:s,name:c,setName:a,handleRandomizeName:d}){return i.jsxs("div",{className:"bg-theme-panel border border-theme-border rounded-xl p-6 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:i.jsx(Vc,{size:64})}),i.jsx("label",{className:"block text-xs font-bold text-theme-accent tracking-widest mb-2 uppercase",children:s.UI.CHARACTER_CREATION.LABEL_NAME}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:c,onChange:f=>a(f.target.value),className:"flex-1 bg-black/50 border border-theme-border rounded-lg px-4 py-3 focus:border-theme-accent focus:ring-1 focus:ring-theme-accent outline-none transition-all text-lg",placeholder:s.UI.CHARACTER_CREATION.PLACEHOLDER_NAME}),i.jsx("button",{onClick:d,className:"p-3 bg-theme-accent/10 border border-theme-accent/30 rounded-lg hover:bg-theme-accent/20 transition-colors text-theme-accent",title:s.UI.CHARACTER_CREATION.TITLE_RANDOMIZE,children:i.jsx(Sm,{size:24})})]})]})}function Eh({uiText:s,setupData:c,selectedRoleIndex:a,setSelectedRoleIndex:d,includeItems:f,setIncludeItems:p}){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-xs font-bold text-theme-accent tracking-widest uppercase",children:s.UI.CHARACTER_CREATION.LABEL_ROLE}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:c.roles.map((g,x)=>i.jsx("button",{onClick:()=>d(x),className:`relative p-4 rounded-xl border-2 text-left transition-all duration-300 group overflow-hidden ${a===x?"border-theme-accent bg-theme-accent/10 shadow-[0_0_20px_rgba(var(--accent-rgb),0.2)]":"border-theme-border bg-theme-panel hover:border-theme-muted"}`,children:i.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[i.jsxs("div",{children:[i.jsx("div",{className:`font-bold text-lg ${a===x?"text-theme-accent":"text-gray-300"}`,children:g.name}),i.jsx("div",{className:"text-xs text-theme-muted mt-1 line-clamp-1",children:g.description})]}),a===x&&i.jsx("div",{className:"w-3 h-3 bg-theme-accent rounded-full shadow-[0_0_10px_currentColor]"})]})},g.id))})]}),i.jsxs("div",{className:"bg-theme-panel border border-theme-border rounded-xl p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rm,{className:"text-theme-accent",size:20}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-sm",children:s.UI.CHARACTER_CREATION.LOADOUT_TITLE}),i.jsx("div",{className:"text-xs text-theme-muted",children:s.UI.CHARACTER_CREATION.LOADOUT_DESC})]})]}),i.jsx("button",{onClick:()=>p(!f),className:`w-12 h-6 rounded-full p-1 transition-colors duration-300 ${f?"bg-theme-accent":"bg-gray-700"}`,children:i.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform duration-300 ${f?"translate-x-6":"translate-x-0"}`})})]})]})}function Sh({uiText:s,currentRole:c,includeItems:a,name:d,handleConfirm:f}){return i.jsxs("div",{className:"bg-theme-panel border border-theme-border rounded-2xl p-6 md:p-8 flex flex-col animate-in slide-in-from-right-4 duration-700 delay-200 relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-theme-accent/5 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),i.jsxs("div",{className:"relative z-10 flex-1",children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:c.name}),i.jsx("p",{className:"text-theme-muted mb-6 leading-relaxed",children:c.description}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsx("h3",{className:"text-xs font-bold text-theme-accent tracking-widest uppercase border-b border-theme-border pb-2 mb-4",children:s.UI.CHARACTER_CREATION.STATS_TITLE}),i.jsx("div",{className:"space-y-3",children:Object.entries(c.stats).map(([p,g])=>{let x="bg-gray-500",_=jt;return p.toLowerCase().includes("health")||p.toLowerCase().includes("hp")?(x="bg-red-500",_=si):p.toLowerCase().includes("energy")||p.toLowerCase().includes("mana")||p.toLowerCase().includes("stamina")?(x="bg-yellow-500",_=jt):(p.toLowerCase().includes("shield")||p.toLowerCase().includes("armor"))&&(x="bg-blue-500",_=Hr),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(_,{size:18,className:x.replace("bg-","text-")}),i.jsx("div",{className:"w-24 text-sm font-medium capitalize",children:p.replace(/_/g," ")}),i.jsx("div",{className:"flex-1 h-2 bg-gray-800 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full ${x}`,style:{width:`${Math.min(100,g/150*100)}%`}})}),i.jsx("div",{className:"w-8 text-right text-sm font-mono",children:g})]},p)})})]}),a&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-bold text-theme-accent tracking-widest uppercase border-b border-theme-border pb-2 mb-4",children:s.UI.CHARACTER_CREATION.EQUIPMENT_TITLE}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:c.starting_items.map((p,g)=>i.jsxs("div",{className:"flex items-center gap-3 bg-black/30 p-2 rounded-lg border border-white/5",children:[i.jsx("span",{className:"text-xl",children:p.icon}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-200",children:p.name}),i.jsxs("div",{className:"text-xs text-theme-muted capitalize",children:[p.type," x",p.count]})]})]},g))})]})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-theme-border",children:i.jsxs("button",{onClick:f,disabled:!d.trim(),className:`w-full py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all duration-300 ${d.trim()?"bg-theme-accent hover:bg-theme-accent/90 text-white shadow-lg hover:shadow-theme-accent/25 transform hover:-translate-y-1":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[i.jsx("span",{children:s.UI.CHARACTER_CREATION.BTN_INITIATE}),i.jsx(Gc,{size:20})]})})]})}function Nh({genre:s,onComplete:c,onBack:a}){const{apiKey:d,language:f,setupData:p,setSetupData:g,uiText:x}=Ze(),[_,A]=j.useState(!p),[w,R]=j.useState(null),[T,U]=j.useState(""),[Y,z]=j.useState(0),[W,ce]=j.useState(!0);j.useEffect(()=>{if(p){A(!1);return}(async()=>{var ue;try{A(!0);const ie=await Hp(d,s,f);g(ie),((ue=ie.suggested_names)==null?void 0:ue.length)>0&&U(ie.suggested_names[Math.floor(Math.random()*ie.suggested_names.length)])}catch(ie){console.error("Setup Error:",ie),R(ie.message||x.UI.CHARACTER_CREATION.ERROR_DEFAULT)}finally{A(!1)}})()},[d,s,f,p,g]);const se=()=>{if(p!=null&&p.suggested_names){const te=p.suggested_names[Math.floor(Math.random()*p.suggested_names.length)];U(te)}},de=()=>{if(!T.trim())return;const te=p.roles[Y],ue={name:T,role:te,items:W?te.starting_items:[]};c(ue)};if(_)return i.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-theme-accent",children:[i.jsx("div",{className:"w-16 h-16 border-4 border-theme-accent border-t-transparent rounded-full animate-spin mb-4"}),i.jsx("div",{className:"text-xl font-mono animate-pulse",children:x.UI.CHARACTER_CREATION.LOADING_TITLE}),i.jsx("div",{className:"text-sm text-theme-muted mt-2",children:x.UI.CHARACTER_CREATION.LOADING_SUBTITLE})]});if(w)return i.jsxs("div",{className:"fixed inset-0 z-50 bg-black flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold mb-2",children:x.UI.CHARACTER_CREATION.ERROR_TITLE}),i.jsx("p",{className:"mb-4",children:w}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-600 rounded hover:bg-gray-800 transition-colors",children:x.UI.CHARACTER_CREATION.BTN_ABORT}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 border border-red-500 rounded hover:bg-red-900/20",children:x.UI.CHARACTER_CREATION.BTN_RETRY})]})]});const F=p.roles[Y];return i.jsx("div",{className:"fixed inset-0 z-50 bg-black overflow-y-auto custom-scrollbar text-theme-text font-sans",children:i.jsxs("div",{className:"min-h-screen max-w-4xl mx-auto p-4 md:p-8 flex flex-col",children:[i.jsx(vh,{uiText:x,setupData:p,onBack:a}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 flex-1",children:[i.jsxs("div",{className:"space-y-6 animate-in slide-in-from-left-4 duration-700 delay-100",children:[i.jsx(xh,{uiText:x,name:T,setName:U,handleRandomizeName:se}),i.jsx(Eh,{uiText:x,setupData:p,selectedRoleIndex:Y,setSelectedRoleIndex:z,includeItems:W,setIncludeItems:ce})]}),i.jsx(Sh,{uiText:x,currentRole:F,includeItems:W,name:T,handleConfirm:de})]})]})})}function _h({icon:s,label:c="Stat",value:a=0,color:d="bg-gray-500"}){return i.jsxs("div",{className:"group",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2 text-theme-muted group-hover:text-theme-text transition-colors",children:[i.jsx("div",{className:`p-1 rounded-md ${d} bg-opacity-20 ${d.includes("-")?`text-${d.split("-")[1]}-500`:"text-white"}`,children:s}),i.jsx("span",{className:"text-xs font-medium",children:c})]}),i.jsxs("span",{className:"text-xs font-bold text-theme-text",children:[a,"%"]})]}),i.jsx("div",{className:"h-1.5 w-full bg-theme-border rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${d} transition-all duration-500 ease-out`,style:{width:`${a}%`}})})]})}function wh({stats:s,uiText:c}){return i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-semibold text-theme-muted uppercase tracking-wider mb-4",children:c.UI.SIDEBAR.SECTION_STATUS}),i.jsx("div",{className:"space-y-4",children:s&&Object.entries(s).map(([a,d])=>{let f=i.jsx(ni,{size:14}),p="bg-theme-accent",g=a.charAt(0).toUpperCase()+a.slice(1);return c.UI.STATS[a.toUpperCase()]&&(g=c.UI.STATS[a.toUpperCase()]),a==="health"&&(f=i.jsx(ni,{size:14}),p="bg-emerald-500"),a==="energy"&&(f=i.jsx(jt,{size:14}),p="bg-amber-500"),a==="shield"&&(f=i.jsx(Hr,{size:14}),p="bg-blue-500"),a==="sanity"&&(f=i.jsx("div",{className:"text-xs",children:""}),p="bg-purple-500"),a==="stamina"&&(f=i.jsx("div",{className:"text-xs",children:""}),p="bg-yellow-500"),a==="mood"&&(f=i.jsx("div",{className:"text-xs",children:""}),p="bg-pink-500"),a==="charm"&&(f=i.jsx("div",{className:"text-xs",children:""}),p="bg-rose-400"),i.jsx(_h,{icon:f,label:g,value:d,color:p},a)})})]})}function Ch({label:s="Unknown Item",count:c=1,tags:a=[],icon:d="",value:f,max_value:p,desc:g,isSelected:x,onSelect:_,onClose:A,onUse:w}){return i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{onClick:_,className:`
                    relative w-full aspect-square flex items-center justify-center rounded-lg border transition-all
                    ${x?"bg-theme-panel border-theme-accent shadow-[0_0_15px_rgba(79,70,229,0.3)] scale-105 z-20":"bg-theme-panel border-theme-border hover:border-theme-accent hover:bg-theme-accent/10"}
                `,children:[i.jsx("div",{className:`text-2xl transition-transform filter drop-shadow-md ${x?"scale-110":"group-hover:scale-110"}`,children:d}),c>1&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-theme-accent text-theme-bg text-[9px] font-bold px-1.5 rounded-full shadow-sm border border-theme-bg",children:c}),typeof f=="number"&&typeof p=="number"&&i.jsx("div",{className:"absolute bottom-1 left-1 right-1 h-0.5 bg-theme-border/50 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-500 ${f/p<.3?"bg-red-500":"bg-theme-accent"}`,style:{width:`${f/p*100}%`}})})]}),x&&i.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 w-48 bg-gray-900 border border-gray-700 rounded-lg shadow-xl p-3 flex flex-col gap-2 animate-in fade-in slide-in-from-bottom-2 z-50",children:[i.jsxs("div",{className:"text-center border-b border-gray-700 pb-2",children:[i.jsx("p",{className:"font-bold text-sm text-theme-text",children:s}),g&&i.jsx("p",{className:"text-[10px] text-theme-muted mt-1",children:g})]}),i.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:a.map((R,T)=>i.jsx("span",{className:"text-[9px] px-1 py-0.5 rounded bg-theme-border/50 text-theme-text uppercase tracking-wider",children:R},T))}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx("button",{onClick:R=>{R.stopPropagation(),w()},className:"flex-1 bg-theme-accent hover:bg-theme-accent/80 text-white text-xs font-bold py-1.5 rounded transition-colors",children:"USE"}),i.jsx("button",{onClick:R=>{R.stopPropagation(),A()},className:"px-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-white rounded transition-colors",children:i.jsx(Xn,{size:14})})]}),i.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-px border-8 border-transparent border-t-gray-900"})]})]})}function Th({inventory:s,handleAction:c,uiText:a}){const[d,f]=to.useState(null),p=g=>{c(`use ${g}`),f(null)};return i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-semibold text-theme-muted uppercase tracking-wider mb-4",children:a.UI.SIDEBAR.SECTION_INVENTORY}),i.jsx("div",{className:"grid grid-cols-4 gap-2 relative",children:s&&s.map((g,x)=>i.jsx(Ch,{label:g.name,count:g.count,tags:g.tags,icon:g.icon,value:g.value,max_value:g.max_value,desc:g.desc||g.type,isSelected:d===x,onSelect:()=>f(x),onClose:()=>f(null),onUse:()=>p(g.name)},x))})]})}function Ih({isSidebarOpen:s,setIsSidebarOpen:c}){const{stats:a,inventory:d,handleAction:f,uiText:p,playerName:g}=Ze();return i.jsxs("aside",{className:`
            fixed lg:static inset-y-0 left-0 z-50
            bg-theme-panel border-r border-theme-border
            transform transition-all duration-300 ease-in-out
            ${s?"translate-x-0 w-72":"-translate-x-full lg:translate-x-0 lg:w-0 lg:border-none lg:overflow-hidden"}
            flex flex-col
        `,children:[i.jsxs("div",{className:"h-16 flex items-center px-6 border-b border-theme-border justify-between min-w-[18rem]",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-theme-accent rounded-lg flex items-center justify-center text-white font-bold",children:g?g.charAt(0).toUpperCase():"N"}),i.jsx("span",{className:"font-semibold text-theme-text tracking-tight",children:p.FIXED.APP_TITLE})]}),i.jsx("button",{onClick:()=>c(!1),className:"lg:hidden text-theme-muted hover:text-theme-text",children:i.jsx(Xn,{size:20})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8 min-w-[18rem]",children:[i.jsxs("div",{className:"flex items-center gap-4 p-3 bg-black/20 rounded-xl border border-theme-border",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-black/40 flex items-center justify-center text-theme-muted",children:i.jsx(Vc,{size:20})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-theme-text",children:g||p.UI.SIDEBAR.PROFILE_NAME}),i.jsxs("div",{className:"text-xs text-theme-accent flex items-center gap-1",children:[i.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-theme-accent animate-pulse"}),p.UI.SIDEBAR.STATUS_ONLINE]})]})]}),i.jsx(wh,{stats:a,uiText:p}),i.jsx(Th,{inventory:d,handleAction:f,uiText:p})]}),i.jsx("div",{className:"p-4 border-t border-theme-border text-xs text-theme-muted text-center min-w-[18rem]",children:p.FIXED.APP_VERSION})]})}function kh({isSidebarOpen:s,setIsSidebarOpen:c,isMenuOpen:a,setIsMenuOpen:d}){const{quest:f,uiText:p}=Ze();return i.jsxs("header",{className:"h-16 flex items-center justify-between px-4 lg:px-8 border-b border-theme-border bg-theme-main/80 backdrop-blur sticky top-0 transition-colors duration-500 z-30",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>c(!s),className:"p-2 -ml-2 text-theme-muted hover:text-theme-text rounded-lg hover:bg-theme-panel transition-colors",children:i.jsx(Gm,{size:20})}),i.jsxs("div",{className:"flex items-center text-sm text-theme-muted gap-2",children:[i.jsx("span",{children:p.UI.HEADER.MISSION_LABEL}),i.jsx(Gc,{size:14}),i.jsx("span",{className:"text-theme-text font-medium",children:f})]})]}),i.jsx("div",{className:"relative",children:i.jsx("button",{onClick:()=>d(!a),className:`text-theme-muted hover:text-theme-text p-2 rounded-lg hover:bg-theme-panel transition-colors ${a?"bg-theme-panel text-theme-text":""}`,children:i.jsx(Im,{size:20})})})]})}function Rh({isOpen:s,onClose:c,onSave:a,onLoad:d,onRestart:f,onExit:p}){const{uiText:g}=Ze(),[x,_]=j.useState(null),A=()=>{x==="restart"?f():x==="exit"?p():x==="load"&&d(),_(null),c()};return!s&&!x?null:i.jsxs(i.Fragment,{children:[i.jsx(Kc,{isOpen:!!x,onCancel:()=>_(null),onConfirm:A,title:x==="restart"?g.UI.MENU.CONFIRM_RESTART_TITLE:x==="exit"?g.UI.MENU.CONFIRM_EXIT_TITLE:g.UI.MENU.CONFIRM_LOAD_TITLE,message:x==="restart"?g.UI.MENU.CONFIRM_RESTART_MSG:x==="exit"?g.UI.MENU.CONFIRM_EXIT_MSG:g.UI.MENU.CONFIRM_LOAD_MSG,confirmLabel:g.UI.MENU.BTN_CONFIRM,cancelLabel:g.UI.MENU.BTN_CANCEL,variant:x==="load"?"warning":"danger"}),s&&i.jsx("div",{className:`absolute right-4 lg:right-8 top-16 mt-2 w-48 z-[60] ${s?"pointer-events-none":""}`,children:i.jsxs("div",{className:"bg-theme-panel border border-theme-border rounded-xl shadow-xl overflow-hidden animate-scale-in origin-top-right pointer-events-auto p-1",children:[i.jsxs("button",{onClick:()=>{a(),c()},className:"w-full text-left px-4 py-2 text-sm text-theme-text hover:bg-theme-main rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(Cm,{size:14}),g.UI.MENU.SAVE_GAME]}),i.jsxs("button",{onClick:()=>_("load"),className:"w-full text-left px-4 py-2 text-sm text-theme-text hover:bg-theme-main rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(uh,{size:14}),g.UI.MENU.LOAD_GAME]}),i.jsx("div",{className:"h-px bg-theme-border my-1"}),i.jsxs("button",{onClick:()=>_("restart"),className:"w-full text-left px-4 py-2 text-sm text-theme-text hover:bg-theme-main rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(jt,{size:14}),g.UI.MENU.RESTART_MISSION]}),i.jsx("div",{className:"h-px bg-theme-border my-1"}),i.jsxs("button",{onClick:()=>_("exit"),className:"w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 rounded-lg transition-colors flex items-center gap-2",children:[i.jsx(Xn,{size:14}),g.UI.MENU.EXIT_SIMULATION]})]})})]})}function Ah({content:s="",speed:c=15,onComplete:a,onUpdate:d}){if(!s)return null;const[f,p]=j.useState(""),g=j.useRef(null),x=j.useRef(!0),_=j.useMemo(()=>s.split(/(<[^>]*>)/g),[s]);return j.useEffect(()=>{x.current=!0;let A=0,w=0,R="";g.current&&clearTimeout(g.current);const T=()=>{if(!x.current)return;if(A>=_.length){a&&a();return}const U=_[A];if(!U){A++,T();return}if(U.startsWith("<"))R+=U,p(R),d&&d(),A++,g.current=setTimeout(T,0);else if(w<U.length){R+=U[w],p(R),d&&d(),w++;const Y=c+(Math.random()*10-5);g.current=setTimeout(T,Y)}else A++,w=0,g.current=setTimeout(T,0)};return T(),()=>{x.current=!1,g.current&&clearTimeout(g.current)}},[_,c,a,d]),i.jsx("span",{dangerouslySetInnerHTML:{__html:f}})}function Oh({msg:s,uiText:c,shouldAnimate:a,onUpdate:d}){var A,w;const f=s.role==="user",p=s.role==="system",g=s.visual_effect,x=j.useMemo(()=>`anim-${Math.random().toString(36).substr(2,9)}`,[]),_=j.useMemo(()=>{if(!g)return{};const R={};return g.color&&(R.color=g.color),g.animation&&g.keyframes&&(R.animation=`${x} ${g.animation}`),R},[g,x]);return i.jsxs("div",{className:`flex w-full mb-4 ${f?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2 duration-500`,children:[(g==null?void 0:g.keyframes)&&i.jsx("style",{children:`@keyframes ${x} { ${g.keyframes} }`}),i.jsxs("div",{className:`
                    max-w-[85%] md:max-w-[75%] rounded-2xl p-4 shadow-lg relative overflow-hidden transition-all
                    ${f?"bg-theme-accent text-white rounded-br-none":p?"bg-red-900/20 border border-red-500/50 text-red-200 w-full text-center font-mono text-xs":"bg-theme-panel border border-theme-border text-theme-text rounded-bl-none"}
                `,style:f?{}:_,children:[i.jsx("div",{className:`text-[10px] font-bold mb-1 uppercase tracking-wider opacity-70 ${f?"text-right":"text-left"}`,children:f?"YOU":((w=(A=c==null?void 0:c.UI)==null?void 0:A.NARRATIVE)==null?void 0:w.SYSTEM_NAME)||"SYSTEM"}),i.jsx("div",{className:"text-sm md:text-base leading-relaxed whitespace-pre-wrap",style:g!=null&&g.font_style?{cssText:g.font_style}:{},children:a?i.jsx(Ah,{content:s.content,speed:10,onUpdate:d}):i.jsx("span",{dangerouslySetInnerHTML:{__html:s.content}})}),i.jsx("div",{className:`text-[10px] mt-2 opacity-50 ${f?"text-right":"text-left"}`,children:s.timestamp})]})]})}const jh={1:[4],2:[0,8],3:[0,4,8],4:[0,2,6,8],5:[0,2,4,6,8],6:[0,2,3,5,6,8]},qn=({value:s,rotateClass:c})=>{const a=jh[s]||[];return i.jsx("div",{className:`dice-face ${c}`,children:i.jsx("div",{className:"grid grid-cols-3 grid-rows-3 gap-1 w-full h-full",children:[...Array(9)].map((d,f)=>i.jsx("div",{className:"flex justify-center items-center",children:a.includes(f)&&i.jsx("div",{className:"pip w-3 h-3 md:w-4 md:h-4"})},f))})})};function Lh({outcome:s}){var _;const{genre:c,history:a}=Ze(),[d,f]=j.useState({x:0,y:0}),[p,g]=j.useState(!1),x={horror:"dice-theme-horror",fantasy:"dice-theme-fantasy",scifi:"dice-theme-scifi"}[c]||"dice-theme-scifi";return j.useEffect(()=>{const A=setInterval(()=>{f(w=>({x:w.x+20+Math.random()*20,y:w.y+20+Math.random()*20}))},50);if(s){clearInterval(A);let w=1;s==="SUCCESS"&&(w=6),s==="FAILURE"&&(w=1),s==="NEUTRAL"&&(w=Math.floor(Math.random()*6)+1);const R={1:{x:0,y:0},6:{x:180,y:0},2:{x:-90,y:0},5:{x:90,y:0},3:{x:0,y:-90},4:{x:0,y:90}},T=1080,U=R[w];f({x:T+U.x,y:T+U.y}),setTimeout(()=>g(!0),800)}return()=>clearInterval(A)},[s]),i.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:[i.jsx("div",{className:"mb-12 text-center",children:i.jsx("h2",{className:`text-3xl md:text-5xl font-bold tracking-[0.2em] animate-pulse ${s==="SUCCESS"?"text-emerald-500":s==="FAILURE"?"text-red-600":"text-theme-muted"}`,children:s||((_=a.filter(A=>A.role==="user").slice(-1)[0])==null?void 0:_.content.toUpperCase().slice(0,20))+"..."||"FATE IS TURNING..."})}),i.jsx("div",{className:`scene ${x}`,children:i.jsxs("div",{className:"cube",style:{transform:`rotateX(${d.x}deg) rotateY(${d.y}deg)`},children:[i.jsx(qn,{value:1,rotateClass:"face-front"}),i.jsx(qn,{value:6,rotateClass:"face-back"}),i.jsx(qn,{value:2,rotateClass:"face-top"}),i.jsx(qn,{value:5,rotateClass:"face-bottom"}),i.jsx(qn,{value:3,rotateClass:"face-right"}),i.jsx(qn,{value:4,rotateClass:"face-left"})]})}),i.jsx("div",{className:`mt-16 transition-opacity duration-500 ${p?"opacity-100":"opacity-0"}`,children:i.jsxs("p",{className:"text-theme-text text-lg font-mono",children:[s==="SUCCESS"&&"CRITICAL SUCCESS",s==="FAILURE"&&"CRITICAL FAILURE"]})})]})}function Mh(){const{history:s,isProcessing:c,uiText:a,suspenseOutcome:d}=Ze();console.log("NarrativeFeed Render:",{isProcessing:c,suspenseOutcome:d});const f=j.useRef(null),[p,g]=to.useState(!1);j.useEffect(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[s,c,p]);const x=to.useCallback(()=>{f.current&&(f.current.scrollTop=f.current.scrollHeight)},[]),_=p?s:s.slice(-4);return i.jsxs("div",{className:"flex flex-col h-full relative",children:[i.jsx("div",{className:"absolute top-2 right-4 z-10",children:i.jsx("button",{onClick:()=>g(!p),className:"text-[10px] uppercase tracking-widest text-theme-muted hover:text-theme-accent transition-colors bg-black/50 backdrop-blur-sm px-2 py-1 rounded border border-theme-border",children:p?"Hide Log":"Show Log"})}),i.jsxs("div",{ref:f,className:"flex-1 overflow-y-auto p-4 md:p-6 space-y-6 scroll-smooth custom-scrollbar",children:[!p&&i.jsx("div",{className:"h-12"}),_.map((A,w)=>{let R="opacity-100";return p||_.length-1-w>=2&&(R="opacity-40 grayscale blur-[1px]"),i.jsx("div",{className:`transition-all duration-500 ${R}`,children:i.jsx(Oh,{msg:A,uiText:a,shouldAnimate:w===_.length-1&&A.role==="ai",onUpdate:x})},A.id)}),(c||d)&&i.jsx(Lh,{outcome:d,uiText:a}),i.jsx("div",{className:"h-4"})]})]})}function Uh({inputValue:s,setInputValue:c,handleSend:a,disabled:d,isExpanded:f,setIsExpanded:p}){const g=j.useRef(null),[x,_]=j.useState(null);j.useEffect(()=>{f&&g.current&&g.current.focus()},[f]);const A=w=>{if(w.key==="Enter"&&!w.shiftKey){if(w.preventDefault(),!s.trim())return;a()}w.key==="Escape"&&p(!1)};return i.jsxs("div",{className:`
                relative w-full h-full rounded-xl md:rounded-2xl bg-slate-900/90 backdrop-blur-md overflow-hidden
                flex flex-col transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)]
                ${f?"border-2 border-cyan-500/50 shadow-[0_0_30px_rgba(6,182,212,0.2)] cursor-default z-50":"border-2 border-dashed border-slate-600 hover:border-slate-400 hover:bg-slate-800/50 cursor-pointer"}
                ${d?"opacity-50 cursor-not-allowed":""}
            `,onClick:()=>!f&&!d&&p(!0),children:[i.jsxs("div",{className:`
                absolute inset-0 flex flex-col items-center justify-center gap-2 text-slate-500 transition-all duration-500
                ${f?"opacity-0 scale-90 pointer-events-none":"opacity-100 scale-100"}
            `,children:[i.jsx(Ic,{size:32}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"Manual Input"})]}),i.jsxs("div",{className:`
                absolute inset-0 z-20 flex flex-col p-4 md:p-6 bg-slate-950/95
                transition-all duration-500 ease-out
                ${f?"opacity-100 translate-x-0":"opacity-0 translate-x-full pointer-events-none"}
            `,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4 border-b border-cyan-500/20 pb-4",children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsx("div",{className:"p-2 md:p-3 rounded-xl bg-cyan-950/30 border border-cyan-500/50",children:i.jsx(Ic,{size:24,className:"text-cyan-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg md:text-2xl font-black tracking-widest uppercase text-cyan-400",children:"COMMAND_LINE"}),i.jsxs("div",{className:"flex items-center gap-2 text-[10px] md:text-xs opacity-60 font-mono mt-1 text-cyan-200",children:[i.jsx(ni,{size:12,className:"animate-pulse"}),"AWAITING_INPUT // SECURE_CHANNEL"]})]})]}),i.jsx("button",{onClick:w=>{w.stopPropagation(),p(!1)},className:"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white",children:i.jsx(Xn,{size:24})})]}),i.jsxs("div",{className:"flex-1 relative bg-black/60 rounded-xl border border-cyan-500/30 p-1 shadow-inner overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center px-3 py-1 bg-black/40 border-b border-cyan-500/10 text-[9px] font-mono text-cyan-500/50",children:[i.jsx("span",{children:"INPUT_STREAM"}),i.jsx("span",{children:"Ln 1, Col 1"})]}),i.jsx("textarea",{ref:g,className:"flex-1 w-full h-full bg-transparent border-none outline-none text-sm md:text-lg font-mono p-4 resize-none text-cyan-100 placeholder-slate-600 focus:bg-cyan-950/5 transition-colors leading-relaxed custom-scrollbar",placeholder:"Enter command override...",value:s,onChange:w=>c(w.target.value),onKeyDown:A,disabled:d}),i.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-2 pointer-events-none",children:[i.jsxs("span",{className:"text-[10px] opacity-30 font-mono tracking-widest text-cyan-400",children:[s.length," CHARS"]}),i.jsx(Mm,{size:12,className:"opacity-20 text-cyan-400"})]})]}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsx("button",{onClick:w=>{w.stopPropagation(),a()},disabled:!s.trim()||d,className:`
                            relative overflow-hidden group flex items-center gap-2 px-6 py-3 bg-transparent border-2 border-cyan-500 text-cyan-400 font-bold tracking-[0.2em] uppercase rounded-lg transition-colors duration-300
                            ${!s.trim()||d?"opacity-50 cursor-not-allowed":"hover:bg-cyan-950/30 hover:shadow-[0_0_30px_rgba(6,182,212,0.3)]"}
                        `,children:i.jsxs("span",{className:"relative z-10 flex items-center gap-2 text-xs md:text-sm",children:["EXECUTE ",i.jsx(Wm,{size:16})]})})})]}),i.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,0,0,0.1)_1px,transparent_1px)] bg-[size:100%_3px] pointer-events-none opacity-20 z-30 rounded-xl md:rounded-2xl"})]})}function Ph({card:s,onClick:c,disabled:a}){let d=xm,f="cyan";s.type==="skill_check"?(d=ym,f="cyan"):s.type==="dice"?(d=_m,f="purple"):s.type==="resource"?(d=jt,f="amber"):s.type==="item"?(d=ri,f="emerald"):s.type==="defend"?(d=Hr,f="blue"):s.type==="attack"&&(d=eh,f="red");const p={cyan:"bg-cyan-950/80 border-cyan-500 text-cyan-400 hover:shadow-[0_0_20px_rgba(6,182,212,0.4)]",purple:"bg-purple-950/80 border-purple-500 text-purple-400 hover:shadow-[0_0_20px_rgba(168,85,247,0.4)]",amber:"bg-amber-950/80 border-amber-500 text-amber-400 hover:shadow-[0_0_20px_rgba(245,158,11,0.4)]",emerald:"bg-emerald-950/80 border-emerald-500 text-emerald-400 hover:shadow-[0_0_20px_rgba(16,185,129,0.4)]",blue:"bg-blue-950/80 border-blue-500 text-blue-400 hover:shadow-[0_0_20px_rgba(59,130,246,0.4)]",red:"bg-red-950/80 border-red-500 text-red-400 hover:shadow-[0_0_20px_rgba(239,68,68,0.4)]",slate:"bg-slate-800 border-slate-500 text-slate-300 hover:shadow-[0_0_20px_rgba(148,163,184,0.4)]"},g=p[f]||p.cyan,x=s.itemCost;return i.jsxs("button",{onClick:c,disabled:a,className:`
                relative w-full h-full flex-shrink-0 rounded-xl border-2 flex flex-col p-3 transition-all duration-300
                ${a?"opacity-50 grayscale cursor-not-allowed":"cursor-pointer"}
                ${g}
                backdrop-blur-md
            `,children:[i.jsxs("div",{className:"absolute top-2 right-2 flex flex-col items-end",children:[i.jsx(d,{size:20}),i.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider opacity-80 mt-1",children:s.type})]}),x&&i.jsxs("div",{className:"absolute top-0 left-0 p-2 z-10",children:[i.jsx("div",{className:"bg-black/60 rounded-lg p-1.5 border border-white/10 backdrop-blur-sm",children:x.icon}),i.jsx("div",{className:"mt-1 text-[8px] font-mono leading-tight max-w-[40px] truncate text-left",children:x.name})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-center items-center text-center mt-4",children:[i.jsx("h3",{className:"font-bold text-sm uppercase leading-tight mb-2 line-clamp-2",children:s.label}),i.jsx("p",{className:"text-[10px] opacity-70 font-mono leading-tight line-clamp-3",children:s.description||s.action})]}),i.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,0,0,0.1)_1px,transparent_1px)] bg-[size:100%_3px] pointer-events-none opacity-20 rounded-xl"})]})}function bh({inputValue:s,setInputValue:c,handleSend:a,choices:d=[],inventory:f=[],handleAction:p,disabled:g}){const[x,_]=j.useState(!1),A=R=>{const T=R.toLowerCase();return T.includes("medkit")||T.includes("heal")?i.jsx(si,{size:14,className:"text-emerald-400"}):T.includes("grenade")||T.includes("bomb")?i.jsx(ri,{size:14,className:"text-red-400"}):T.includes("shield")||T.includes("armor")?i.jsx(Hr,{size:14,className:"text-blue-400"}):T.includes("energy")||T.includes("battery")?i.jsx(jt,{size:14,className:"text-yellow-400"}):i.jsx(ri,{size:14,className:"text-slate-400"})},w=j.useMemo(()=>d.map((R,T)=>{const U=f.find(Y=>R.label.toLowerCase().includes(Y.name.toLowerCase())||R.action&&R.action.toLowerCase().includes(Y.name.toLowerCase()));return{...R,id:R.id||`choice-${T}`,type:R.type||"action",itemCost:U?{name:U.name,icon:A(U.name)}:null}}),[d,f]);return i.jsxs("div",{className:"w-full bg-slate-900/80 backdrop-blur-md border-t border-slate-700 z-30 transition-all duration-300",children:[i.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,255,255,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(0,255,255,0.03)_1px,transparent_1px)] bg-[size:40px_40px] pointer-events-none opacity-20"}),i.jsxs("div",{className:`
                max-w-7xl mx-auto flex items-center justify-center
                transition-all duration-500 ease-in-out
                ${x?"gap-0":"gap-2 md:gap-4"}
                h-48 md:h-72 /* Reduced height for better feed visibility */
                p-4
            `,children:[i.jsx("div",{className:`
                    relative h-full rounded-xl md:rounded-2xl overflow-hidden min-w-0
                    flex flex-col transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)]
                    ${x?"flex-[100] w-full cursor-default":"flex-1 max-w-[120px] md:max-w-[180px] cursor-pointer hover:-translate-y-2 hover:shadow-xl"}
                `,children:i.jsx(Uh,{inputValue:s,setInputValue:c,handleSend:a,disabled:g,isExpanded:x,setIsExpanded:_,className:"w-full h-full"})}),w.map((R,T)=>i.jsx("div",{className:`
                            relative h-full rounded-xl md:rounded-2xl overflow-hidden min-w-0
                            flex flex-col transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)]
                            ${x?"flex-[0] w-0 opacity-0 pointer-events-none p-0 m-0 border-0":"flex-1 max-w-[120px] md:max-w-[180px] cursor-pointer hover:-translate-y-2 hover:shadow-xl"}
                        `,children:i.jsx(Ph,{card:R,onClick:()=>p(R.action),disabled:g,className:"w-full h-full"})},R.id)),!x&&w.length===0&&i.jsx("div",{className:"flex-1 flex items-center justify-center h-full text-slate-500 text-xs italic border-2 border-dashed border-slate-800 rounded-xl",children:"No Actions"})]})]})}function Dh(){const{environment:s}=Ze();console.log("BackgroundLayer Environment:",s);const c={FOREST:"/webstory/assets/backgrounds/forest.png",DUNGEON:"/webstory/assets/backgrounds/dungeon.png",CYBERPUNK:"/webstory/assets/backgrounds/cyberpunk.png",CITY:"/webstory/assets/backgrounds/cyberpunk.png",LAB:"/webstory/assets/backgrounds/cyberpunk.png",SPACE:"/webstory/assets/backgrounds/cyberpunk.png",HORROR:"/webstory/assets/backgrounds/dungeon.png",SCIFI:"/webstory/assets/backgrounds/cyberpunk.png"},a=c[s]||c.SCIFI;return i.jsxs("div",{className:"absolute inset-0 z-0 overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-black"}),i.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-opacity duration-1000 ease-in-out opacity-40",style:{backgroundImage:`url(${a})`}}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.8)_100%)]"}),i.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-[0.03]"})]})}function zh(){const{environment:s}=Ze(),c=j.useMemo(()=>{const d=(s||"").toUpperCase();return d.includes("FOREST")||d.includes("JUNGLE")?{type:"spores",count:20,color:"bg-emerald-400"}:d.includes("CYBERPUNK")||d.includes("CITY")||d.includes("LAB")?{type:"rain",count:30,color:"bg-cyan-400"}:d.includes("HORROR")||d.includes("DUNGEON")?{type:"embers",count:15,color:"bg-red-500"}:d.includes("SPACE")?{type:"stars",count:50,color:"bg-white"}:{type:"dust",count:10,color:"bg-gray-400"}},[s]),a=j.useMemo(()=>Array.from({length:c.count}).map((d,f)=>({id:f,left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,delay:`${Math.random()*5}s`,duration:`${3+Math.random()*5}s`,size:Math.random()*4+1})),[c]);return i.jsxs("div",{className:"absolute inset-0 z-[1] overflow-hidden pointer-events-none",children:[a.map(d=>i.jsx("div",{className:`absolute rounded-full opacity-60 ${c.color} ${Fh(c.type)}`,style:{left:d.left,top:d.top,width:`${d.size}px`,height:`${d.size}px`,animationDelay:d.delay,animationDuration:d.duration}},d.id)),i.jsx("style",{children:`
                @keyframes float-up {
                    0% { transform: translateY(0) translateX(0); opacity: 0; }
                    50% { opacity: 0.8; }
                    100% { transform: translateY(-100px) translateX(20px); opacity: 0; }
                }
                @keyframes rain-drop {
                    0% { transform: translateY(-20px); opacity: 0; }
                    10% { opacity: 1; }
                    100% { transform: translateY(100vh); opacity: 0; }
                }
                @keyframes twinkle {
                    0%, 100% { opacity: 0.2; transform: scale(0.8); }
                    50% { opacity: 1; transform: scale(1.2); }
                }
                @keyframes ember-rise {
                    0% { transform: translateY(0) scale(1); opacity: 1; }
                    100% { transform: translateY(-200px) scale(0); opacity: 0; }
                }

                .animate-spores { animation: float-up linear infinite; }
                .animate-rain { animation: rain-drop linear infinite; height: 20px !important; width: 1px !important; }
                .animate-stars { animation: twinkle ease-in-out infinite; }
                .animate-embers { animation: ember-rise ease-out infinite; }
                .animate-dust { animation: float-up ease-in-out infinite; }
            `})]})}function Fh(s){switch(s){case"spores":return"animate-spores";case"rain":return"animate-rain shadow-[0_0_5px_cyan]";case"stars":return"animate-stars";case"embers":return"animate-embers shadow-[0_0_5px_red]";default:return"animate-dust"}}function Gh(s){const{language:c,apiKey:a,updateUiText:d,uiText:f}=Ze(),[p,g]=j.useState(!1),x=c&&c.toLowerCase()!=="english",_=f.UI[s]!==Gt.English[s];return j.useEffect(()=>{if(!x||!a||!s||_)return;let A=!0;return(async()=>{g(!0);try{const R={[s]:Gt.English[s]},T=await bc(a,c,R);A&&d(c,T,!0)}catch(R){console.error(`Smart Translation failed for ${s}`,R)}finally{A&&g(!1)}})(),()=>{A=!1}},[s,c,a,_,x,d]),{isLoading:p,isTranslated:_}}function Bh({isVisible:s,onHide:c}){const{gameOver:a,resetGame:d,genre:f,uiText:p}=Ze(),{isLoading:g}=Gh("GAME_OVER");return!a||!s?null:i.jsx("div",{className:"fixed inset-0 z-[60] bg-black/90 flex items-center justify-center p-4 animate-in fade-in duration-1000",children:i.jsxs("div",{className:"max-w-md w-full bg-theme-panel border border-red-500/50 rounded-2xl p-8 text-center shadow-2xl shadow-red-900/20 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-red-500/5 animate-pulse"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center text-red-500 mb-2 animate-bounce",children:i.jsx($c,{size:40})}),i.jsx("div",{className:"space-y-2",children:g?i.jsxs("div",{className:"flex flex-col items-center gap-2 animate-pulse text-red-400",children:[i.jsx(eo,{size:24,className:"animate-spin"}),i.jsx("span",{className:"text-xs font-mono tracking-widest",children:"DECIPHERING SIGNAL..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-3xl font-bold text-white tracking-widest uppercase",children:p.UI.GAME_OVER.TITLE}),i.jsx("p",{className:"text-red-400 font-mono text-sm",children:p.UI.GAME_OVER.MESSAGE})]})}),i.jsx("div",{className:"w-full h-px bg-red-500/20"}),i.jsxs("div",{className:"w-full space-y-3",children:[i.jsx("button",{onClick:()=>d(f),className:"group relative px-8 py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded-lg transition-all hover:scale-105 hover:shadow-lg hover:shadow-red-500/30 w-full",children:i.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:[i.jsx(jt,{size:18}),p.UI.GAME_OVER.BUTTON_REBOOT]})}),i.jsx("button",{onClick:c,className:"group relative px-8 py-3 bg-transparent border border-red-500/30 hover:bg-red-500/10 text-red-400 hover:text-red-300 font-bold rounded-lg transition-all w-full",children:i.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2 text-sm",children:[i.jsx(Bc,{size:16}),"VIEW AFTERMATH"]})})]})]})]})})}function Hh({setGameStarted:s}){const{handleAction:c,saveGame:a,loadGame:d,lastOutcome:f,quitGame:p,resetGame:g,genre:x,gameOver:_,qteActive:A,setQteActive:w,feedback:R,triggerFeedback:T,setStats:U,choices:Y,inventory:z,allowCombo:W}=Ze(),[ce,se]=j.useState(!0),[de,F]=j.useState(""),[te,ue]=j.useState(!1),[ie,Se]=j.useState(!1),[Qe,Le]=j.useState(!1),qe=j.useRef(null);to.useEffect(()=>{_&&Se(!0)},[_]);const Ae=M=>{const G=typeof M=="string"?M:de;G.trim()&&(c(G),F(""))},Me=async()=>{await a(),ue(!1)},Ue=()=>{qe.current&&qe.current.click()},Pe=async M=>{const G=M.target.files[0];if(!G)return;await d(G)&&(s(!0),ue(!1)),M.target.value=null};let ge="",me="";return f==="SUCCESS"&&(me="bg-[radial-gradient(circle_at_center,transparent_20%,rgba(16,185,129,0.4)_100%)] mix-blend-hard-light animate-pulse"),f==="FAILURE"&&(ge="animate-shake",me="bg-[radial-gradient(circle_at_center,transparent_20%,rgba(220,38,38,0.6)_100%)] mix-blend-hard-light"),i.jsxs("div",{className:`flex h-screen bg-transparent relative transition-all duration-300 ${ge}`,children:[i.jsx(Dh,{}),i.jsx(zh,{}),f&&i.jsx("div",{className:`absolute inset-0 z-[100] pointer-events-none transition-all duration-300 ${me}`}),i.jsx("input",{type:"file",ref:qe,onChange:Pe,accept:".json",className:"hidden"}),A&&i.jsx(QTEOverlay,{duration:2e3,onComplete:M=>{M==="success"?T("DODGE SUCCESS!","text-yellow-400"):(T("TOO SLOW! -20 HP","text-red-500"),U(G=>({...G,health:Math.max(0,G.health-20)}))),w(!1)}}),R&&i.jsx("div",{className:`fixed left-1/2 top-1/4 -translate-x-1/2 text-3xl font-black tracking-widest z-[200] animate-float-up ${R.color} drop-shadow-[0_2px_2px_rgba(0,0,0,0.8)]`,children:R.msg}),i.jsx(Bh,{isVisible:ie,onHide:()=>Se(!1)}),te&&i.jsx("div",{className:"fixed inset-0 z-[55]",onClick:()=>ue(!1)}),i.jsx(Rh,{isOpen:te,onClose:()=>ue(!1),onSave:Me,onLoad:Ue,onRestart:()=>g(x),onExit:()=>{p(),s(!1)}}),ce&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden transition-opacity",onClick:()=>se(!1)}),i.jsx(Ih,{isSidebarOpen:ce,setIsSidebarOpen:se}),i.jsxs("main",{className:"flex-1 flex flex-col min-w-0 bg-transparent relative transition-colors duration-500 z-10",onClick:()=>{_&&!ie&&Se(!0)},children:[i.jsx(kh,{isSidebarOpen:ce,setIsSidebarOpen:se,isMenuOpen:te,setIsMenuOpen:ue}),i.jsx("div",{className:"flex-1 min-h-0 relative flex flex-col",children:i.jsx("div",{className:"flex-1 min-h-0 flex flex-col",onMouseEnter:()=>Le(!0),onMouseLeave:()=>Le(!1),children:i.jsx(Mh,{handleSend:Ae})})}),i.jsx(bh,{inputValue:de,setInputValue:F,handleSend:Ae,choices:Y,inventory:z,handleAction:c,disabled:_})]})]})}function $h(){const[s,c]=j.useState(!1),{stats:a,setStats:d,inventory:f,setInventory:p,setGameOver:g,setLastOutcome:x,isMockMode:_,setIsMockMode:A,handleAction:w,setQteActive:R}=Ze(),T=()=>{const se=!_;A(se),localStorage.setItem("nexus_mock_mode",se)},U=()=>{d(se=>{const de=Math.max(0,se.health-20);return de===0&&g(!0),{...se,health:de}})},Y=()=>{d(se=>({...se,health:100,energy:100,sanity:100})),g(!1)},z=()=>{const se={name:"Debug Tool",count:1,tags:["tool","debug"],type:"tool",icon:""};p(de=>[...de,se])},W=()=>{p([])},ce=()=>{d(se=>({...se,health:0})),g(!0)};return i.jsxs("div",{className:"fixed bottom-4 right-4 z-[9999] pb-[env(safe-area-inset-bottom)]",children:[i.jsx("button",{onClick:()=>c(!s),className:`p-3 rounded-full shadow-lg transition-all ${s?"bg-red-500 text-white rotate-45":"bg-gray-800 text-gray-400 hover:text-white"}`,children:i.jsx(om,{size:24})}),s&&i.jsxs("div",{className:"absolute bottom-16 right-0 w-64 bg-gray-900 border border-gray-700 rounded-xl shadow-2xl p-4 space-y-4 animate-in slide-in-from-bottom-5 fade-in duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-gray-800 pb-2",children:[i.jsx("h3",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider",children:"Debug Console"}),i.jsx("span",{className:"text-[10px] text-gray-500",children:"v0.1"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-400",children:"Mock LLM Mode"}),i.jsx("button",{onClick:T,className:`text-2xl transition-colors ${_?"text-green-400":"text-gray-600"}`,children:_?i.jsx(lh,{}):i.jsx(nh,{})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>w("mock:success"),className:"flex flex-col items-center justify-center gap-1 p-2 bg-green-900/30 hover:bg-green-900/50 text-green-400 rounded-lg border border-green-900/50 transition-colors",children:[i.jsx(Fc,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Mock Success"})]}),i.jsxs("button",{onClick:()=>w("mock:fail"),className:"flex flex-col items-center justify-center gap-1 p-2 bg-rose-900/30 hover:bg-rose-900/50 text-rose-400 rounded-lg border border-rose-900/50 transition-colors",children:[i.jsx(hm,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Mock Fail"})]}),i.jsxs("button",{onClick:()=>w("mock:cards"),className:"flex flex-col items-center justify-center gap-1 p-2 bg-purple-900/30 hover:bg-purple-900/50 text-purple-400 rounded-lg border border-purple-900/50 transition-colors",children:[i.jsx(jt,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Test Cards"})]}),i.jsxs("button",{onClick:()=>w("mock:loot"),className:"flex flex-col items-center justify-center gap-1 p-2 bg-amber-900/30 hover:bg-amber-900/50 text-amber-400 rounded-lg border border-amber-900/50 transition-colors",children:[i.jsx(kc,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Mock Loot"})]}),i.jsxs("button",{onClick:()=>R(!0),className:"flex flex-col items-center justify-center gap-1 p-2 bg-yellow-900/30 hover:bg-yellow-900/50 text-yellow-400 rounded-lg border border-yellow-900/50 transition-colors",children:[i.jsx(jt,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Trigger QTE"})]})]}),i.jsxs("button",{onClick:Y,className:"flex flex-col items-center justify-center gap-1 p-2 bg-emerald-900/30 hover:bg-emerald-900/50 text-emerald-400 rounded-lg border border-emerald-900/50 transition-colors",children:[i.jsx(si,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Heal All"})]}),i.jsxs("button",{onClick:U,className:"flex flex-col items-center justify-center gap-1 p-2 bg-red-900/30 hover:bg-red-900/50 text-red-400 rounded-lg border border-red-900/50 transition-colors",children:[i.jsx(jt,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Dmg -20"})]}),i.jsxs("button",{onClick:z,className:"flex flex-col items-center justify-center gap-1 p-2 bg-blue-900/30 hover:bg-blue-900/50 text-blue-400 rounded-lg border border-blue-900/50 transition-colors",children:[i.jsx(kc,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Add Item"})]}),i.jsxs("button",{onClick:W,className:"flex flex-col items-center justify-center gap-1 p-2 bg-orange-900/30 hover:bg-orange-900/50 text-orange-400 rounded-lg border border-orange-900/50 transition-colors",children:[i.jsx(sh,{size:16}),i.jsx("span",{className:"text-[10px]",children:"Clear Inv"})]}),i.jsxs("button",{onClick:ce,className:"flex flex-col items-center justify-center gap-1 p-2 bg-red-950/50 hover:bg-red-900/80 text-red-500 rounded-lg border border-red-900/50 transition-colors col-span-2",children:[i.jsx(Hc,{size:16}),i.jsx("span",{className:"text-[10px]",children:"KILL PLAYER (TEST GAME OVER)"})]})]})]})]})}function Vh(){const{genre:s,history:c,resetGame:a,initializeGame:d,uiText:f}=Ze();if(!f||!f.UI)return i.jsx("div",{className:"h-screen bg-black text-white flex items-center justify-center",children:"Loading Neural Interface..."});const[p,g]=j.useState(!1),x=!p&&s&&s!=="default"&&(!c||c.length===0);return i.jsxs("div",{"data-theme":s,className:"h-screen bg-theme-main text-theme-text font-sans selection:bg-theme-accent/30 selection:text-theme-accent transition-all duration-300",children:[p?i.jsx(Hh,{setGameStarted:g}):x?i.jsx(Nh,{genre:s,onComplete:_=>{d(_),g(!0)},onBack:()=>a("default")}):i.jsx(yh,{onSelect:_=>{a(_,!0)},onContinue:()=>g(!0)}),i.jsx($h,{})]})}Zf.createRoot(document.getElementById("root")).render(i.jsx(j.StrictMode,{children:i.jsx(Kp,{children:i.jsx(Vh,{})})}));
